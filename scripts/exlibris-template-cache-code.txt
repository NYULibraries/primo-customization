angular.module('primo-explore.config').run(['$templateCache', function($templateCache) {$templateCache.put('components/infra/formBuilder/field/form-field-radio.html','<md-input-container layout="row" layout-align="start start" ng-class="{\'md-required\':$ctrl.field.mandatory}">\r\n    <md-radio-group ng-model="$ctrl.formData[$ctrl.field.name]" title="{{$ctrl.field.tooltip}}"\r\n    \t\t\t    layout="{{$ctrl.mediaQueries.gtxs ? ($ctrl.field.style && $ctrl.field.style.layout ? $ctrl.field.style.layout : \'row\') : \'column\'}}"\r\n    \t\t\t    layout-align="{{$ctrl.mediaQueries.gtxs&&(!$ctrl.field.style||$ctrl.field.style.layout != \'column\' ) ? \'start center\': \'center start\'}}" >\r\n        <p ng-if="$ctrl.field.label" class="label" flex="noshrink" for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></p>\r\n        <div {{$ctrl.field.style && $ctrl.field.style.layout === \'column\' ? \'flex\' : \'\'}}\r\n        \tlayout="row" layout-align="start center"\r\n        \tclass="layout-align-start-center layout-row\r\n        \t\t{{$ctrl.field.style && $ctrl.field.style.layout === \'column\' ? \'flex\' : \'\'}}"\r\n        \tng-repeat="option in $ctrl.field.options">\r\n\r\n\t        <md-radio-button  value="{{option.value}}"\r\n\t        \t\t\t\t (click)="$ctrl.field.events.onClick($ctrl.field.events.params)" >\r\n\t        \t<span translate="{{option.label}}"></span>\r\n\r\n\t\t        <div ng-if="option.info" class="inline-help ng-scope">\r\n\t\t        \t<md-tooltip>\r\n\t \t\t\t\t\t{{option.info | translate}}\r\n\t \t\t\t\t</md-tooltip>\r\n\r\n\t\t        \t<prm-icon\r\n\t\t\t              [icon-type]="::$ctrl.actionIcons.info.type"\r\n\t\t\t              [svg-icon-set]="::$ctrl.actionIcons.info.iconSet"\r\n\t\t\t              [icon-definition]="::$ctrl.actionIcons.info.icon">\r\n\t\t\t\t    </prm-icon>\r\n\r\n\t\t        </div>\r\n\t        </md-radio-button>\r\n        </div>\r\n    </md-radio-group>\r\n</md-input-container>\r\n');
$templateCache.put('components/account/account.html','<div layout="column" layout-fill class="header relative-position"><prm-topbar [links]="$ctrl.skipLinks"></prm-topbar></div><md-toolbar class="default-toolbar"><div class="md-toolbar-tools" layout="row"><div flex="0" flex-md="5" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus}"></div><md-button aria-label="{{\'nui.aria.account.back\' | translate}}" ng-show="$ctrl.displayBackToSearchLink" class="back-button offset-to-left" (click)="$ctrl.backToSearch()" id="backtosearch" role="link"><md-tooltip md-delay="400"><span translate="nui.aria.account.back"></span></md-tooltip><prm-icon svg-icon-set="{{::$ctrl.accountIcons.backToSearch.iconSet}}" icon-type="{{::$ctrl.accountIcons.backToSearch.type}}" icon-definition="{{::$ctrl.accountIcons.backToSearch.icon}}"></prm-icon></md-button><md-divider class="toolbar-divider visible"></md-divider><h1 class="toolbar-title"><span ng-if="$ctrl.isOvp()" translate="menu.myaccount.my_library_card"></span> <span ng-if="!$ctrl.isOvp()" translate="nui.details.header.ovl"></span></h1><prm-linked-user-selector></prm-linked-user-selector></div></md-toolbar><md-content layout="row" layout-fill class="padded-container" layout-align="center start"><div flex="0" flex-md="$ctrl.numOfInstitutions() ? 0 : 5 " flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus}"></div><div class="main" layout="row" flex><prm-account-overview ng-if="$ctrl.isOvp()" layout-fill></prm-account-overview><prm-personal-info flex ng-if="!$ctrl.isOvp()" layout-fill></prm-personal-info></div><div flex="0" flex-md="5" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus}"></div></md-content><prm-account-after parent-ctrl="$ctrl"></prm-account-after>');
$templateCache.put('components/blankIll/blank-ill.html','<div layout="column" layout-fill class="header relative-position"><prm-topbar></prm-topbar><h1 class="accessible-only" translate="nui.aria.page.blankIll"></h1></div><prm-spinner ng-if="$ctrl.getRequestIsLoading()" class="default-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><md-tabs md-dynamic-height md-dynamic- md-selected="$ctrl.selectedTab" ng-show="!$ctrl.getRequestIsLoading()" class="tabs-as-app hidden-tabs"><md-tab></md-tab><md-tab></md-tab><md-tab label="Request Form"><md-content layout="column" layout-align="center center" ng-class="{\'padding-small\':$ctrl.mediaQueries.xs}"><prm-request class="margin-top-medium width-100 wide-form" blank-service="AlmaResourceSharing" (change-tab-event)="$ctrl.onChangeTabEvent($event)" layout="column"></prm-request></md-content></md-tab><md-tab label="Request reply"><md-content><div ng-class="$ctrl.responseStatus.isSuccess ? \'success-bar\': \'error-bar\'" class="bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span translate-default="{{$ctrl.getResponseMessage()}}" translate="{{$ctrl.getResponseMessage()}}"></span></div></md-content></md-tab></md-tabs><div ng-if="$ctrl.displayErrorMessage && !$ctrl.getRequestIsLoading()" class="margin-bottom-medium zero-padding-bottom ng-scope" layout="row" layout-align="center center"><div flex-gt-lg="15" flex="0"></div><md-card class="default-card"><md-card-content><h2 class="light-text" translate="nui.search.error.blankill.header"></h2><p><span class="display-block" translate="nui.search.error.blankill.description1"></span> <span class="display-block" translate="nui.search.error.blankill.description2"></span></p></md-card-content></md-card><div flex-gt-lg="15" flex="0" class="flex-gt-lg-15 flex-0"></div></div><prm-report-problem ng-if="$ctrl.isReportProblem()"></prm-report-problem><prm-blank-ill-after parent-ctrl="$ctrl"></prm-blank-ill-after>');
$templateCache.put('components/citationLinker/citation-linker.html','<div id="citationLinker"><header layout="row"><div flex="0" flex-md="15" flex-lg="20" flex-xl="30"></div><div class="padding-medium padding-bottom-zero margin-bottom-medium" flex><h1 class="light-text margin-bottom-tiny" ng-style="$mdMedia(\'xs\') && {\'font-size\': \'1.5em\'}"><span translate="nui.citationLinker.title1"></span> <small translate="nui.citationLinker.title2"></small></h1><p><span translate="nui.citationLinker.helptext1"></span><br><span translate="nui.citationLinker.helptext2"></span></p></div><div flex="0" flex-md="15" flex-lg="20" flex-xl="30"></div></header><main tabindex="-1" role="search" layout="row" aria-label="{{\'nui.aria.navigationRegionCitationLinker\' | translate}}"><div flex="0" flex-md="15" flex-lg="20" flex-xl="30"></div><div class="padding-left-medium padding-right-medium margin-bottom-large" layout="column" flex><div class="form-focus" layout="column" flex ng-class="{\'flex-basis-auto\': $ctrl.isIe}"><form class="request-form" ng-cloak action="{{$ctrl.getBaseURL()}}" name="citationLinker" method="get" target="_blank" enctype="application/x-www-form-urlencoded; charset=utf-8"><div class="form-shaded-content padding-medium" layout="row"><md-radio-group layout="row" ng-model="$ctrl.activeTab" ng-change="$ctrl.changeTab()"><md-radio-button ng-repeat="tab in ::$ctrl.tabs" value="{{tab}}"><span translate="citationLinker.{{tab}}"></span></md-radio-button></md-radio-group></div><input ng-if="$ctrl.isSuprima()" type="hidden" name="institution" id="institution" value="{{$ctrl.institutionCode}}"/> <input ng-if="$ctrl.isSuprima()" type="hidden" name="vid" id="vid" value="{{$ctrl.vid}}"/> <input type="hidden" name="ctx_ver" id="ctx_ver" value="Z39.88-2004"/> <input type="hidden" name="rft.genre" id="rft.genre" value="{{$ctrl.activeTab}}"/> <input type="hidden" name="ctx_enc" id="ctx_enc" value="info:ofi/enc:UTF-8"/> <input type="hidden" name="url_ver" id="url_ver" value="Z39.88-2004"/> <input type="hidden" name="url_ctx_fmt" id="url_ctx_fmt" value="infofi/fmt:kev:mtx:ctx"/> <input type="hidden" name="rfr_id" id="rfr_id" value="info:sid/primo.exlibrisgroup.com:primo4-{{$ctrl.activeTab}}-cLinker"/> <input type="hidden" name="rft_val_fmt" id="rft_val_fmt" value="info:ofi/fmt:kev:mtx:{{$ctrl.activeTab}}"/> <input type="hidden" name="isCitationLinker" id="isCitationLinker" value="Y"/> <input ng-if="!$ctrl.isSfx()" type="hidden" name="lang" id="lang" value="{{$ctrl.getInterfaceLanguage()}}"/> <input ng-if="$ctrl.isJtitle && !$ctrl.isSuprima()" type="hidden" name="sfx.title_search" id="sfx.title_search" value="{{$ctrl.getTitleSearch()}}"/> <input ng-if="$ctrl.isDate" type="hidden" name="rft.date" id="isCitationLinker" value="{{$ctrl.calcDate()}}"/> <input ng-if="$ctrl.isDoi && $ctrl.isOpenURLFieldFilled(\'rft.doi\')" type="hidden" name="rft_id" id="rft_id" value="info:doi/{{$ctrl.formData[\'rft.doi\']}}"/> <input ng-if="$ctrl.isPmid && $ctrl.isOpenURLFieldFilled(\'rft.pmid\')" type="hidden" name="rft_id" id="rft_id" value="info:pmid/{{$ctrl.formData[\'rft.pmid\']}}"/> <input ng-if="::$ctrl.isRapido()" type="hidden" name="Rapido" id="Rapido" value="true"/><div class="padding-large" layout="column" layout-align-gt-xs="start start" layout-align-xs="strech"><div class="request-form-group" layout="row" layout-xs="column" ng-repeat="group in $ctrl.sortedOpenURLFields"><div ng-class="{\'request-form-group-item\':!$ctrl.detectMobile()}" layout="row" layout-xs="column" ng-repeat="field in group"><prm-form-field [field]="field" [data]="$ctrl.formData" [form]="::this.citationLinker"></prm-form-field><md-input-container class="underlined-input" ng-if="$ctrl.isSfx() && field.name == \'rft.jtitle\'"><md-select ng-model="$ctrl.titleSearch"><md-option ng-repeat="option in $ctrl.journalTitleDropdown" ng-value="option" translate="citationLinker.{{option}}"></md-option></md-select></md-input-container></div></div></div><div class="padding-small" layout="row"><md-button (click)="$ctrl.clearForm()" class="button-secondary button-with-icon" aria-label="{{(\'nui.citationLinker.reset\' | translate)}}"><prm-icon icon-type="svg" svg-icon-set="navigation" icon-definition="ic_refresh_24px"></prm-icon><span translate="nui.citationLinker.reset"></span></md-button><span flex></span><md-button type="submit" ng-disabled="citationLinker.$invalid" class="button-confirm button-large button-with-icon" aria-label="{{\'nui.aria.newspapers.submitForm\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span translate="nui.citationLinker.submit"></span></md-button></div></form></div></div><div flex="0" flex-md="15" flex-lg="20" flex-lg-plus="" flex-xl="30"></div></main></div><prm-citation-linker-after parent-ctrl="$ctrl"></prm-citation-linker-after>');
$templateCache.put('components/clipboard/copy-clipboard-btn.html','<md-button ng-click="$ctrl.copyToClip()"\r\n\t\t   ng-if="$ctrl.isSupported  && $ctrl.type == \'style\'"\r\n\t\t   ng-hide="$ctrl.copySuccessful"\r\n\t\t   type="button"\r\n\t\t   text="$ctrl.textToCopy"\r\n\t\t   data-qa="{{\'copy_btn_\'+ $ctrl.action + \'_action\'}}"\r\n\t\t   id="copy-citation-button"\r\n           class="button-confirm button-with-icon"\r\n           aria-label="{{::$ctrl.getAriaLabel()}}">\r\n  <prm-icon icon-type="svg"\r\n              svg-icon-set="primo-ui"\r\n              icon-definition="clipboard">\r\n    </prm-icon>\r\n    <span translate="{{$ctrl.buttonText}}"></span>\r\n</md-button>\r\n\r\n<md-button ng-click="$ctrl.saveOffset()"\r\n           ng-if="$ctrl.isSupported && $ctrl.type != \'style\'"\r\n           ng-hide="$ctrl.copySuccessful"\r\n           clipboard\r\n           type="button"\r\n           text="$ctrl.textToCopy"\r\n           data-qa="{{\'copy_btn_\'+ $ctrl.action + \'_action\'}}"\r\n           on-copied="$ctrl.clipboardSuccess() | translate"\r\n           on-error="$ctrl.clipboardFailure(err) | translate"\r\n           id="copy-citation-button"\r\n           class="button-confirm button-with-icon"\r\n           aria-label="{{::$ctrl.getAriaLabel()}}">\r\n    <prm-icon icon-type="svg"\r\n              svg-icon-set="primo-ui"\r\n              icon-definition="clipboard">\r\n    </prm-icon>\r\n    <span translate="{{$ctrl.buttonText}}"></span>\r\n</md-button>\r\n\r\n<md-button ng-if="!$ctrl.isSupported"\r\n           ng-hide="$ctrl.copySuccessful"\r\n           ng-click="$ctrl.clipboardSuccess()"\r\n           type="button"\r\n           id="copy-citation-button"\r\n           data-qa="{{\'copy_btn_\'+ $ctrl.action + \'_action\'}}"\r\n           class="button-confirm button-with-icon">\r\n    <prm-icon icon-type="svg"\r\n              svg-icon-set="primo-ui"\r\n              icon-definition="clipboard">\r\n    </prm-icon>\r\n    <span translate="{{$ctrl.buttonText}}"></span>\r\n</md-button>\r\n\r\n<div ng-if="$ctrl.copySuccessful"\r\n     layout="row"\r\n     layout-align="center center"\r\n     layout-padding\r\n     class="zero-padding-top">\r\n    <prm-icon icon-type="svg"\r\n              svg-icon-set="primo-ui"\r\n              icon-definition="check">\r\n    </prm-icon>\r\n    <span translate="{{$ctrl.buttonText}}" role="alert"></span>\r\n</div>\r\n\r\n\n<prm-copy-clipboard-btn-after parent-ctrl="$ctrl"></prm-copy-clipboard-btn-after>');
$templateCache.put('components/collection/collection-discovery.html','<div class="collections-wrapper"><md-toolbar><div class="md-toolbar-tools"><div class="collection-nav" layout="column"><prm-collection-breadcrumbs coll_id="{{$ctrl.colId}}" curr_col_name="{{$ctrl.highlightedCollection.name}}" bvid="{{$ctrl.vid}}" colayout="{{$ctrl.colayout}}" inst="{{$ctrl.inst}}"></prm-collection-breadcrumbs><h2 class="collection-title" layout="row" layout-align="start center" ng-show="$ctrl.highlightedCollection"><prm-icon icon-type="{{$ctrl.collectionIcons.leftArrow.type}}" svg-icon-set="{{$ctrl.collectionIcons.leftArrow.iconSet}}" icon-definition="{{$ctrl.collectionIcons.leftArrow.icon}}"></prm-icon><span>{{$ctrl.highlightedCollection.name}}</span></h2></div><span flex></span><div layout="row" class="collection-actions" ng-init="toggleList={layoutParam : $ctrl.colayout, materailLayout : ($ctrl.colayout === \'list\' ? \'column\' : \'row\')}"><md-button class="md-icon-button" aria-label="{{\'nui.aria.collection.list\' | translate}}" aria-label="View Collections as List" (click)="toggleList={layoutParam : \'list\' , materailLayout :  \'column\' };"><prm-icon id="noam" class="md-icon-button" icon-type="{{$ctrl.collectionIcons.listView.type}}" svg-icon-set="{{$ctrl.collectionIcons.listView.iconSet}}" icon-definition="{{$ctrl.collectionIcons.listView.icon}}"></prm-icon></md-button><md-button class="md-icon-button" aria-label="{{\'nui.aria.collection.grid\' | translate}}" (click)="toggleList={layoutParam : \'grid\' , materailLayout :  \'row\' };"><prm-icon class="md-icon-button selected" icon-type="{{$ctrl.collectionIcons.gridView.type}}" svg-icon-set="{{$ctrl.collectionIcons.gridView.iconSet}}" icon-definition="{{$ctrl.collectionIcons.gridView.icon}}"></prm-icon></md-button></div></div></md-toolbar><md-content><div class="collections-container tile-view" layout="row" layout-fill layout-wrap><md-card class="collection-cover" layout="row" ng-show="$ctrl.highlightedCollection != \'\'"><div class="cover-image-container" flex flex-order="1" flex-order-gt-xs="2"><img class="md-card-image" src="{{$ctrl.highlightedCollection.thumbnail}}"></div><md-card-content flex><p ng-bind-html="$ctrl.highlightedCollection.description"></p><div class="md-actions" layout="row" layout-align="end center"><md-button aria-label="{{\'nui.aria.collection.focus\' | translate:\'{name: \\\'\'+$ctrl.highlightedCollection.name+\'\\\'}\'}}" class="anchor-link" (click)="$ctrl.handleViewHighlightedCol($ctrl.highlightedCollection)" ng-show="$ctrl.colId==0 && $ctrl.highlightedCollection.collections"><span translate="colldiscovery.viewcoll.toplevel"></span></md-button><md-button aria-label="{{\'nui.aria.collection.items\' | translate:\'{name: \\\'\'+$ctrl.highlightedCollection.name+\'\\\'}\'}}" class="anchor-link" ng-href="/primo_library/libweb/action/dlSearch.do?vid={{$ctrl.vid}}&institution={{$ctrl.inst}}&query=cdparentid,exact,{{$ctrl.colId}}&loc=scope:({{$ctrl.inst}})&displayquery=false" ng-show="$ctrl.highlightedCollection.items==\'Y\'"><span translate="colldiscovery.viewitems"></span></md-button></div></md-card-content></md-card><section class="collection-section"><div ng-class="\'layout-\'+toggleList.materailLayout" layout="{{toggleList.materailLayout}}" layout-xs="column" layout-sm="column" layout-wrap flex="100"><div class="collection-item keep" flex-gt-lg="25" flex-lg="33" flex-md="50" flex-xs="100" flex-sm="100" ng-repeat="item in $ctrl.allCollections" ng-if="item!=$ctrl.highlightedCollection"><md-card layout="row"><div class="md-card-image keep" style="background-image: url({{item.thumbnail}});" flex-order="2" layout="column"></div><md-card-content layout="column" flex="60"><h2 class="md-title">{{item.name}}</h2><p ng-bind-html="item.description"></p><section layout="row" layout-xs="column" layout-sm="column" layout-align-gt-md="start end" layout-align="start start" layout-wrap><span layout="row" layout-gt-md="column" flex="100"><md-button aria-label="{{\'nui.aria.collection.focus\' | translate:\'{name: \\\'\'+item.name+\'\\\'}\'}}" class="md-raised" ng-href="collectionDiscovery.do?collectionId={{item.pid.value}}&vid={{$ctrl.vid}}&colayout={{toggleList.layoutParam}}&inst={{$ctrl.inst}}"><span translate="colldiscovery.viewcoll.sub"></span><span class="chevron-right"></span></md-button></span></section></md-card-content></md-card></div></div></section></div></md-content></div><prm-collection-after parent-ctrl="$ctrl"></prm-collection-after>');
$templateCache.put('components/collectionDiscovery/collection-discovery.html','<prm-collection-gallery-header [is-gallery-lobby]="::$ctrl.isGalleryLobby" [current-collection]="::$ctrl.currentCollection" [current-collection-record]="::$ctrl.currentCollectionRecord" [path]="::$ctrl.path" [institution]="::$ctrl.institution"></prm-collection-gallery-header><prm-collection-gallery ng-if="::$ctrl.currentCollection" [is-gallery-lobby]="::$ctrl.isGalleryLobby" [current-collection]="::$ctrl.currentCollection" [path]="::$ctrl.path"></prm-collection-gallery><prm-collection-discovery-after parent-ctrl="$ctrl"></prm-collection-discovery-after>');
$templateCache.put('components/favorites/favorites-unpin-confirm-dialog.html','<md-dialog class="in-element-dialog" aria-label="{{\'nui.aria.unpin.dialog.description\' | translate}}" aria-labelledby="ctrl.selectTypeToPass === \'single\' ? singleItemText : multipleItemsText" role="dialog" layout="column" ng-style="ctrl.selectTypeToPass === \'multiple\' && ((ctrl.isFixedDialog) ? {\'position\' : \'fixed\', \'height\' : \'70px\'} : {\'position\' : \'relative\'})" style="z-index: 10; width: 100%; top: 0px; margin-top: 0px;"><form layout="row" ng-class="ctrl.selectTypeToPass === \'multiple\' ? \'centerize-content\' : \'end-content\'" layout-fill><md-dialog-content><div class="md-dialog-content bold-text" layout-align="center"><span ng-if="ctrl.selectTypeToPass === \'single\'" translate="nui.favorites.removeSingleItem" id="singleItemText"></span> <span ng-if="ctrl.selectTypeToPass === \'multiple\'" translate="nui.favorites.removeSelected" id="multipleItemsText"></span></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="ctrl.hide()" aria-label="{{ctrl.selectTypeToPass === \'single\' ? \'nui.aria.favorites.confirm.no\' : \'nui.aria.favorites.multiple.confirm.no\' | translate}}"><span ng-if="ctrl.selectTypeToPass === \'single\'" translate="nui.favorites.remove.no"></span> <span ng-if="ctrl.selectTypeToPass === \'multiple\'" translate="nui.favorites.removeSelected.no"></span></md-button><md-button class="dialog-primary button-confirm" ng-click="ctrl.removeIt(); ctrl.hide();" aria-label="{{ctrl.selectTypeToPass === \'single\' ? \'nui.aria.favorites.confirm.ok\' : \'nui.aria.favorites.multiple.confirm.ok\' | translate}}"><span ng-if="ctrl.selectTypeToPass === \'single\'" translate="nui.favorites.remove.ok"></span> <span ng-if="ctrl.selectTypeToPass === \'multiple\'" translate="nui.favorites.removeSelected.ok"></span></md-button></div></form></md-dialog>');
$templateCache.put('components/favorites/favorites.html','<prm-favorites-tool-bar layout="column"></prm-favorites-tool-bar><div layout="row" role="document"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><md-tabs flex md-selected="$ctrl.selectedTabIndex" md-dynamic-height md-border-bottom class="default-tabs"><md-tab id="tab1" md-on-select="$ctrl.onSavedItemsSelect();"><md-tab-label><span translate="nui.favorites.records.tabheader"></span></md-tab-label><md-tab-body><md-content class="main" layout="row" layout-align="center start" flex ng-class="{\'padded-container\': $ctrl.mediaQueries.gtxs}"><div flex><prm-search-result-list flex [itemlist]="$ctrl.getItems()" [is-favorites]="true" (on-search-in-list-event)="$ctrl.searchInList($event)"></prm-search-result-list></div><div class="sidebar mobile-layout" flex-md="25" flex-lg="20" flex-xl="20" layout="column" id="favoritesLabels" role="contentinfo" ng-show="$ctrl.mediaQueries.gtsm || $ctrl.showMobileLabels"><div tabindex="-1" hide-gt-sm class="sidebar-section compensate-padding-left padding-top-small"><h2 class="sidebar-title" translate="nui.sortAndlabels.title"></h2></div><div class="sidebar-section margin-bottom-small compensate-padding-left" ng-class="{\'margin-left-medium\': $ctrl.mediaQueries.gtsm}" layout="row" ng-if="$ctrl.getItems().length > 1"><div layout="row" layout-align="start center" class="section-title"><h3 class="section-title-header"><span translate="nui.favorites.sortby" translate-attr-title="nui.favorites.sortby.tooltip"></span></h3><md-input-container class="static-select empty-select-on-init" layout="row" ng-if="!$ctrl.sortInProgress"><md-select ng-model="$ctrl.favoritesService.sortBy" ng-change="$ctrl.favoritesService.sortAllFavFromDropdown()" translate-attr="::{\'aria-label\': \'nui.aria.favorites.sortByFavorites\'}"><md-option ng-repeat="sort in $ctrl.favoritesService.sortOptions" value="{{sort}}"><span translate="nui.favorites.sort.{{sort}}"></span></md-option></md-select></md-input-container></div></div><prm-favorites-labels ng-if="$ctrl.getItems().length > 0" class="layout-full-width" (on-click-label-event)="$ctrl.filterByLabel($event)"></prm-favorites-labels></div><md-toolbar ng-if="$ctrl.showMobileLabels" class="default-toolbar bottom-fixed-toolbar mobile-toolbar" style="z-index: 13;" hide-gt-sm><div flex-md="25" flex-lg="20" layout="row" layout-align="center center" style="height: 60px; max-height: 60px" ng-class="{\'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus, \'flex-xl-20\': $ctrl.mediaQueries.xl, \'flex-xl-25\': $ctrl.mediaQueries}" class="labels-toolbar"><md-button class="button-large-xl md-button md-ink-ripple mobile-toolbar-text" translate-attr="{\'aria-label\': \'nui.labels.close\'}" (click)="$ctrl.showMobileLabels = !$ctrl.showMobileLabels"><span translate="nui.labels.close"></span></md-button></div></md-toolbar></md-content><md-toolbar ng-if="$ctrl.showMobileFacets" class="default-toolbar bottom-fixed-toolbar" hide-gt-sm><div class="md-toolbar-tools" layout="row" layout-align="center "><md-button id="sidebar-trigger" class="button-with-icon layout-full-height" aria-label="{{::(\'nui.facets.title\' | translate)}}" (click)="$ctrl.showMobileFacets = !$ctrl.showMobileFacets"><prm-icon ng-if="$ctrl.showMobileFacets" icon-type="svg" svg-icon-set="primo-ui" icon-definition="filterOut"></prm-icon><prm-icon ng-if="!$ctrl.showMobileFacets" icon-type="svg" svg-icon-set="primo-ui" icon-definition="filter"></prm-icon><span ng-if="!$ctrl.showMobileFacets" translate="nui.favorites.labels.header"></span> <span ng-if="$ctrl.showMobileFacets" translate="nui.facets.close"></span></md-button></div></md-toolbar></md-tab-body></md-tab><md-tab ng-if="$ctrl.isSignedIn() && $ctrl.requiredTabsList.indexOf(\'loans\') !== -1" md-on-select="$ctrl.onSavedQueriesSelect();" id="tab2"><md-tab-label><span translate="nui.favorites.search.tabheader"></span></md-tab-label><md-tab-body><md-content class="main" layout="row" layout-align="center start" flex ng-class="{\'padded-container\': $ctrl.mediaQueries.gtxs}"><prm-saved-queries flex></prm-saved-queries></md-content></md-tab-body></md-tab><md-tab ng-if="($ctrl.requiredTabsList.indexOf(\'loans\') !== -1) && ($ctrl.showSearchHistoryTab())" md-on-select="$ctrl.onSearchHistorySelect();" id="tab2"><md-tab-label><span translate="nui.favorites.history.tabheader"></span></md-tab-label><md-tab-body><md-content class="main" layout="row" layout-align="center start" flex ng-class="{\'padded-container\': $ctrl.mediaQueries.gtxs}"><prm-search-history flex></prm-search-history></md-content></md-tab-body></md-tab></md-tabs><div flex="0" flex-md="0" flex-lg="5" flex-xl="10" ng-class="{\'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus}"></div></div><prm-favorites-after parent-ctrl="$ctrl"></prm-favorites-after>');
$templateCache.put('components/icon/icon.html','<md-icon ng-if="($ctrl.iconDefinition && !$ctrl.isCustom && !$ctrl.isEmailMode()) && !$ctrl.useFallBack" md-svg-icon="{{::$ctrl.svgIconSet}}:{{::$ctrl.iconDefinition}}" role="presentation"></md-icon><md-icon ng-if="($ctrl.iconDefinition && $ctrl.isCustom && !$ctrl.isEmailMode())" md-svg-icon="custom-ui:{{::$ctrl.iconDefinition}}" role="presentation"></md-icon><md-icon ng-if="($ctrl.iconDefinition  && !$ctrl.isCustom && $ctrl.useFallBack && !$ctrl.isEmailMode())" md-svg-icon="{{::$ctrl.svgIconSet}}:{{::$ctrl.fallBackDefinition}}" role="presentation"></md-icon><prm-icon-after parent-ctrl="$ctrl"></prm-icon-after>');
$templateCache.put('components/infra/highlight.html','<span ng-if="::$ctrl.isEmailMode()" ng-bind-html="$ctrl.text" dir="auto"></span> <span ng-if="::(!$ctrl.isEmailMode())" ng-bind-html="$ctrl.highlightedText" dir="auto"></span>');
$templateCache.put('components/journals/atoz-search-bar.html','<div tabindex="-1" role="search" aria-label="{{\'nui.aria.navigationRegionAZSearch\' | translate}}" layout="row"><div flex="0" flex-md="0" flex-lg="15" flex-xl="20" ng-class="{\'flex-lgPlus-15\' : $ctrl.mediaQueries.lgPlus}"></div><div layout="column" flex flex-sm="85" flex-md="75" flex-lg="{{$ctrl.isSuprima() ? \'55\' : \'60\'}}" flex-xl="{{$ctrl.isSuprima() ? \'50\' : \'60\'}}"><div class="search-elements-wrapper" layout="row"><form name="search-form" ng-submit="$ctrl.onSubmit()" class="layout-full-width"><input type="submit" class="accessible-only" tabindex="-1" aria-hidden="true"><div class="classic-input simple-search-wrapper" layout="row" layout-fill tabindex="-1"><div class="search-scope journal-search-tile" layout="column" layout-align="center start"><span translate="{{::$ctrl.title}}"></span></div><md-autocomplete flex md-no-float id="autoComplete" md-input-id="searchBarJournal" md-search-text="$ctrl.mainSearchField" md-selected-item-change="$ctrl.onSubmit()" md-items="item in $ctrl.getAutoCompleteItems()" md-item-text="item.display" md-min-length="0" placeholder="{{$ctrl.placeHolderText}}"><md-item-template><span ng-bind="item.display"></span></md-item-template></md-autocomplete><md-button class="submit-button button-confirm" aria-label="{{\'nui.aria.submitSearch\' | translate}}" (click)="$ctrl.onSubmit()"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon></md-button></div></form></div><div ng-if="$ctrl.enableAtoZView()" tabindex="-1" layout="row"><prm-alphabet-toolbar flex (selected-letter)="$ctrl.onSubmit($event)" [cur-active-letter]="$ctrl.selectedLetter"></prm-alphabet-toolbar></div><div layout="row" ng-if="$ctrl.showSignIn"><div flex="0" flex-md="0" flex-lg="15" flex-xl="20"></div><prm-alert-bar flex [alert-object]="$ctrl.signInAlert"></prm-alert-bar><div class="padding-left-medium" flex="0" flex-md="25" flex-lg="10" flex-xl="15" hide-xs></div><div flex="0" flex-md="0" flex-sm="10" flex-lg="20" flex-xl="20"></div></div></div></div><prm-atoz-search-bar-after parent-ctrl="$ctrl"></prm-atoz-search-bar-after>');
$templateCache.put('components/journals/databases-full-view.html','<prm-full-view-page></prm-full-view-page><prm-databases-full-view-after parent-ctrl="$ctrl"></prm-databases-full-view-after>');
$templateCache.put('components/journals/databases.html','<prm-search></prm-search><prm-databases-after parent-ctrl="$ctrl"></prm-databases-after>');
$templateCache.put('components/journals/journals-full-view.html','<prm-full-view-page></prm-full-view-page><prm-journals-full-view-after parent-ctrl="$ctrl"></prm-journals-full-view-after>');
$templateCache.put('components/journals/journals-search.html','<prm-search></prm-search><prm-journals-after parent-ctrl="$ctrl"></prm-journals-after>');
$templateCache.put('components/journals/search-within-journal.html','<p class="margin-bottom-large" translate="nui.journalsearch.searchwithin.desc"></p><div class="classic-input" layout="row"><form layout="row" flex ng-submit="$ctrl.onSubmit()"><md-input-container flex><label translate="nui.journalsearch.searchwithin.help"></label> <input ng-model="$ctrl.searchInput" autocomplete="off"></md-input-container><md-button class="submit-button button-confirm" aria-label="Search" ng-click="$ctrl.onSubmit()"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon></md-button></form></div><prm-search-within-journal-after parent-ctrl="$ctrl"></prm-search-within-journal-after>');
$templateCache.put('components/newspapers/back-to-library-search.html','<md-toolbar class="default-toolbar zero-padding" sticky sticky-class="is-stuck" disabled-sticky="true"><div class="md-toolbar-tools zero-padding" layout="row"><div flex="0" flex-md="0" flex-lg="10" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}" flex-xl="20"></div><md-button class="back-button has-text" ng-click="$ctrl.backToSearch()" aria-label="{{\'nui.backTo.librarySearch\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><span translate="nui.newspapers.back"></span></md-button></div></md-toolbar><prm-back-to-library-search-after parent-ctrl="$ctrl"></prm-back-to-library-search-after>');
$templateCache.put('components/newspapers/newspapers-home.html','<md-content ng-if="$ctrl.firstTimeInLandingPage" class="padded-container" layout="row" layout-align="center start" flex><div flex="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><div layout="column" layout-sm="column" layout-xs="column" flex layout-align="center start"><div class="padding-large"><h2 translate="nui.newspapers_search.title"></h2><p ng-if="!$ctrl.displayFeaturedNewspapers()" translate="nui.newspapers_search.desc_nofeatured"></p><p ng-if="$ctrl.displayFeaturedNewspapers()" translate="nui.newspapers_search.desc_withfeatured"></p></div><div ng-if="$ctrl.displayFeaturedNewspapers()" class="padding-large layout-full-width"><div class="margin-bottom-large" layout="row" layout-align="start end"><h2 class="margin-bottom-zero margin-right-medium" translate="nui.newspapers_search.featured.title"></h2></div><div layout="row" layout-wrap class="newspapers-card-container"><md-card ng-repeat="feature in $ctrl.featuredNewspapers" class="default-card" flex="auto"><md-button ng-click="$ctrl.goToFeaturedNewspaper($index)"><h3>{{ \'nui.newspapers_search.featured.\'+feature.name | translate }}</h3><p ng-if="feature.description">{{ \'nui.newspapers_search.featured.\'+feature.description | translate}}</p></md-button></md-card></div></div></div><div flex="0" flex-md="20" flex-lg="25" flex-xl="30" ng-class="{\'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus}"></div></md-content><prm-search ng-if="!$ctrl.firstTimeInLandingPage"></prm-search><prm-newspapers-home-after parent-ctrl="$ctrl"></prm-newspapers-home-after>');
$templateCache.put('components/paging/paging-bar.html','<div class="page-nav margin-top-medium" ng-cloak layout="column" layout-align="center center"><div layout="row" layout-align="center center" class="page-nav-inner"><div class="counter-nav counter-prev" ng-class="{\'hide\': !$ctrl.showGoToFirstPageButton}"><md-button class="md-mini zero-margin" ng-click="$ctrl.moveToPage(1)" aria-label="{{$ctrl.pagingBarLabels.firstPage | translate}}" href=""><md-tooltip md-direction="{{$ctrl.getTooltipDirection(true)}}"><span translate="{{$ctrl.pagingBarLabels.firstPage}}"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="double-chevron-left"></prm-icon></md-button></div><div class="counter-nav counter-prev" ng-class="{\'hide\': !$ctrl.showPreviousButton}"><md-button class="md-mini zero-margin" ng-click="$ctrl.moveToPage($ctrl.currentPage - 1)" aria-label="{{$ctrl.pagingBarLabels.previousPage | translate}}" href=""><md-tooltip md-direction="{{$ctrl.getTooltipDirection(true)}}"><span translate="{{$ctrl.pagingBarLabels.previousPage}}"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon></md-button></div><div class="counter-main"><div ng-cloak layout="row" role="navigation" translate-attr="{\'aria-label\': \'nui.aria.pagination\'}"><div ng-repeat="i in $ctrl.pagesList track by i" tabindex="-1"><md-button class="md-mini" href="" ng-click="i !== $ctrl.currentPage && $ctrl.moveToPage(i)" aria-current="{{i === $ctrl.currentPage ? \'true\' : \'false\'}}" aria-label="{{$ctrl.getPageAriaLabel(i)}}" ng-class="{\'current-page\': i === $ctrl.currentPage}">{{i}}</md-button></div></div></div><div class="counter-nav counter-next" ng-class="{\'hide\': !$ctrl.showNextButton}"><md-button class="md-mini zero-margin" ng-click="$ctrl.moveToPage($ctrl.currentPage + 1)" aria-label="{{$ctrl.pagingBarLabels.nextPage | translate}}" href=""><md-tooltip md-direction="{{$ctrl.getTooltipDirection(false)}}"><span translate="{{$ctrl.pagingBarLabels.nextPage}}"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></div><div class="counter-nav counter-prev" ng-class="{\'hide\': !$ctrl.showGoToLastPageButton}"><md-button class="md-mini zero-margin" ng-click="$ctrl.moveToPage($ctrl.lastPage)" aria-label="{{::$ctrl.pagingBarLabels.lastPage | translate}}" href=""><md-tooltip md-direction="{{$ctrl.getTooltipDirection(false)}}"><span translate="{{$ctrl.pagingBarLabels.lastPage}}"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="double-chevron-right"></prm-icon></md-button></div></div></div><prm-paging-bar-after parent-ctrl="$ctrl"></prm-paging-bar-after>');
$templateCache.put('components/primoExplore/login-iframe.html','<iframe style="display:none !important;" id="login-iframe" ng-src="{{$ctrl.getUrl()}}" ng-if="::$ctrl.isSilentIframeEnabled()"/><prm-login-iframe-after parent-ctrl="$ctrl"></prm-login-iframe-after>');
$templateCache.put('components/primoExplore/ng-forward-hack.html','<ng-forward-hack-after parent-ctrl="$ctrl"></ng-forward-hack-after>');
$templateCache.put('components/primoExplore/primo-explore-footer.html','<prm-icp-license-footer ng-if="$ctrl.showICPLicenseFooter"></prm-icp-license-footer><prm-explore-footer-after parent-ctrl="$ctrl"></prm-explore-footer-after>');
$templateCache.put('components/primoExplore/primo-explore-main.html','<prm-performance-monitor ng-if="$ctrl.showPerformanceMonitor"></prm-performance-monitor><div layout="column" class="header topbar-wrapper relative-position hide-when-facets-open" ng-show="::$ctrl.allowSearch()"><prm-topbar ng-class="{\'transparent-top-bar\': $ctrl.isCollectionDiscoveryFocused}"></prm-topbar><h1 class="accessible-only" ng-if="!$ctrl.isCollectionDiscovery() && !$ctrl.isCitationLinker() && !$ctrl.isCitationTrails() && !$ctrl.isFavorites()">{{($ctrl.showStatName() | translate)}}</h1><prm-search-bar ng-if="$ctrl.showSearchBar() && !$ctrl.isAtozSearch && !$ctrl.showBroseSearchBar && !$ctrl.isNewspapersSearch && !$ctrl.showChaptersAndReviews" has-search-results="{{$ctrl.hasSearchResults()}}" (search-event)="$ctrl.onSearchBarSearchEvent($event)"></prm-search-bar><prm-atoz-search-bar ng-if="$ctrl.isAtozSearch && $ctrl.showSearchBar()" (search-event)="$ctrl.onSearchBarSearchEvent($event)" class="animate-search-bar"></prm-atoz-search-bar><prm-newspapers-search-bar ng-if="$ctrl.isNewspapersSearch" (search-event)="$ctrl.onSearchBarSearchEvent($event)"></prm-newspapers-search-bar><prm-browse-search-bar ng-if="$ctrl.showBroseSearchBar"></prm-browse-search-bar><div ng-if="$ctrl.displayBorInfoAlert()"><prm-alert-bar flex [alert-object]="$ctrl.borInfoAlert" [idp-logout]="true"></prm-alert-bar></div><prm-spinner ng-if="$ctrl.searchInProgress" class="half-transparent no-text" layout="row" layout-align="center center"></prm-spinner><span role="alert" translate="nui.search.loadingResults" class="accessible-only hidden" ng-if="$ctrl.searchInProgress"></span></div><prm-back-to-search-results-button ng-if="$ctrl.isBrowseMode"></prm-back-to-search-results-button><prm-back-to-library-search ng-if="$ctrl.isNewspapersSearch && $ctrl.cameFromSearch"></prm-back-to-library-search><prm-search-result-title ng-if="$ctrl.isNewspapersSearch && $ctrl.cameFromFeaturedSearch"></prm-search-result-title><ui-view ng-show="::$ctrl.allowSearch()"></ui-view><ng-forward-hack></ng-forward-hack><prm-explore-main-after parent-ctrl="$ctrl"></prm-explore-main-after>');
$templateCache.put('components/purchaseRequest/purchase_request.html','<div layout="column" layout-fill class="header relative-position"><prm-topbar></prm-topbar><h1 class="accessible-only" translate="nui.aria.page.purchaseRequest"></h1><span class="accessible-only" aria-live="assertive" role="alert">{{$ctrl.getFormAccessibilityAlert()}}</span></div><prm-spinner ng-if="$ctrl.getRequestIsLoading()" class="default-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><md-tabs md-dynamic-height md-dynamic- md-selected="$ctrl.selectedTab" ng-show="!$ctrl.getRequestIsLoading()" class="tabs-as-app hidden-tabs"><md-tab></md-tab><md-tab></md-tab><md-tab label="Request Form"><md-content layout="column" layout-align="center center" ng-class="{\'padding-small\':$ctrl.mediaQueries.xs}"><prm-request class="margin-top-medium width-100 default-form" blank-service="AlmaPurchaseRequest" (change-tab-event)="$ctrl.onChangeTabEvent($event)" layout="column"></prm-request></md-content></md-tab><md-tab label="Request reply"><md-content><div ng-class="$ctrl.responseStatus.isSuccess ? \'success-bar\': \'error-bar\'" class="bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span translate-default="{{$ctrl.getResponseMessage()}}" translate="{{$ctrl.getResponseMessage()}}"></span></div></md-content></md-tab><md-tab label="Request approval"><md-content layout="column"><prm-request-approval (change-tab-event)="$ctrl.onChangeTabEvent($event)" [status-message]="$ctrl.opacService.responseStatus.msg" [header]="\'almaPurchaseRequest.isbnExist\'" [message]="\'almaPurchaseRequest.submit\'" [approve-request]="\'almaPurchaseRequest.approveRequest.yes\'" [cancel-request]="\'almaPurchaseRequest.approveRequest.no\'"></prm-request-approval></md-content></md-tab></md-tabs><div ng-if="$ctrl.displayErrorMessage && !$ctrl.getRequestIsLoading()" class="margin-bottom-medium zero-padding-bottom ng-scope" layout="row" layout-align="center center"><div flex-gt-lg="15" flex="0"></div><md-card class="default-card"><md-card-content><h2 class="light-text" translate="nui.search.error.blankill.header"></h2><p><span class="display-block" translate="nui.search.error.blankill.description1"></span> <span class="display-block" translate="nui.search.error.blankill.description2"></span></p></md-card-content></md-card><div flex-gt-lg="15" flex="0" class="flex-gt-lg-15 flex-0"></div></div><prm-report-problem ng-if="$ctrl.isReportProblem()"></prm-report-problem><prm-blank-purchase-request-after parent-ctrl="$ctrl"></prm-blank-purchase-request-after>');
$templateCache.put('components/search/search.html','<prm-alert-bar ng-if="!$ctrl.isLoggedInIDP() && !$ctrl.isShowPartsOnCitationTrails() && !$ctrl.isChaptersAndReviewsState()" flex [alert-object]="$ctrl.signInAlert"></prm-alert-bar><prm-alert-bar ng-if="!$ctrl.searchInProgress && $ctrl.containsBrowseGap()" flex [alert-object]="$ctrl.browseGapAlert" id="browseGapAlertBar"></prm-alert-bar><prm-alert-bar ng-if="$ctrl.isFromRedirectFilter()" flex [alert-object]="$ctrl.afterRedirectAlert"></prm-alert-bar><md-toolbar class="default-toolbar hide-when-facets-open" ng-if="$ctrl.isListOfVersion() && !$ctrl.isBarcodeSearchTabSelected()"><div class="md-toolbar-tools" layout="row" layout-align="start center"><div flex="0" flex-md="0" flex-lg="10" flex-xl="15" ng-class="{\'flex-lgPlus-15\':$ctrl.mediaQueries.lgPlus}"></div><md-button class="back-button has-text" ng-style="($ctrl.isRTL()) && {\'margin-right\': \'10px\'}" ng-click="$ctrl.backToSearchResults()" translate-attr="{\'aria-label\': \'nui.aria.search.back\'}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><span translate="fulldisplay.deatiles.back" hide-xs></span></md-button><md-divider class="toolbar-divider visible" ng-class="{\'visible\':true}"></md-divider><h2 translate="results.showingVersions" class="toolbar-title"></h2></div></md-toolbar><prm-back-to-library-search-button></prm-back-to-library-search-button><md-content class="main" ng-if="!$ctrl.isSearchDone() && !$ctrl.isAtozSearch && !$ctrl.isOrgListSearch() && !$ctrl.isBarcodeSearchHasNoResults() && !$ctrl.isBarcodeSearchInProgress()" layout="row" layout-align="center start" flex><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus && !$ctrl.facetToLeft, \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft, \'flex-xl-25\': $ctrl.facetToLeft}"></div><prm-static section="homepage" flex class="md-padding"></prm-static><div flex="0" flex-md="10" flex-lg="25" ng-class="{\'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus && !$ctrl.facetToLeft, \'flex-lgPlus-25\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft, \'flex-xl-30\': $ctrl.mediaQueries.xl && !$ctrl.facetToLeft, \'flex-xl-25\': $ctrl.mediaQueries && $ctrl.facetToLeft}"></div></md-content><md-content layout="row" layout-align="center start" flex ng-if="$ctrl.displayDialog()"><div flex="0" flex-sm="0" flex-lg="15" flex-xl="20" ng-class="{\'facet-to-left-spacer\': $ctrl.facetToLeft&&!$ctrl.mediaQueries.xl && !$ctrl.mediaQueries.md && !$ctrl.mediaQueries.sm && !$ctrl.mediaQueries.xs, \'flex-xl-25\': $ctrl.facetToLeft}"></div><prm-personalization-dialog tabindex="0" id="personalizationDialog" flex (keydown)="$ctrl.keydownSupport($event)"></prm-personalization-dialog><div flex="0" flex-sm="0" flex-md="0" flex-lg="30" flex-xl="30" ng-class="{\'flex-lg-25 flex-lgPlus-25\': $ctrl.facetToLeft && !$ctrl.mediaQueries.md && !$ctrl.mediaQueries.sm && !$ctrl.mediaQueries.xs}"></div></md-content><div style="width: 340px; min-width: 315px" class="databases-categories" tabindex="0" ng-if="(($ctrl.isDBSearch() && $ctrl.isDBCategories) ||\n     ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isConfigJournalCategories && $ctrl.isJournalCategories))\n     && ($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm)" ng-class="{\'as-a-drawer\': $ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm, \'is-visible\': $ctrl.isMobileDBSlider}"><prm-databases-categorize style="display: block" tabindex="-1" ng-if="(!$ctrl.isShowPartsOnCitationTrails() || $ctrl.searchInProgress) && $ctrl.showTimer" (search-event)="$ctrl.onSearchBarSearchEvent($event)" (close-mobile-facet-event)="$ctrl.closeMobileFacet($event)" [categories-type]="::$ctrl.getCategoriesType()"></prm-databases-categorize></div><div ng-if="(($ctrl.isDBSearch() && $ctrl.isDBCategories) ||\n($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isConfigJournalCategories && $ctrl.isJournalCategories))\n&& ($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm)"><md-toolbar class="default-toolbar" layout="row"><div class="md-toolbar-tools" layout="row"><md-button ng-click="$ctrl.openMobileDBSlider()" aria-label="{{\'nui.aria.dbcategories.mobileCategories\' | translate}}" class="button-with-icon zero-margin"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="file-tree"></prm-icon><span translate="nui.dbcategories.mobileCategories"></span></md-button></div></md-toolbar></div><div style="width: 340px; min-width: 315px" class="orgList-categories" tabindex="0" ng-if="($ctrl.isOrgListSearch() && $ctrl.haveOrgListCategories) && ($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm)" ng-class="{\'as-a-drawer\': $ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm, \'is-visible\': $ctrl.isMobileOrgCategoriesSlider}"><prm-orglist-categorize style="display: block" tabindex="-1" ng-if="(!$ctrl.isShowPartsOnCitationTrails() || $ctrl.searchInProgress) && $ctrl.showTimer" (search-event)="$ctrl.onSearchBarSearchEvent($event)" (set-have-org-list-categories)="$ctrl.setHaveOrgListCategories($event)" (close-mobile-facet-event)="$ctrl.closeMobileFacet($event)"></prm-orglist-categorize></div><div ng-if="($ctrl.isOrgListSearch() && $ctrl.haveOrgListCategories) && ($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm)"><md-toolbar class="default-toolbar" layout="row"><div class="md-toolbar-tools" layout="row"><md-button ng-click="$ctrl.openMobileOrgCategoriesSlider()" aria-label="{{\'nui.aria.dbcategories.mobileCategories\' | translate}}" class="button-with-icon zero-margin"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="file-tree"></prm-icon><span translate="nui.dbcategories.mobileCategories"></span></md-button></div></md-toolbar></div><div layout="row" role="document"><md-content class="main" style="overflow-y: hidden; display: block" layout="row" ng-if="(($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && !$ctrl.isSearchFromBarDBorJournals()) || ($ctrl.isOrgListSearch() && !$ctrl.isSearchFromOrgListCategory())" flex-md="{{($ctrl.displayDBCategories || $ctrl.isJournalCategories) ? \'30\' : \'25\'}}" flex-lg="{{($ctrl.displayDBCategories || $ctrl.isJournalCategories) ? \'25\' : \'20\'}}" flex-xl="20" ng-class="{\'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus, \'padded-container\': $ctrl.mediaQueries.gtxs, \'facet-to-left\': $ctrl.facetToLeft}"><div ng-if="!$ctrl.facetToLeft" flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus && !$ctrl.facetToLeft, \'flex-order-3\': (($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && $ctrl.isSearchFromBarDBorJournals())}"></div><div tabindex="-1" ng-if="$ctrl.displayDBCategories" id="dBcategorize" role="complementary" aria-label="{{\'nui.aria.navigationRegionDBSearch\' | translate}}" class="sidebar" flex-md="25" flex-lg="25" flex-xl="20" ng-class="{\'flex-order-1\': $ctrl.facetToLeft, \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft,  \'flex-xl-20\': $ctrl.mediaQueries.xl && !$ctrl.facetToLeft, \'flex-xl-25\': $ctrl.mediaQueries && $ctrl.facetToLeft}" ng-show="$ctrl.mediaQueries.gtsm || !$ctrl.showMobileFacets"><prm-databases-categorize style="display: block" tabindex="-1" ng-if="(!$ctrl.isShowPartsOnCitationTrails() || $ctrl.searchInProgress) && $ctrl.showTimer" (search-event)="$ctrl.onSearchBarSearchEvent($event)" (close-mobile-facet-event)="$ctrl.closeMobileFacet($event)" [categories-type]="::$ctrl.getCategoriesType()"></prm-databases-categorize></div><div tabindex="-1" ng-if="$ctrl.isOrgListSearch() && $ctrl.haveOrgListCategories && !$ctrl.isSearchFromOrgListCategory()" id="orgListcategorize" role="complementary" class="sidebar" flex-md="25" flex-lg="25" flex-xl="20" ng-class="{\'flex-order-1\': $ctrl.facetToLeft, \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft,  \'flex-xl-20\': $ctrl.mediaQueries.xl && !$ctrl.facetToLeft, \'flex-xl-25\': $ctrl.mediaQueries && $ctrl.facetToLeft}" ng-show="$ctrl.mediaQueries.gtsm || !$ctrl.showMobileFacets"><prm-orglist-categorize style="display: block" tabindex="-1" ng-if="(!$ctrl.isShowPartsOnCitationTrails() || $ctrl.searchInProgress) && $ctrl.showTimer" (search-event)="$ctrl.onSearchBarSearchEvent($event)" (set-have-org-list-categories)="$ctrl.setHaveOrgListCategories($event)" (close-mobile-facet-event)="$ctrl.closeMobileFacet($event)"></prm-orglist-categorize></div></md-content><md-content class="main" ng-if="($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && !$ctrl.isSearchDone()" flex><div class="padding-medium" flex-md="50" flex-lg="50" flex-xl="50" ng-class="{\'flex-lgPlus-70\': $ctrl.mediaQueries.lgPlus}"><md-card class="default-card"><md-card-title><h2 translate="{{$ctrl.getCategoriesCode(\'databases\')}}"></h2></md-card-title><md-card-content><span translate="{{$ctrl.getCategoriesCode(\'description\')}}"></span><ul><li translate="{{$ctrl.getCategoriesCode(\'option1\')}}"></li><li translate="{{$ctrl.getCategoriesCode(\'option2\')}}" ng-if="!$ctrl.isPrimoVE"></li><li translate="{{$ctrl.getCategoriesCode(\'option3\')}}"></li></ul></md-card-content></md-card></div></md-content><md-content class="main" ng-if="$ctrl.isOrgListSearch() && !$ctrl.isSearchDone()" flex><div class="padding-medium" flex-md="50" flex-lg="50" flex-xl="50" ng-class="{\'flex-lgPlus-70\': $ctrl.mediaQueries.lgPlus}"><md-card class="default-card"><md-card-title><h2 translate="orglist.searchtitle"></h2></md-card-title><md-card-content><span translate="orglist.description"></span><ul><li translate="orglist.option1"></li><li translate="orglist.option2"></li><li translate="orglist.option3"></li></ul></md-card-content></md-card></div></md-content><md-content role="main" aria-label="{{\'nui.aria.navigationRegionSearchResults\' | translate}}" class="main" ng-if="$ctrl.isSearchDone() && !$ctrl.isBarcodeSearchTabSelected()" layout="row" layout-align="center start" flex ng-class="{\'padded-container\': $ctrl.mediaQueries.gtxs, \'facet-to-left\': $ctrl.facetToLeft}"><div ng-if="!$ctrl.facetToLeft" flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus && !$ctrl.facetToLeft,\n                \'flex-order-3\': (($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && $ctrl.isSearchFromBarDBorJournals()),\n                \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && !$ctrl.facetToLeft && ($ctrl.isSearchFromCategoryTree() || $ctrl.isOrgListSearch()),\n                \'flex-order-1\': !$ctrl.facetToLeft && ((($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && $ctrl.isSearchFromCategoryTree()) || $ctrl.isOrgListSearch()),\n                \'flex-lgPlus-25\': $ctrl.mediaQueries.lgPlus && !$ctrl.facetToLeft && $ctrl.isSearchFromBarDBorJournals() && !$ctrl.isJournalSearch()}"></div><div flex ng-class="{\'flex-order-2\': $ctrl.facetToLeft || (($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && $ctrl.isSearchFromBarDBorJournals()) || $ctrl.isOrgListSearch()}"><div ng-if="::$ctrl.showRapidoResultsButton()"><prm-ngrs-results-button ng-if="$ctrl.hasSearchResults() || ($ctrl.searchInfo && $ctrl.searchInfo.total == 0)" class="ngrs-btn"></prm-ngrs-results-button></div><prm-resource-recommender [query]="$ctrl.parseSearchTerm($ctrl.searchService.getSearchObject().query)" (resource-recommender-event)="$ctrl.setShowResourceRecommender($event)" ng-if="::$ctrl.isRecommendationsEnabled() && !$ctrl.isCitationState()" ng-show="$ctrl.showResourceRecommender"></prm-resource-recommender><div layout="column" flex ng-if="$ctrl.isHighlightTheRecordYouCameFromFeatureFlagActive"><prm-brief-result-container ng-if="$ctrl.isHighlightTheRecordYouCameFromEnabled && $ctrl.isListOfVersion() && $ctrl.getYourSelectedRecordItem()" ng-click="$ctrl.onClickYourSelectedRecord($event)" class="list-item-wrapper margin-top-small margin-bottom-medium default-shadow" ng-class="{ \'item-expanded\': $ctrl.isExpanded(0) }" [is-digest-when-in-view-disabled]="::$ctrl.isDigestWhenInViewDisabled" [item]="$ctrl.getYourSelectedRecordItem()" [links]="$ctrl.getYourSelectedRecordItem().delivery.link" [index]="0" [is-favorites]="::(false)" [is-the-highlighted-record-you-came-from]="::(true)" [is-list-of-higlight-the-record]="::(true)" [is-expanded]="$ctrl.isExpanded(0)" [item-height]="$ctrl.expandedItemHeight" (expand-item-event)="$ctrl.setExpandedItem($event, 0)" (hide-dialog-event)="$ctrl.hideDialog()" (show-dialog-event)="$ctrl.showDialog()"></prm-brief-result-container></div><div class="list-item-wrapper margin-top-small margin-bottom-medium default-shadow" layout="column" ng-if="$ctrl.refEntryActive() &&  $ctrl.showPcAvailabilityForScopeWithNFT(scope) && !$ctrl.hasFacets() && $ctrl.isReferenceEntry" ng-show="$ctrl.hasSearchResults()"><prm-reference-entry-item [term]="$ctrl.parseSearchTerm($ctrl.searchService.getSearchObject().query)" (item-not-exist)="$ctrl.hideReferenceEntryItem($event)"></prm-reference-entry-item></div><prm-citation-trails-expand-button ng-if="$ctrl.isShowCitationTrailExpandButtonNoResults()" class="citation-trail-no-results"></prm-citation-trails-expand-button><prm-search-result-list aria-owns="searchResultsContainer" role="list" flex ng-if="$ctrl.isSearchDone()" [itemlist]="$ctrl.searchResults" [featured-result]="$ctrl.featuredResult" [is-favorites]="::(false)" [links]="$ctrl.skipLinks" [query]="$ctrl.parseSearchTerm($ctrl.searchService.getSearchObject().query)" [facet-to-left]="$ctrl.facetToLeft" [categories-type]="::$ctrl.getCategoriesType()" tabindex="-1" (hide-dialog-event)="$ctrl.hideDialog()" (show-dialog-event)="$ctrl.showDialog()"></prm-search-result-list></div><div tabindex="-1" id="facets" ng-if="!($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) || (($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories))&& $ctrl.isSearchFromBarDBorJournals())" role="complementary" aria-label="{{\'nui.aria.navigationRegionFacets\' | translate}}" class="sidebar" flex-md="{{($ctrl.isDBSearch() || $ctrl.isJournalSearch()) ? \'30\' : \'25\'}}" flex-lg="{{($ctrl.isDBSearch() || $ctrl.isJournalSearch()) ? \'25\' : \'20\'}}" flex-xl="20" ng-class="{\'flex-order-1\': $ctrl.facetToLeft || (($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && $ctrl.isSearchFromBarDBorJournals()) || $ctrl.isOrgListSearch(), \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft, \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && !$ctrl.facetToLeft, \'flex-xl-20\': $ctrl.mediaQueries.xl && !$ctrl.facetToLeft, \'flex-xl-25\': $ctrl.mediaQueries && $ctrl.facetToLeft, \'facets-on-iPad-mobile\': $ctrl.mediaQueries.sm || $ctrl.mediaQueries.xs}" ng-show="$ctrl.mediaQueries.gtsm || !$ctrl.showMobileFacets"><prm-facet tabindex="-1" ng-if="!$ctrl.isShowPartsOnCitationTrails()  && !$ctrl.isChaptersAndReviewsState()  && $ctrl.showTimer" (close-mobile-facet-event)="$ctrl.closeMobileFacet($event)" [categories-type]="::$ctrl.getCategoriesType()" ng-class="{\'facets-on-iPad-mobile\': $ctrl.mediaQueries.sm || $ctrl.mediaQueries.xs}"></prm-facet></div><div flex="0" flex-md="0" flex-lg="0" flex-xl="10" ng-style="($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) &&\n             $ctrl.isSearchFromBarDBorJournals() && !$ctrl.facetToLeft && {\'display\':\'none\'}" ng-class="{\'flex-order-4\': $ctrl.facetToLeft, \'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus, \'flex-lg-15 flex-xl-25\': $ctrl.facetToLeft, \'flex-lg-5\': !$ctrl.facetToLeft, \'flex-lgPlus-25\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft, \'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus && $ctrl.isSearchFromCategoryTree() && $ctrl.facetToLeft}"></div></md-content></div><div layout="row" class="padded-container" ng-if="$ctrl.isBarcodeSearchHasNoResults() && $ctrl.isBarcodeSearchTabSelected()"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="$ctrl.mediaQueries.lgPlus ? \'flex-lgPlus-15\' : \'\'"></div><md-card class="default-card zero-margin" flex><md-card-title><md-card-title-text><h2 class="md-headline" translate="nui.search-barcode.noResults" translate-values="{searchTerm: $ctrl.getNoResultsBarcodeSearchTerm()}" translate-compile role="alert" aria-live="assertive"></h2></md-card-title-text></md-card-title><md-card-content><p><span translate="nui.search-barcode.noResultsText"></span></p></md-card-content></md-card><div flex="0" flex-md="25" flex-lg="25" flex-xl="30" ng-class="$ctrl.mediaQueries.lgPlus ? \'flex-lgPlus-30\' : \'\'"></div></div><prm-view-overlay ng-class="{\'visible\': viewOverlayVisible}" layout="row"><div class="prm-view-overlay-close-button" layout="column" layout-align="center center" ng-if="viewOverlayVisible" flex><md-button class="button-large" ng-click="viewOverlayVisible = false">Close</md-button></div><div class="prm-view-overlay-inner" ng-if="viewOverlayVisible"></div><div class="prm-view-overlay-backdrop" ng-if="viewOverlayVisible"></div></prm-view-overlay><prm-search-after parent-ctrl="$ctrl"></prm-search-after>');
$templateCache.put('components/reportProblem/report-problem.html','<div class="report-container"><md-button class="report-problem-btn report-problem-btn-ctm" ng-disabled="$ctrl.sendMailInProgress" id="reportProblem" ng-click="$ctrl.toggleReportProblem()" ng-keydown="$ctrl.keyDownSupportReportBtn($event)" aria-expanded="{{$ctrl.openCloseReportProblemButton}}" aria-label="{{$ctrl.openCloseReportProblemButton ? (\'nui.aria.closeReportProblem\' | translate) : (\'nui.aria.openReportProblem\' | translate)}}" data-qa="open_close_report_problem_btn_desktop"><md-tooltip md-delay="400"><span translate="report.tooltip"></span></md-tooltip><prm-icon md-menu-origin ng-if="!$ctrl.openCloseReportProblemButton" icon-type="svg" svg-icon-set="primo-ui" icon-definition="exclamation-mark"></prm-icon><prm-icon md-menu-origin ng-if="$ctrl.openCloseReportProblemButton" icon-type="svg" svg-icon-set="primo-ui" icon-definition="close-report"></prm-icon></md-button><div ng-if="$ctrl.openCloseReportProblemButton" layout="column" class="report-problem-content zero-padding overflow-hidden" ng-keydown="$ctrl.keyDownSupport($event)" ng-class="{\'report-menu-content-desktop\':!$ctrl.mediaQueries.xs, \'report-menu-content-mobile\':$ctrl.mediaQueries.xs}"><div layout="row" layout-align="center center" class="report-header"><h2 translate="report.Title" class="zero-margin"></h2><md-button class="zero-margin md-icon-button" ng-if="$ctrl.mediaQueries.xs" ng-click="$ctrl.toggleReportProblem()" data-qa="close_report_problem_btn_mobile"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div><div class="form-content primo-scrollbar"><div class="report-problem-1" ng-if="$ctrl.currentWindow === $ctrl.START_PAGE"><div class="message-box"><span translate="report.generalText"></span></div><ul class="report-options" layout="column" layout-align="center center"><li ng-repeat="option in $ctrl.options" layout="column" layout-align="center center"><md-button ng-click="$ctrl.selectCategory(option.value); $ctrl.runCategoryBeacon($index+1)" class="button-link" layout="row" layout-align="center center" id="{{\'catOptionIndex_\' + $index}}" translate-attr="::{\'aria-label\': option.ariaCode}" ng-keydown="$ctrl.keyDownSupportOptionBtn($event)" data-qa="{{\'category_btn\' +\'\'+ $index}}"><span>{{option.code | translate}}</span></md-button></li></ul></div><div class="report-problem-2" ng-if="$ctrl.currentWindow === $ctrl.FORM_PAGE"><form layout="column" novalidate><div layout-align="start center"><md-input-container><label translate="report.subject" id="reportProblemSelectCategory"></label><md-select ng-model="$ctrl.selectedCategory" class="categories-drop-down" ng-disabled="$ctrl.sendMailInProgress" md-container-class="report-problem-cat-drop" aria-labelledby="reportProblemSelectCategory"><md-option ng-repeat="option in $ctrl.options" ng-click="$ctrl.runCategoryBeacon($index+1); $ctrl.resetErrors()" ng-value="option.value" data-qa="{{\'category_drop\' +\'\'+ $index}}"><span role="button" alt="{{option.code | translate}}">{{option.code | translate}}</span></md-option></md-select></md-input-container></div><div class="report-text-area margin-top-medium" ng-class="{\'margin-bottom-large\':$ctrl.mediaQueries.xs, \'margin-bottom-medium\': $ctrl.mediaQueries.gtxs}" layout="column"><md-input-container class="text-area-description"><label translate="report.problemDescription"></label> <textarea id="descriptionTextArea" class="text-area-message width-100" ng-model="$ctrl.description" name="description" maxlength="400" ng-disabled="$ctrl.sendMailInProgress" data-qa="description_report">\r\n                            </textarea></md-input-container><md-input-container class="underlined-input dark-on-light text-area-email"><label translate="{{\'report.email\'}}"></label> <input id="emailAdressInput" ng-model="$ctrl.address" ng-disabled="$ctrl.sendMailInProgress" name="address" type="text" maxlength="64" aria-describedby="payAttentionMessage" data-qa="email_report"></md-input-container><span class="email-error-message" ng-if="$ctrl.showInvalidEmailAddrError" translate="report.invalidEmail"></span> <span class="email-warning-message" ng-if="$ctrl.address" id="payAttentionMessage" translate="report.confirmEmail"></span></div><div ng-if="$ctrl.isCaptcha" layout-align="start center"><md-input-container class="report-captcha underlined-input dark-on-light"><div ng-if="$ctrl.mediaQueries.xs" vc-recaptcha key="$ctrl.capchaPublicKey" on-create="$ctrl.setWidgetId(widgetId)" on-success="$ctrl.setResponse(response)" lang="$ctrl.$translate.use()" on-expire="$ctrl.cbExpiration()"></div><div ng-if="$ctrl.mediaQueries.gtxs" vc-recaptcha key="$ctrl.capchaPublicKey" on-create="$ctrl.setWidgetId(widgetId)" on-success="$ctrl.setResponse(response)" lang="$ctrl.$translate.use()" on-expire="$ctrl.cbExpiration()" style="transform:scale(0.72);transform-origin:0 0;"></div></md-input-container></div><span class="error-info" ng-if="$ctrl.showCaptchaError || $ctrl.showMandatoryFieldsError"><span ng-if="$ctrl.showMandatoryFieldsError" translate="report.mandatoryError"></span> <span ng-if="$ctrl.showCaptchaError" translate="{{$ctrl.getRecaptchaErrorMessage()}}"></span></span><div layout="row" layout-align="center" layout-fill><md-button type="submit" ng-click="$ctrl.runOperationBeacon(\'reportSend\'); $ctrl.sendEmail($event)" ng-disabled="$ctrl.sendMailInProgress" ng-keydown="$ctrl.keyDownSupportGoToMainBtn($event)" ng-style="(($ctrl.showCaptchaError || $ctrl.showMandatoryFieldsError) && {\'margin\':\'1em\'})" class="button-with-icon button-large button-confirm" translate-attr="::{\'aria-label\': \'nui.aria.reportSend\'}" data-qa="send_report_btn"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span translate="report.emailSend"></span></md-button></div></form></div><div class="report-problem-3"><div class="report-success" ng-if="$ctrl.currentWindow === $ctrl.SUCCESS_PAGE"><div layout="row" layout-align="space-between center"><div class="message-box" role="alert"><span translate="report.emailConfirmation"></span></div><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="check-circle"></prm-icon></div><ul class="report-options" layout="column" layout-align="center center"><li><md-button ng-click="$ctrl.toggleReportProblem()" class="button-link close-report-btn" layout="row" layout-align="center center" translate-attr="::{\'aria-label\': \'nui.aria.closeButtonReportProblem\'}" data-qa="close_btn_success"><span translate="report.close"></span></md-button></li><li><md-button ng-click="$ctrl.runOperationBeacon(\'openReportAnotherProblem\'); $ctrl.goToPage($ctrl.START_PAGE); $ctrl.focusOnFirstCat();" class="button-link" layout="row" layout-align="center center" ng-keydown="$ctrl.keyDownSupportGoToMainBtn($event)" translate-attr="::{\'aria-label\': \'nui.aria.reportAnotherProblem\'}" data-qa="send_another_report_btn"><span translate="report.sendAnother"></span></md-button></li></ul></div><div class="report-failure" ng-if="$ctrl.currentWindow === $ctrl.FAILURE_PAGE"><div class="message-box" role="alert"><span translate="report.sendFailed"></span></div><ul class="report-options" layout="column" layout-align="center center"><li><md-button ng-click="$ctrl.toggleReportProblem()" class="button-link close-report-btn" layout="row" layout-align="center center" translate-attr="::{\'aria-label\': \'nui.aria.closeButtonReportProblem\'}" data-qa="close_btn_failure"><span translate="report.close"></span></md-button></li></ul></div></div></div></div></div><prm-report-problem-after parent-ctrl="$ctrl"></prm-report-problem-after>');
$templateCache.put('components/security/username-password-login.html','<md-input-container><label>User Name</label> <input type="text" ng-model="$ctrl.username"></md-input-container><md-input-container><label>Password</label> <input type="password" ng-model="$ctrl.password"></md-input-container><md-button class="md-raised" (click)="$ctrl.login()">Submit</md-button><prm-username-password-login-after parent-ctrl="$ctrl"></prm-username-password-login-after>');
$templateCache.put('components/servicesPage/services-page.html','<prm-spinner ng-if="$ctrl.ngrsRequestLoading" class="default-loader row-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><h1 class="accessible-only" translate="nui.aria.page.services"></h1><prm-full-view-cont [item]="$ctrl.item"></prm-full-view-cont><prm-services-page-after parent-ctrl="$ctrl"></prm-services-page-after>');
$templateCache.put('components/sfx/getit1.html','<ion-modal-view class="EXLArticlPreviewContent"><ion-header-bar><h1 class="title">{{sfxCtrl.modalHeader}}</h1></ion-header-bar><ion-content class="EXLGetIt1Content" direction="xy"><iframe ng-src="{{sfxCtrl.targetLink | trustUrl}}" class="EXLGetIt1Iframe" ng-if="sfxCtrl.targetLink"/></ion-content></ion-modal-view>');
$templateCache.put('components/sfx/sfx-menu.html','<md-content ng-repeat="(service, targets) in sfxCtrl.getSfxResults().services"><md-toolbar class="item-stable" (click)="sfxCtrl.toggleService(service)" ng-class="{active: sfxCtrl.isServiceShown(service)}"><i class="icon" ng-class="sfxCtrl.isServiceShown(service) ? \'ion-minus\' : \'ion-plus\'"></i> &nbsp; {{service}}</md-toolbar><md-list><div><md-item class="item-accordion item-icon-right" ng-repeat="target in targets" ng-show="sfxCtrl.isServiceShown(service)"><md-item-content>{{target.target_public_name}} <i class="icon ion-arrow-right-c" (click)="sfxCtrl.openTargetLink(target)" ng-if="target.target_url"></i></md-item-content></md-item></div></md-list></md-content>');
$templateCache.put('components/sourceRecord/source-record.html','<h1 class="accessible-only" translate="nui.aria.page.sourceRecord"></h1><pre>{{$ctrl.sourceRecord}}</pre><prm-source-record-after parent-ctrl="$ctrl"></prm-source-record-after>');
$templateCache.put('components/spinner/spinner.html','<div class="spinner-wrapper" layout="row" layout-align="space-between" ng-init="loadingText = \'\'"><div class="loader"><div class="diamond"></div><div class="diamond"></div><div class="diamond"></div></div><div ng-if="loadingText" class="loader-text">{{loadingText}}</div></div>');
$templateCache.put('components/tabs/details_pane.html','<md-card><img src="{{listCtrl.selectedItem[\'thumbnail\']}}" class="md-card-image"><h3><span ng-bind-html="listCtrl.selectedItem[\'title\']"></span> <span ng-hide="!listCtrl.selectedItem[\'date\']">[<span ng-bind-html="listCtrl.selectedItem[\'date\']"></span>]</span></h3><span ng-hide="!listCtrl.selectedItem[\'creator\']"><h4><span ng-bind-html="listCtrl.selectedItem[\'creator\']"></span></h4></span><div layout="row"><md-card class="md-whiteframe-z5 EXLExploreDetailsCard EXLExploreDetailsRecordCard" flex="33"><md-card-content><md-item><md-item-content><div class="md-tile-content"><span ng-hide="!listCtrl.selectedItem[\'description\']"><p><span ng-bind-html="listCtrl.selectedItem[\'description\']"></span></p></span><span ng-hide="!listCtrl.selectedItem[\'isPartOf\']"><p><span ng-bind-html="listCtrl.selectedItem[\'isPartOf\']"></span></p></span><span ng-hide="!listCtrl.selectedItem[field]"><p ng-repeat="field in [\'publisher\',\'lccn\',\'isbn\']"><span><span class="EXLExploreDetailsLabel">{{field}}:</span> <span ng-bind-html="listCtrl.selectedItem[field]"></span></span></p></span></div></md-item-content></md-item></md-card-content></md-card><md-card flex="33"><facets-list-display element-type="[\'source\']" element-label="[\'Sources\']" elements-array="listCtrl.selectedItem[\'source\']"></facets-list-display><facets-list-display element-type="[\'subject\']" element-label="[\'Subjects\']" elements-array="listCtrl.selectedItem[\'subject\']"></facets-list-display></md-card></div></md-card>');
$templateCache.put('components/tabs/images_pane.html','<md-toolbar class="md-tall EXLExploreImagesBar" ng-show="listCtrl.imagesBarFillersList"><div class="EXLExploreImagesBarImageContainer" layout="row"><div flex="20"></div><div flex="60"><div class="EXLExploreImagesBarBigCol"><div class="EXLExploreImagesBarBigImage"><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[0].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[0].link}}" alt=""/></a></div></div><div class="EXLExploreImagesBarSmallCol"><div class="EXLExploreImagesBarSmallImage"><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[1].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[1].link}}" alt=""/> </a><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[2].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[2].link}}" alt=""/></a></div></div><div class="EXLExploreImagesBarMediumCol EXLExploreImagesBarMediumImage"><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[4].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[4].link}}" alt=""/> </a><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[5].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[5].link}}" alt=""/></a></div><div class="EXLExploreImagesBarBigCol"><div class="EXLExploreImagesBarBigImage"><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[6].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[6].link}}" alt=""/></a></div></div><div class="EXLExploreImagesBarMediumCol EXLExploreImagesBarMediumImage"><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[7].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[7].link}}" alt=""/> </a><a href="#"><img ng-class="{EXLExploreImagesBarImageFace: listCtrl.imagesBarFillersList[8].type == \'dynamic\'}" ng-src="{{listCtrl.imagesBarFillersList[8].link}}" alt=""/></a></div></div><div flex="20"></div></div></md-toolbar>');
$templateCache.put('components/tabs/locations_pane.html','<ils-items></ils-items><div ng-controller="GoogleMapsController as googleMapsCtrl"><ui-gmap-google-map center="googleMapsCtrl.center" zoom="googleMapsCtrl.zoom"><ui-gmap-marker ng-repeat="location in searchCtrl.selectedItem.locations" idKey="location.libraryCode" coords="googleMapsCtrl.getLocationByLibraryCode(location.libraryCode)"></ui-gmap-marker></ui-gmap-google-map></div>');
$templateCache.put('components/tags/tags.html','<div layout="column" class="header topbar-wrapper relative-position"><prm-topbar></prm-topbar><h1 class="accessible-only" translate="nui.aria.page.tags"></h1><prm-tags-search-bar></prm-tags-search-bar><div ng-if="$ctrl.displayBorInfoAlert()"><prm-alert-bar flex [alert-object]="$ctrl.borInfoAlert" [idp-logout]="true"></prm-alert-bar></div></div><ui-view></ui-view><prm-tags-results ng-if="$ctrl.isInSearch()"></prm-tags-results><md-content id="tags" ng-if="!$ctrl.isInSearch()" class="padded-container" layout="row" layout-align="center start" flex><h2 class="accessible-only" translate="results.title"></h2><div flex="0" flex-md="10" flex-lg="20" flex-xl="25"></div><div layout-sm="column" layout-xs="column" layout-gt-sm="row" flex layout-align="center start"><md-card class="default-card" flex tabindex="0"><md-card-title><md-card-title-text><span class="md-headline" translate="nui.tags.mostpopular"></span></md-card-title-text></md-card-title><md-card-content><prm-tags-list [tagslist]="$ctrl.popularTags" [editable]="false" sortBy="count"></prm-tags-list></md-card-content></md-card><md-card class="default-card" flex><md-card-title><md-card-title-text><span class="md-headline" translate="nui.tags.mostrecent"></span></md-card-title-text></md-card-title><md-card-content><prm-tags-list [tagslist]="$ctrl.recentTags" [editable]="false"></prm-tags-list></md-card-content></md-card><md-card class="default-card" ng-if="$ctrl.userLoggedIn()" flex><md-card-title><md-card-title-text><span class="md-headline" translate="nui.tags.mytags"></span></md-card-title-text></md-card-title><md-card-content><prm-tags-list [tagslist]="$ctrl.myTags" [editable]="false"></prm-tags-list></md-card-content></md-card></div><div flex="0" flex-md="10" flex-lg="20" flex-xl="25"></div><prm-report-problem ng-if="$ctrl.isReportProblem()"></prm-report-problem></md-content><prm-tags-after parent-ctrl="$ctrl"></prm-tags-after>');
$templateCache.put('components/account/accountLinks/account-links.html','<a ng-repeat="link in $ctrl.links" href="{{$ctrl.getTarget(link)}}" target="_blank" class="bold-text margin-left-small"><span translate="{{link.source2}}"></span><prm-icon icon-type="{{$ctrl.accountIcons.externalLinkIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.externalLinkIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.externalLinkIcon.icon}}"></prm-icon></a><prm-account-links-after parent-ctrl="$ctrl"></prm-account-links-after>');
$templateCache.put('components/account/depositsLink/deposits-link.html','<div layout="column" layout-fill class="header relative-position"><prm-topbar [links]="$ctrl.skipLinks"></prm-topbar><h1 class="accessible-only" translate="nui.aria.page.deposit"></h1></div><div layout="row" ng-class="{\'deposits-margin\' : !$ctrl.depositsCounter}"><div flex="0" flex-gt-md="25"></div><prm-deposits [deposits-counter]="$ctrl.depositsCounter" flex></prm-deposits><div flex="0" flex-gt-md="25"></div></div><prm-report-problem ng-if="$ctrl.isReportProblem()"></prm-report-problem><prm-deposits-link-after parent-ctrl="$ctrl"></prm-deposits-link-after>');
$templateCache.put('components/account/deposits/deposit-confirm-dialog.html','<md-dialog class="in-element-dialog" layout="column"><form layout="row" layout-align="end center" layout-fill><md-dialog-content><div class="md-dialog-content bold-text" layout-align="center"><span translate="nui.deposit.confirm.message"></span></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="ctrl.hide()"><span translate="nui.deposit.confirm.no"></span></md-button><md-button class="dialog-primary button-confirm" ng-click="ctrl.cancelIt(); ctrl.hide();"><span translate="nui.deposit.confirm.ok"></span></md-button></div></form></md-dialog>');
$templateCache.put('components/account/deposits/deposits.html','<div class="tab-content-header" layout="row" layout-xs="column" layout-align="space-between end" layout-align-xs="start stretch"><div layout="column"><div class="header-title" layout="row"><h2 class="zero-margin" layout="row" layout-align="start center"><span translate="nui.deposits.header"></span></h2></div><div class="header-subtitle"><span class="items-count"><em ng-if="$ctrl.depositsCounter" translate="nui.deposits.counter" translate-values="$ctrl.getDepositsCountPlaceHolder()"></em><prm-account-links tab-name="deposits"></prm-account-links></span></div></div><div class="tab-header-actions" layout="row" layout-align="end center" layout-align-xs="space-between center"><div layout="row" layout-align="start center" ng-if="$ctrl.depositsCounter"><md-input-container class="static-select" layout="row" style="padding-bottom: 8px;"><label class="md-container-ignore bold-text"><span translate="nui.librarycard.sortby"></span></label><md-select ng-model="$ctrl.sortBy" ng-change="$ctrl.sortDepositsDisplay()"><md-option ng-repeat="sortOption in ::$ctrl.sortOptions" value="{{::sortOption.fieldName}}"><span translate="{{::sortOption.optionName}}"></span></md-option></md-select></md-input-container></div><md-divider class="vertical-divider transparent-divider" ng-if="$ctrl.depositsCounter"></md-divider><div layout="row" layout-align="start center" ng-show="$ctrl.showCreateDeposit()"><md-menu><md-button ng-click="$ctrl.openMenu($mdOpenMenu, $event)"><span translate="nui.deposits.createDeposit"></span></md-button><md-menu-content width="3" layout="column"><md-menu-item ng-repeat="profileOption in $ctrl.depositProfilesOptions"><md-button ng-click="$ctrl.showDepositForm(\'\', $index)"><span md-menu-align-target>{{profileOption.depositProfileName}}</span></md-button></md-menu-item></md-menu-content></md-menu></div><md-divider class="vertical-divider transparent-divider" ng-if="$ctrl.depositsCounter"></md-divider><md-button class="md-icon-button header-action expand-collapse-button" (click)="$ctrl.toggleAllExpand()" aria-label="epand all deposit items button" ng-if="$ctrl.depositsCounter"><md-tooltip md-autohide="true"><span ng-if="$ctrl.isAllExpanded" translate="nui.librarycard.collapseall.tooltip"></span><span ng-if="!$ctrl.isAllExpanded" translate="nui.librarycard.expandall.tooltip"></span></md-tooltip><span ng-if="!$ctrl.isAllExpanded"><prm-icon icon-type="{{::$ctrl.accountIcons.expandAllIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.expandAllIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.expandAllIcon.icon}}"></prm-icon></span><span ng-if="$ctrl.isAllExpanded"><prm-icon icon-type="{{::$ctrl.accountIcons.collapseAllIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.collapseAllIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.collapseAllIcon.icon}}"></prm-icon></span></md-button></div></div><div class="bar success-bar" layout-margin layout="row" ng-if="$ctrl.depositInProcess" layout-align="start center"><span translate="nui.deposits.submittedDepositInProcess" class="zero-margin"></span></div><div class="tab-content-header" layout="row" layout-xs="column" layout-align="space-between end" layout-align-xs="start stretch" ng-if="!$ctrl.depositsDisplay||$ctrl.depositsDisplay.length==0"><div layout="column"><div ng-cloak class="message-with-icon" layout="row" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.sun.type}}" svg-icon-set="{{$ctrl.accountIcons.sun.iconSet}}" icon-definition="{{$ctrl.accountIcons.sun.icon}}"></prm-icon><div><span translate="nui.overview.nodeposits"></span></div></div></div></div><md-list class="separate-list-items gapped-list" layout="column"><md-list-item tabindex="0" class="md-3-line has-expand in-element-dialog-parent" ng-repeat="depositDisplay in $ctrl.depositsDisplay | limitTo:200" ng-hide="actionSuccessful" ng-class="depositDisplay.isExpanded?\'item-expanded\':\'\'"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text" layout="row" layout-wrap flex><span class="item-index">{{$index + 1}}</span><div flex flex-xs="100"><a ng-if="::(depositDisplay.firstLineLeft && depositDisplay.deliveryUrl)" layout="row" class="arrow-link" href="{{::depositDisplay.deliveryUrl}}" target="_blank"><h3>{{::depositDisplay.firstLineLeft}}</h3><prm-icon ng-if="::(depositDisplay.firstLineLeft && depositDisplay.deliveryUrl)" external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new" class="deposit-external-link"></prm-icon></a><h3 ng-if="::(depositDisplay.firstLineLeft && !depositDisplay.deliveryUrl)">{{::depositDisplay.firstLineLeft}}</h3><h4 ng-if="::depositDisplay.secondLineLeft">{{::depositDisplay.secondLineLeft}}</h4></div><div flex flex-xs="100" class="weak-text"><p class="bold-text" ng-if="::depositDisplay.firstLineRight" ng-style="::(deposit.new && {\'color\':\'#5cb85c\'})"><prm-icon ng-if="::depositDisplay.isAlert" style="color: #5cb85c;" icon-type="{{::$ctrl.accountIcons.depositsAlertIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.depositsAlertIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.depositsAlertIcon.icon}}"></prm-icon><span>{{depositDisplay.firstLineRight}}</span></p><p ng-if="::depositDisplay.secondLineRight"><span translate="nui.deposits.updatedOn"></span> <span>{{::depositDisplay.secondLineRight}}</span></p></div><div layout-align="end center" layout="row" layout-wrap flex-xs="400" flex-sm="80" flex class="list-item-actions"><md-button ng-if="{\'rotate-180\':depositDisplay.isExpanded}" class="button-with-icon button-link" ng-hide="depositDisplay.isSubmitted" (click)="$ctrl.showDepositForm($index, -1)" aria-label="cancel deposit button"><prm-icon icon-type="{{::$ctrl.accountIcons.editIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.editIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.editIcon.icon}}"></prm-icon><span translate="nui.deposits.edit"></span></md-button><div class="skewed-divider" ng-hide="depositDisplay.isSubmitted"></div><md-button ng-if="{\'rotate-180\':depositDisplay.isExpanded}" class="button-link" ng-hide="depositDisplay.isSubmitted" (click)="$ctrl.showCancelPrompt($event,depositDisplay.depositId)" aria-label="cancel deposit button"><prm-icon icon-type="{{::$ctrl.accountIcons.removeIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.removeIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.removeIcon.icon}}"></prm-icon><span translate="nui.deposits.withdraw"></span></md-button><div class="item-respond" ng-if="$ctrl.failedDepositId === depositDisplay.depositId"><span class="error-response">{{$ctrl.failedDepositMessage}}</span></div></div></div><div class="align-self-stretch"><md-button class="item-expand-button" aria-label="{{::(\'nui.aria.account.deposits.expandcollapse\' | translate)}}" (click)="depositDisplay.isExpanded = !depositDisplay.isExpanded"><prm-icon ng-class="{\'rotate-180\':depositDisplay.isExpanded}" icon-type="{{::$ctrl.accountIcons.expandIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.expandIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.expandIcon.icon}}"></prm-icon></md-button></div></div></md-list-item></md-list><prm-deposits-after parent-ctrl="$ctrl"></prm-deposits-after>');
$templateCache.put('components/account/fines/fines.html','<div class="tab-content-header" layout="row" layout-xs="column" layout-align="space-between end" layout-align-xs="start stretch" ng-if="!$ctrl.isLoadingFines"><div layout="column"><div class="header-title" layout="row"><h2 class="zero-margin" layout="row" layout-align="start center"><span translate="nui.fines.header"></span></h2><md-input-container ng-if="$ctrl.isFinesFeatureFlagEnabled && $ctrl.totalNumOfFines.length && $ctrl.fineTypes.length > 2" class="prm-primary-color"><md-select id="fines-filter" data-qa="finesfees_filter_dropdown" ng-model="$ctrl.finesTypeDropDownSelection" ng-change="$ctrl.changeFineType()" translate-attr="::{\'aria-label\': \'nui.aria.account.fines.types\'}"><md-option ng-repeat="type in ::$ctrl.fineTypes" value="{{type}}"><span translate="nui.fines.{{::type}}"></span></md-option></md-select></md-input-container></div><div class="header-subtitle"><span ng-if="$ctrl.finesBalance" class="items-count"><em translate="nui.fines.balance" translate-values="$ctrl.getFinesBalancePlaceHolder()"></em> </span><span ng-if="$ctrl.demeritsBalance" class="items-count"><em translate="nui.fines.demerits" translate-values="$ctrl.getDemeritsBalancePlaceHolder()"></em></span><md-button ng-if="$ctrl.payFinesLink" referrerpolicy="no-referrer-when-downgrade" class="button-as-link button-external-link inline-button" ng-href="{{$ctrl.payFinesLink}}" target="_blank"><span translate="fines.payfinelink"></span><prm-icon icon-type="{{::$ctrl.accountIcons.externalLinkIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.externalLinkIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.externalLinkIcon.icon}}"></prm-icon></md-button><prm-account-links tab-name="fines"></prm-account-links></div><div ng-if="(!$ctrl.finesDisplay.length || $ctrl.finesDisplay.length === \'0\') && (!$ctrl.finesBalance || $ctrl.finesBalance === \'0\') && (!$ctrl.numOfTransferredFines || $ctrl.numOfTransferredFines === \'0\')" ng-cloak class="message-with-icon" layout="row" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.emoticonCool.type}}" svg-icon-set="{{$ctrl.accountIcons.emoticonCool.iconSet}}" icon-definition="{{$ctrl.accountIcons.emoticonCool.icon}}"></prm-icon><div><span translate="nui.overview.nofines"></span></div></div></div><div class="tab-header-actions" layout="row" layout-align="end center" layout-align-xs="space-between center" ng-if="$ctrl.finesDisplay.length"><div layout="row" layout-align="start center"><md-input-container class="static-select empty-select-on-init" layout="row"><label class="md-container-ignore bold-text"><span translate="nui.librarycard.sortby"></span></label><md-select id="fines-focus" ng-model="$ctrl.sortBy" ng-change="$ctrl.sortFinesDisplay()" aria-label="{{::(\'nui.librarycard.sortby\' | translate)}}"><md-option ng-repeat="sortOption in ::$ctrl.sortOptions" value="{{::sortOption.fieldName}}"><span translate="{{::sortOption.optionName}}"></span></md-option></md-select></md-input-container></div><md-divider class="vertical-divider transparent-divider"></md-divider><md-button class="md-icon-button header-action expand-collapse-button" (click)="$ctrl.toggleAllExpand()" aria-label="epand all request items button"><md-tooltip md-autohide="true"><span ng-if="$ctrl.isAllExpanded" translate="nui.librarycard.collapseall.tooltip"></span><span ng-if="!$ctrl.isAllExpanded" translate="nui.librarycard.expandall.tooltip"></span></md-tooltip><span ng-if="!$ctrl.isAllExpanded"><prm-icon icon-type="{{::$ctrl.accountIcons.expandAllIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.expandAllIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.expandAllIcon.icon}}"></prm-icon></span><span ng-if="$ctrl.isAllExpanded"><prm-icon icon-type="{{::$ctrl.accountIcons.collapseAllIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.collapseAllIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.collapseAllIcon.icon}}"></prm-icon></span></md-button></div></div><md-list class="separate-list-items gapped-list" layout="column" ng-if="!$ctrl.isLoadingFines"><md-list-item tabindex="0" class="md-3-line has-expand in-element-dialog-parent" ng-repeat="fine in $ctrl.finesDisplay| limitTo:200" ng-class="fine.isExpanded?\'item-expanded\':\'\'"><div class="in-element-dialog-context" layout="row" flex aria-live="assertive"><div class="md-list-item-text" layout="row" layout-wrap flex><span class="item-index">{{$index + 1}}</span><div flex flex-xs="100" class="text-align-right"><h3 ng-if="::fine.firstLineLeft" ng-class="::(fine.isAlert? \'prm-warn has-icon-on-left\': \'\')"><div ng-if="::fine.isAlert"><md-tooltip md-delay="400"><span translate="nui.fine.alert.tooltip"></span></md-tooltip><prm-icon icon-type="{{::$ctrl.accountIcons.fineAlertIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.fineAlertIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.fineAlertIcon.icon}}"></prm-icon></div><span>{{::fine.firstLineLeft}}</span></h3><h4 data-qa="{{fine.secondLineLeft === fine.title ? \'automation_mlc_record_title\' : \'\'}}" ng-if="::fine.secondLineLeft" dir="auto"><span translate="nui.fine.brief.1"></span> <span>{{::fine.secondLineLeft}}</span></h4></div><div flex flex-xs="100" class="weak-text"><p ng-if="::fine.firstLineRight" class="bold-text"><span>{{::fine.firstLineRight}}</span></p><p ng-if="::fine.secondLineRight"><span translate="nui.fine.brief.2"></span> <span>{{::fine.secondLineRight}}</span></p><p ng-if="fine.isExpanded" ng-repeat="line in ::fine.expandedDisplay"><span translate="{{::line.label}}"></span> <span>{{::line.data}}</span></p></div></div><div class="align-self-stretch"><md-button class="item-expand-button" aria-label="{{\'nui.aria.account.requests.expandcollapse\' | translate:\'{title: $ctrl.item.title}\'}}" (click)="$ctrl.toggleSingleExpand(fine)"><prm-icon ng-class="{\'rotate-180\':fine.isExpanded}" icon-type="{{::$ctrl.accountIcons.expandIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.expandIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.expandIcon.icon}}"></prm-icon></md-button><div ng-init="messageAdded = \'open\' ;\r\n                     messageRemoved = \'close\' " class="accessible-only" aria-label="{{fine.isExpanded ? messageAdded : messageRemoved}}" aria-live="assertive">{{fine.isExpanded ? messageAdded : messageRemoved}}</div></div></div></md-list-item></md-list><div ng-if="$ctrl.isFinesFeatureFlagEnabled && $ctrl.finesTypeDropDownSelection === \'active\' && $ctrl.numOfTransferredFines && !$ctrl.isLoadingFines"><span translate="nui.fines.noActiveWithBalance" translate-values="$ctrl.getAdditionaFinesPlaceHolder()"></span></div><prm-spinner ng-if="$ctrl.isLoadingFines" class="half-transparent no-text bottom-loader" layout="row" layout-align="center end" layout-margin></prm-spinner><prm-fines-after parent-ctrl="$ctrl"></prm-fines-after>');
$templateCache.put('components/account/linkedUserSelector/linked-user-selector.html','<md-input-container ng-if="$ctrl.numOfInstitutions>1" layout="row" class="toolbar-select-input" layout-align="center" hide-gt-sm><md-select ng-model="$ctrl.selectedInstitution" ng-change="$ctrl.updateData()" aria-label="select linked user institution"><md-option ng-repeat="inst in $ctrl.institutionsList" style="max-width: 306px" ng-value="inst.value"><span translate="{{inst.label}}"></span></md-option></md-select></md-input-container><prm-linked-user-selector-after parent-ctrl="$ctrl"></prm-linked-user-selector-after>');
$templateCache.put('components/account/loans/loan.html','<div class="md-list-item-text md-list-item-with-checkbox" layout="row" layout-wrap flex><md-checkbox ng-model="$ctrl.selectedIds[$ctrl.item.loanid]" aria-label="{{::$ctrl.item.title}}" ng-change="$ctrl.toggleSelected($ctrl.item.loanid)" ng-disabled="!$ctrl.item[$ctrl.selector] && !$ctrl.isRenewAvailable()"></md-checkbox><span class="item-index">{{$ctrl.index}}</span><div flex="40" flex-xs="100"><div layout="row" class="title-row" ng-class="{\'is-hovered\': isHovered && $ctrl.item[$ctrl.selector]}" ng-mouseenter="isHovered = true" ng-mouseleave="isHovered = false"><h3 data-qa="automation_mlc_record_title" ng-if="::$ctrl.item.title" title="{{::$ctrl.item.title}}" dir="auto"><a ng-click="$event.stopPropagation();" ng-if="$ctrl.item[$ctrl.selector]" class="arrow-link" aria-label="{{$ctrl.item.title}}{{\' \'}}{{\'nui.aria.newWindow\' | translate}}" target="_blank" ui-sref="fulldisplay({\r\n\t   \t\t\t\tvid:\'{{$ctrl.vid}}\',\r\n\t   \t\t\t\tscope:\'{{$ctrl.queryOptions.scope}}\',\r\n\t   \t\t\t\ttab:\'{{$ctrl.queryOptions.tab}}\',\r\n\t   \t\t\t\tid:\'{{$ctrl.item.mmsid}}\',\r\n\t   \t\t\t\tinst:\'{{$ctrl.item.ilsinstitutioncode}}\',\r\n\t   \t\t\t\tcontext:\'L\'\r\n   \t\t\t\t})" ui-sref-opts="{reload: true}">{{::$ctrl.item.title}} </a><span ng-if="!$ctrl.item[$ctrl.selector]">{{::$ctrl.item.title}}</span></h3><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon></div><div ng-class="{\'loans-brief-display\':!$ctrl.isExpanded}" class="loan-item" ng-if="$ctrl.item.isBriefDisplayLineEnabled(1)"><span translate="nui.loan.brief.1"></span> {{::($ctrl.item.getBriefDisplayLine(1))}}</div></div><div flex="40" flex-xs="100" class="weak-text"><div ng-if="::$ctrl.item.isActiveLoan()"><p ng-if="$ctrl.item.isShowDateInAlert() || $ctrl.item.isShowHourInAlert() || $ctrl.item.isFine()" data-qa="automation_mlc_record_date" class="normal-text" ng-class="{\'overdue-line\': $ctrl.item.isDueAlert()}"><prm-icon ng-if="::$ctrl.item.isDueAlert()" class="alert-red" icon-type="{{::$ctrl.accountIcons.timerIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.timerIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.timerIcon.icon}}"></prm-icon><span ng-if="$ctrl.item.isShowDateInAlert() || $ctrl.item.isShowHourInAlert()" translate="{{$ctrl.item.getCodeAlert()}}"></span><span ng-if="$ctrl.item.isShowDateInAlert() || $ctrl.item.isShowHourInAlert()">:</span> {{($ctrl.item.getDateForBriefDisplay())}}<span ng-if="$ctrl.item.isFine() && ($ctrl.isDateWithoutHour() || $ctrl.isHourWithoutTimezone())">.</span> <span ng-if="::$ctrl.isDisplayTimeZone() && $ctrl.item.isShowHourInAlert()">{{$ctrl.timeZone}}</span><span ng-if="$ctrl.isDisplayTimeZone() && $ctrl.item.isShowHourInAlert() && $ctrl.item.isFine()">.</span> <span ng-if="::($ctrl.item.isFine())"><span translate="nui.loan.fine"></span>: {{::$ctrl.item.fine}}</span></p></div><div ng-if="::(!$ctrl.item.isActiveLoan())"><span translate="loans.return_date"></span> {{::($ctrl.item.getDateForBriefDisplay())}}</div><p class="normal-text" ng-class="{\'loans-brief-display\':!$ctrl.isExpanded}" ng-if="$ctrl.item.isBriefDisplayLineEnabled(2)"><span translate="nui.loan.brief.2"></span> {{::($ctrl.item.getBriefDisplayLine(2))}}</p><div ng-class="{\'accessible-only\': !$ctrl.isExpanded}"><p ng-repeat="line in ::$ctrl.item.fullDisplayValues" class="normal-text"><span translate="loans.{{::line.key}}"></span> {{::line.value}}</p></div></div><div layout-align="start center" layout="row" flex="20" flex-xs="100" ng-class="{\'not-clickable\': $ctrl.renewAllInProgress}" class="list-item-actions"><div ng-if="$ctrl.isRenewable && !$ctrl.isRenewed && !$ctrl.renewInProgress" class="renewable"><md-button class="button-with-icon zero-margin button-link" (click)="$ctrl.renewLoan()" aria-label="{{\'nui.loans.renew\' | translate}}"><prm-icon class="h-flipped" icon-type="{{::$ctrl.accountIcons.renewLoanIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.renewLoanIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.renewLoanIcon.icon}}"></prm-icon><span translate="nui.loans.renew"></span></md-button></div><prm-spinner class="inline-loader half-transparent no-text" layout="row" layout-align="center center" ng-if="$ctrl.renewInProgress"></prm-spinner><div class="item-respond" ng-if="$ctrl.isRenewed"><span ng-style="$ctrl.renewResponse.renewed === \'N\' && {\'color\':\'tomato\'} || $ctrl.renewResponse.renewed === \'Y\' && {\'color\':\'green\'}"><span>{{$ctrl.getTranslatedRenewResponse($ctrl.renewResponse)}}</span></span></div><div ng-if="($ctrl.isNotRenewable || $ctrl.isPendingApproval) && !$ctrl.renewInProgress && !$ctrl.isRenewed" class="not-renewable weak-text" aria-label="{{$ctrl.isNotRenewable ? \'nui.loans.notRenewable\' : \'loans.pendingApproval\' | translate}}" aria-hidden="false" layout-align="start center"><prm-icon ng-if="$ctrl.isNotRenewable" icon-type="{{::$ctrl.accountIcons.notRenewableIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.notRenewableIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.notRenewableIcon.icon}}"></prm-icon><prm-icon ng-if="$ctrl.isPendingApproval" class="h-flipped" icon-type="{{::$ctrl.accountIcons.renewLoanIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.renewLoanIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.renewLoanIcon.icon}}"></prm-icon><span ng-if="$ctrl.isNotRenewable" translate="nui.loans.notRenewable"></span> <span ng-if="$ctrl.isPendingApproval" translate="loans.pendingApproval"></span><div aria-hidden="true" class="md-tooltip-container"><md-tooltip ng-if="$ctrl.notRenewableReasonsArray.length > 0" md-direction="down" md-delay="400" class="multi-row-tooltip slide-tooltip-anim"><span class="popover animate-popover" translate="nui.loans.cannotRenewThisItem"></span><br/><span ng-if="::$ctrl.isNotRenewableWithCause" class="tooltip-content" ng-repeat="reason in $ctrl.notRenewableReasonsArray | limitTo:2">{{reason}}<br/></span><span ng-if="::$ctrl.isNotRenewableWithCause && $ctrl.notRenewableReasonsArray.length > 2" class="tooltip-content">...</span></md-tooltip></div><div ng-if="$ctrl.notRenewableReasonsArray.length > 0" class="accessible-only"><span class="popover animate-popover" translate="nui.loans.cannotRenewThisItem"></span><br/><span ng-if="::$ctrl.isNotRenewableWithCause" class="tooltip-content" ng-repeat="reason in $ctrl.notRenewableReasonsArray | limitTo:2">{{reason}}<br/></span><span ng-if="::$ctrl.isNotRenewableWithCause && $ctrl.notRenewableReasonsArray.length > 2" class="tooltip-content">...</span></div></div></div></div><div class="align-self-stretch" flex-xs="50"><md-button class="item-expand-button" aria-label="{{$ctrl.getExpandCollapseButtonAriaLabel()}}" aria-expanded="{{$ctrl.isExpanded}}" (click)="$ctrl.toggleDisplayMode()"><prm-icon ng-class="{\'rotate-180\':$ctrl.isExpanded}" icon-type="{{::$ctrl.accountIcons.expandIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.expandIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.expandIcon.icon}}"></prm-icon></md-button></div><prm-loan-after parent-ctrl="$ctrl"></prm-loan-after>');
$templateCache.put('components/account/loans/loans-list.html','<div class="tab-content-header" layout="row" layout-xs="column" layout-align="space-between end" layout-align-xs="start stretch"><div layout="column"><div class="header-title" layout="row" layout-align="start center"><h2 class="zero-margin"><span translate="nui.loans.header"></span></h2><md-input-container ng-if="$ctrl.hasHistoricLoans" class="prm-primary-color"><md-select id="loans-focus" class="loans-type" ng-model="$ctrl.loanType" ng-change="$ctrl.changeLoansType()" translate-attr="::{\'aria-label\': \'nui.aria.account.loans.types\'}"><md-option ng-repeat="type in ::$ctrl.loanTypes" value="{{type}}"><span translate="nui.loan.{{::type}}"></span></md-option></md-select></md-input-container></div><div class="header-subtitle"><span class="items-count"><prm-account-links tab-name="loans"></prm-account-links></span></div><div ng-if="(!$ctrl.isLoadingLoans && (!$ctrl.loans || $ctrl.loans.length === 0))" ng-cloak class="message-with-icon" layout="row" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.beer.type}}" svg-icon-set="{{$ctrl.accountIcons.beer.iconSet}}" icon-definition="{{$ctrl.accountIcons.beer.icon}}"></prm-icon><div><span translate="nui.overview.noloans"></span></div></div></div><div class="tab-header-actions" layout="row" layout-align="end center" layout-align-xs="space-between center" ng-if="$ctrl.loans.length > 1"><div layout="row" layout-align="start center"><md-input-container class="static-select empty-select-on-init" layout="row" ng-if="!$ctrl.sortInProgress"><label class="bold-text"><span translate="nui.librarycard.sortby"></span></label><md-select ng-model="$ctrl.sortBy" ng-change="$ctrl.sortAllLoans()" aria-label="{{\'nui.aria.account.loans.sort\' | translate}}"><md-option ng-repeat="sort in $ctrl.sortByOptions" value="{{sort}}"><span translate="nui.loan.sort.{{sort}}"></span></md-option></md-select></md-input-container><prm-spinner class="inline-loader half-transparent no-text" layout="row" layout-align="center center" ng-if="$ctrl.sortInProgress"></prm-spinner></div><md-divider class="vertical-divider transparent-divider"></md-divider><div layout="column" ng-if="$ctrl.loanType !== \'history\' && $ctrl.hasRenewableLoans()"><md-button ng-if="!$ctrl.renewAllInProgress" class="button-with-icon button-link" aria-label="{{$ctrl.multipleRenewLabel | translate}}" (click)="$ctrl.renewMultipleLoans()" ng-disabled="$ctrl.renewAllInProgress"><prm-icon class="h-flipped" icon-type="{{$ctrl.accountIcons.renewLoanIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.renewLoanIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.renewLoanIcon.icon}}"></prm-icon><span translate="{{$ctrl.multipleRenewLabel}}"></span></md-button><prm-spinner class="inline-loader half-transparent no-text" layout="row" layout-align="center center" ng-if="$ctrl.renewAllInProgress"></prm-spinner></div><md-divider class="vertical-divider transparent-divider" ng-if="$ctrl.loanType !== \'history\' && $ctrl.hasRenewableLoans()"></md-divider><md-button class="md-icon-button" (click)="$ctrl.toggleExpandAll()" aria-label="{{$ctrl.isExpandAll ? (\'nui.loans.collapse\' | translate) : (\'nui.loans.expand\' | translate)}}"><md-tooltip md-autohide="true"><span ng-if="$ctrl.isExpandAll" translate="nui.loans.collapse"></span> <span ng-if="!$ctrl.isExpandAll" translate="nui.loans.expand"></span></md-tooltip><prm-icon ng-if="!$ctrl.isExpandAll" icon-type="{{$ctrl.accountIcons.expandAllIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.expandAllIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.expandAllIcon.icon}}"></prm-icon><prm-icon ng-if="$ctrl.isExpandAll" icon-type="{{$ctrl.accountIcons.collapseAllIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.collapseAllIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.collapseAllIcon.icon}}"></prm-icon></md-button></div></div><div role="document"><div layout="row" style="height: 40px; position: relative" layout-align="start center" ng-if="!$ctrl.isLoadingLoans && $ctrl.loans.length > 0"><div class="header-count" style="padding-left: 10px;"><span class="items-count margin-right-small" layout="column" ng-if="$ctrl.hasRenewableLoans() || $ctrl.isDefinedAnySelector()"><md-checkbox aria-labelledby="loansCheckboxId" ng-checked="$ctrl.isSelectAll" md-indeterminate="$ctrl.indeterminateState" ng-click="$ctrl.toggleAll()"><span id="loansCheckboxId" class="results-count" hide-sm hide-md><span translate="nui.loans.counter" translate-values="$ctrl.getLoansBalancePlaceHolder()"></span></span></md-checkbox></span><span class="items-count margin-right-small" layout="column" ng-if="!$ctrl.hasRenewableLoans() && !$ctrl.isDefinedAnySelector()"><span class="results-count" hide-sm hide-md><span translate="nui.loans.counter" translate-values="$ctrl.getLoansBalancePlaceHolder()"></span></span></span></div><span flex></span><div layout="row" ng-if="$ctrl.isDefinedAnySelector()"><md-button class="md-icon-button unpin-button" aria-label="{{$ctrl.showButtons() ? (\'nui.aria.bulk.pin\' | translate) : (\'nui.aria.bulk.pinDisabled\' | translate)}}" (click)="$ctrl.updateFavorites($event)" ng-disabled="!$ctrl.showButtons()"><md-tooltip md-delay="400"><span translate="nui.favorites.pin.tooltip"></span></md-tooltip><prm-icon class="h-flipped-25-icon" ng-class="{\'disabledFavTool\':!$ctrl.showButtons()}" icon-type="{{::$ctrl.favoritesIcons.pin.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.pin.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.pin.icon}}"></prm-icon></md-button><md-button class="md-icon-button has-bottom-arrow" ng-class="$ctrl.showPushtoActions ? \'arrow-showing\' : \'\' " aria-label="{{$ctrl.isChosenActions()}}" (click)="$ctrl.switchShowPushtoActions($event);$ctrl.closeOpenTabs($event);$event.stopPropagation()" ng-disabled="!$ctrl.showButtons()"><md-tooltip md-delay="400"><span translate="nui.favorites.pushto.tooltip"></span></md-tooltip><prm-icon icon-type="{{::$ctrl.favoritesIcons.favoriteActionsList.type}}" ng-class="{\'disabledFavTool\':!$ctrl.showButtons()}" svg-icon-set="{{::$ctrl.favoritesIcons.favoriteActionsList.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.favoriteActionsList.icon}}"></prm-icon></md-button><div class="account-actions-list"><div class="action-list-content" ng-if="$ctrl.showPushtoActions"><prm-action-list [display-all]="false" [item]="$ctrl.selectedItems()" [selected-ids]="$ctrl.selectedIdsArray" [display-close-icon]="true" flex role="application" style="margin: 8px" (close-modal)="$ctrl.switchShowPushtoActions()"></prm-action-list><div flex="0" flex-md="25" flex-lg="25" flex-xl="30" ng-class="{\'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus}"></div></div></div></div></div><prm-alert-bar ng-if="!$ctrl.isLoadingLoans" flex [alert-object]="$ctrl.renewResponseAlert"></prm-alert-bar><md-list class="separate-list-items gapped-list" layout="column"><md-list-item tabindex="0" class="md-3-line has-expand in-element-dialog-parent" ng-repeat="loan in $ctrl.loans" ng-class="{\'item-expanded\':loan.isExpanded}"><prm-loan [item]="::loan" index="{{$index + 1}}" [selected-ids]="$ctrl.selectedIds" [selector]="$ctrl.LOAN_ID_SELECTOR" (toggle-event)="$ctrl.handleToggleEvent($event)" class="in-element-dialog-context" layout="row" flex></prm-loan></md-list-item><div layout="row" layout-align="center center" ng-if="$ctrl.loans && $ctrl.loans.length > 0 && $ctrl.isMoreLoans" class="padding-top-large"><md-button (click)="$ctrl.loadMoreLoans()" translate="nui.brief.results.loadMore" class="button-confirm button-large"></md-button></div></md-list></div><prm-spinner ng-if="$ctrl.isLoadingLoans" class="half-transparent no-text bottom-loader" layout="row" layout-align="center end" layout-margin></prm-spinner><prm-loans-after parent-ctrl="$ctrl"></prm-loans-after>');
$templateCache.put('components/account/messagesAndBlocks/messages-and-blocks.html','<div class="tab-content-header" layout="row" layout-xs="column" layout-align="space-between end" layout-align-xs="start stretch"><div class="layout-column"><h2 class="zero-margin" layout="row" layout-align="start center"><span class="title" translate="nui.blocks.header"></span></h2><span class="header-subtitle"><prm-account-links tab-name="blocks"></prm-account-links></span><div ng-if="!$ctrl.numOfMessages || $ctrl.numOfMessages === \'0\'" ng-cloak class="message-with-icon" layout="row" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.beach.type}}" svg-icon-set="{{$ctrl.accountIcons.beach.iconSet}}" icon-definition="{{$ctrl.accountIcons.beach.icon}}"></prm-icon><div><span translate="nui.overview.noblocks"></span></div></div></div><div class="tab-header-actions"></div></div><md-list class="separate-list-items gapped-list" layout="column"><md-list-item tabindex="0" ng-if="$ctrl.patronBlock" class="md-3-line has-expand" ng-class="libraryItemExpand?\'item-expanded\':\'\'"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text" layout="row"><div flex><h3 translate="block.patron"></h3><h4 ng-repeat="item in $ctrl.patronBlockText">{{item}}</h4></div></div></div></md-list-item><div ng-repeat="(institutionCode, institution) in $ctrl.messagesDisplay"><div ng-repeat="(mainLocationCode, messages) in institution"><p class="unmuted-text">{{institutionCode}}<span ng-if="mainLocationCode">-{{mainLocationCode}}</span></p><md-list-item class="md-3-line {{message.new}}" ng-class="{\'block\': message.type === \'block\', \'message\': message.type === \'message\'}" ng-repeat="message in messages"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text" layout="row"><span class="item-index">{{message.index}}</span><div flex><p ng-if="message.ilsinstitutionname">{{message.ilsinstitutionname}}</p><p ng-if="message.text">{{message.text}}</p></div></div></div></md-list-item></div></div></md-list><prm-messages-and-blocks-after parent-ctrl="$ctrl"></prm-messages-and-blocks-after>');
$templateCache.put('components/account/overview/account-overview.html','<md-content flex id="accountoverview" tabindex="-1" role="main" layout="row" aria-label="{{\'nui.aria.navigationRegionAccountOverview\' | translate}}"><div ng-if="$ctrl.numOfInstitutions() > 1" hide-xs hide-sm class="institutions-list" role="region" aria-label="{{::(\'nui.aria.page.libraryCard.institutionsList\' | translate)}}"><div ng-if="$ctrl.isActiveFilter()"><prm-icon icon-type="{{$ctrl.accountIcons.filter.type}}" svg-icon-set="{{$ctrl.accountIcons.filter.iconSet}}" icon-definition="{{$ctrl.accountIcons.filter.icon}}"></prm-icon><md-input-container><md-select ng-model="$ctrl.filterInstitutionsWithActivities" aria-label="{{::(\'nui.aria.library.filter.institutionFilterDescription\' | translate)}}"><md-option aria-label="{{::(\'nui.aria.library.filter.allInstitutions\' | translate)}}" ng-value="false" translate="nui.overview.allInstitutionsFilter"></md-option><md-option aria-label="{{::(\'nui.aria.library.filter.onlyWithActivityInstitutions\' | translate)}}" ng-value="true" translate="nui.overview.hasActivityFilter"></md-option></md-select></md-input-container></div><md-list class="main-institution-list"><md-list-item class="md-2-line zero-padding" ng-repeat="inst in $ctrl.institutionsList()" ng-class="{\'is-selected\': $ctrl.selectedInstitution.institutionCode === inst.value.institutionCode}" aria-label="{{::$ctrl.getInstitutionButtonAriaLabel(inst)}}"><span class="institution-name md-button width-100 zero-margin" layout="row" layout-align="start center" ng-click="$ctrl.selectedInstitution1(inst)" aria-label="{{::$ctrl.getInstitutionButtonAriaLabel(inst)}}">{{\'my_account.institution\'+\'.\'+inst.label | translate}} </span><span class="accessible-only" role="alert" ng-if="inst.isClicked">{{$ctrl.getUpdateContentLabelAlert()}}</span><div ng-if="$ctrl.isActiveFilter() && inst.hasActivity" style="z-index: 1" ng-click="$ctrl.selectedInstitution1(inst)" tabindex="-1" translate-attr="{\'aria-label\': \'nui.aria.overview.hasActivity\'}"><md-tooltip><span translate="nui.overview.hasActivityTooltip"></span></md-tooltip><prm-icon icon-type="{{$ctrl.accountIcons.hasActivityIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.hasActivityIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.hasActivityIcon.icon}}"></prm-icon></div></md-list-item></md-list></div><md-tabs md-selected="$ctrl.selectedTabIndex" md-dynamic-height md-border-bottom class="static-tabs default-tabs" flex md-no-ink="true" role="region" aria-label="{{::(\'nui.aria.page.libraryCard.mainContent\' | translate)}}"><md-tab id="tab1" ng-if="!$ctrl.isRapidoSAEnabled" md-on-select="$ctrl.updateSelectedSection(\'overview\');\r\n        \t\t\t\t\t\t\t\t$ctrl.primolyticsService.doBeaconReport({\'p\':\'myAccount\', \'op\':\'menu.myaccount.overview\'}, undefined, $ctrl.primolyticsService.getTimestamp());"><md-tab-label><span translate="nui.overview.header"></span></md-tab-label><md-tab-body><div class="gridListdemoDynamicTiles"><div class="tiles-grid"><prm-loans-overview ng-if="$ctrl.requiredTabsList.indexOf(\'loans\') !== -1" ng-class="{\'display-block\': $ctrl.isBrowserChrome() && !$ctrl.isBrowserEdge()}" [loans-counters]="$ctrl.loansCounters" (link-to-loans-event)="$ctrl.handleOpenTabEvent($event,\'loans\')"></prm-loans-overview><prm-requests-overview ng-if="$ctrl.requiredTabsList.indexOf(\'requests\') !== -1" ng-class="{\'display-block\': $ctrl.isBrowserChrome() && !$ctrl.isBrowserEdge()}" [requests-counters]="$ctrl.requestsCounter" (link-to-requests-event)="$ctrl.handleOpenTabEvent($event,\'requests\')"></prm-requests-overview><prm-fines-overview ng-if="$ctrl.requiredTabsList.indexOf(\'fines\') !== -1" ng-class="{\'display-block\': $ctrl.isBrowserChrome() && !$ctrl.isBrowserEdge()}" [fines-counters]="$ctrl.finesCounters" [demerits-counter]="$ctrl.demeritsCounter" (link-to-fines-event)="$ctrl.handleOpenTabEvent($event,\'fines\')"></prm-fines-overview><prm-messages-and-blocks-overview ng-if="$ctrl.requiredTabsList.indexOf(\'blocks\') !== -1" ng-class="{\'display-block\': $ctrl.isBrowserChrome() && !$ctrl.isBrowserEdge()}" (link-to-messages-event)="$ctrl.handleOpenTabEvent($event,\'blocks\')"></prm-messages-and-blocks-overview><prm-deposits-overview ng-if="$ctrl.requiredTabsList.indexOf(\'deposits\') !== -1" ng-class="{\'display-block\': $ctrl.isBrowserChrome() && !$ctrl.isBrowserEdge()}" [deposits-counters]="$ctrl.depositsCounter" (link-to-deposits-event)="$ctrl.handleOpenTabEvent($event,\'deposits\')"></prm-deposits-overview></div></div></md-tab-body></md-tab><md-tab ng-if="$ctrl.requiredTabsList.indexOf(\'loans\') !== -1" md-on-select="$ctrl.updateSelectedSection(\'loans\'); $ctrl.primolyticsService.doBeaconReport({\'p\':\'myAccount\', \'op\':\'menu.myaccount.loans\'}, undefined, $ctrl.primolyticsService.getTimestamp()); $ctrl.focusFirstElement(\'loans\')" id="tab2"><md-tab-label><div layout="row"><span translate="nui.loans.header"></span><prm-icon ng-if="$ctrl.isLoansAlerts()" class="prm-warn" icon-type="{{$ctrl.accountIcons.timerIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.timerIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.timerIcon.icon}}"></prm-icon></div></md-tab-label><md-tab-body><div layout="row"><prm-loans [loans-counter]="$ctrl.loansCounters" [history-loans-counter]="$ctrl.historyLoansCounters" class="actions-list-spacer" flex></prm-loans><div flex="0" flex-gt-md="20"></div></div></md-tab-body></md-tab><md-tab ng-if="$ctrl.requiredTabsList.indexOf(\'requests\') !== -1" md-on-select="$ctrl.updateSelectedSection(\'requests\'); $ctrl.primolyticsService.doBeaconReport({\'p\':\'myAccount\', \'op\':\'menu.myaccount.requests\'}, undefined, $ctrl.primolyticsService.getTimestamp()); $ctrl.focusFirstElement(\'requests\')" id="tab3" label="Requests"><md-tab-label><div layout="row"><span translate="nui.requests.header"></span><prm-icon ng-if="$ctrl.requestsGeneralAlert" class="prm-positive" icon-type="{{$ctrl.accountIcons.requestsAlertIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.requestsAlertIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.requestsAlertIcon.icon}}"></prm-icon></div></md-tab-label><md-tab-body><div layout="row"><prm-requests [requests-counter]="$ctrl.requestsCounter" class="actions-list-spacer" flex></prm-requests><div flex="0" flex-gt-md="20"></div></div></md-tab-body></md-tab><md-tab ng-if="$ctrl.requiredTabsList.indexOf(\'fines\') !== -1" md-on-select="$ctrl.updateSelectedSection(\'fines\'); $ctrl.primolyticsService.doBeaconReport({\'p\':\'myAccount\', \'op\':\'menu.myaccount.finesAndFees\'}, undefined, $ctrl.primolyticsService.getTimestamp());\r\n                $ctrl.focusFirstElement(\'fines\')" id="tab4"><md-tab-label><div layout="row"><span translate="nui.fines.header"></span><div ng-if="$ctrl.finesGeneralAlert"><md-tooltip md-delay="400"><span translate="nui.fine.alert.tooltip"></span></md-tooltip><prm-icon class="prm-warn" icon-type="{{$ctrl.accountIcons.fineAlertIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.fineAlertIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.fineAlertIcon.icon}}"></prm-icon></div></div></md-tab-label><md-tab-body><div layout="row"><prm-fines [fines-counters]="$ctrl.finesCounters" [demerits-counter]="$ctrl.demeritsCounter" flex></prm-fines><div flex="0" flex-gt-md="20"></div></div></md-tab-body></md-tab><md-tab ng-if="$ctrl.requiredTabsList.indexOf(\'blocks\') !== -1 " md-on-select="$ctrl.updateSelectedSection(\'blocks_messages\'); $ctrl.primolyticsService.doBeaconReport({\'p\':\'myAccount\', \'op\':\'menu.myaccount.blocksAndMessages\'}, undefined, $ctrl.primolyticsService.getTimestamp())" id="tab5"><md-tab-label><div layout="row"><span translate="nui.blocks.header"></span><prm-icon ng-if="$ctrl.messagesGeneralAlert" class="prm-notice" icon-type="{{$ctrl.accountIcons.messagesAlertIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.messagesAlertIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.messagesAlertIcon.icon}}"></prm-icon></div></md-tab-label><md-tab-body><div layout="row"><prm-messages-and-blocks flex></prm-messages-and-blocks><div flex="0" flex-gt-md="20"></div></div></md-tab-body></md-tab><md-tab ng-if="$ctrl.requiredTabsList.indexOf(\'personal_settings\') !== -1" id="tab6" md-on-select="$ctrl.updateSelectedSection(\'personal_details\'); $ctrl.primolyticsService.doBeaconReport({\'p\':\'myAccount\', \'op\':\'menu.myaccount.personalDetails\'}, undefined, $ctrl.primolyticsService.getTimestamp()); $ctrl.focusFirstElement(\'personal_settings\')"><md-tab-label><span translate="nui.detailsAndSettings.header" ng-if="$ctrl.showUserSetting()"></span> <span translate="nui.details.header" ng-if="!$ctrl.showUserSetting()"></span></md-tab-label><md-tab-body><div layout="row" class="display-block"><prm-personal-info flex></prm-personal-info><div flex="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div></div></md-tab-body></md-tab><md-tab ng-if="$ctrl.requiredTabsList.indexOf(\'deposits\') !== -1" md-on-select="$ctrl.updateSelectedSection(\'deposits\'); $ctrl.primolyticsService.doBeaconReport({\'p\':\'myAccount\', \'op\':\'menu.myaccount.deposits\'})" id="tab7" label="Deposits"><md-tab-label><div layout="row"><span translate="nui.deposits.header"></span><prm-icon ng-if="$ctrl.depositsGeneralAlert" class="prm-positive" icon-type="{{$ctrl.accountIcons.depositsAlertIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.depositsAlertIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.depositsAlertIcon.icon}}"></prm-icon></div></md-tab-label><md-tab-body><div layout="row"><prm-deposits [deposits-counter]="$ctrl.depositsCounter" flex></prm-deposits><div flex="0" flex-gt-md="20"></div></div></md-tab-body></md-tab></md-tabs></md-content><prm-account-overview-after parent-ctrl="$ctrl"></prm-account-overview-after>');
$templateCache.put('components/account/personalInfo/personal-info.html','<div class="tab-content-header" layout="row" layout-align="space-between end"><div layout="column"><div class="header-title" layout="row" ng-if="!$ctrl.showUserSetting()"><h2 class="zero-margin" layout="row" layout-align="start center"><span translate="nui.details.header"></span></h2></div><div class="header-subtitle" ng-if="!$ctrl.showUserSetting()"><div ng-repeat="inst in $ctrl.generalSection" class="header-subtitle"><div ng-repeat="cur in inst" layout="column"><em class="first-letter-uppercase"><span ng-if="cur.institution" translate="nui.details.patronstatus.institution" translate-values="$ctrl.getPlaceHolders(cur)"></span> <span ng-if="::$ctrl.displayUserExpirationDateSection && cur.expiryDate" translate="nui.details.patronstatus.expirydate" translate-values="$ctrl.getPlaceHolders(cur)"></span> <span ng-if="cur.patronGroup" translate="nui.details.patronstatus.group" translate-values="$ctrl.getPlaceHolders(cur)"></span></em></div></div><prm-account-links tab-name="personalsettings"></prm-account-links></div></div></div><div layout="{{($ctrl.showUserSetting() && !$ctrl.mediaQueries.gtmd) || (!$ctrl.showUserSetting() && ($ctrl.mediaQueries.sm || $ctrl.mediaQueries.xs)) ? \'column\' : \'row\'}}" layout-align="{{$ctrl.showUserSetting() ? \'center start\' : \'start start\'}}" style="z-index: 1;"><div flex-xl="65" flex-md="{{!$ctrl.showUserSetting() ? \'70\' : \'\'}}" flex-sm="100" flex-xs="100" ng-class="{\'margin-bottom-medium\': !$ctrl.mediaQueries.gtmd, \'flex-lgPlus-50\': $ctrl.mediaQueries.lgPlus}"><h2 class="zero-margin" layout="row" layout-align="start center" ng-if="$ctrl.showUserSetting()"><span translate="nui.details.header"></span></h2><div class="header-subtitle" ng-if="$ctrl.showUserSetting()"><div ng-repeat="inst in $ctrl.generalSection" class="header-subtitle"><div ng-repeat="cur in inst" layout="column"><em class="first-letter-uppercase n"><span ng-if="cur.institution" translate="nui.details.patronstatus.institution" translate-values="$ctrl.getPlaceHolders(cur)"></span> <span ng-if="::$ctrl.displayUserExpirationDateSection && cur.expiryDate" translate="nui.details.patronstatus.expirydate" translate-values="$ctrl.getPlaceHolders(cur)"></span> <span ng-if="cur.patronGroup" translate="nui.details.patronstatus.group" translate-values="$ctrl.getPlaceHolders(cur)"></span></em></div></div><prm-account-links tab-name="personalsettings"></prm-account-links></div><md-card class="default-card card-with-header-actions" id="personalDetails" ng-class="{\'editable editable-active\':$ctrl.formMode == \'Edit\', \'error-warning\':$ctrl.formMode == \'Error\'}" flex flex-sm="100" flex-xs="100"><div class="bar success-bar" ng-repeat="msg in $ctrl.successMessages" layout-margin ng-if="$ctrl.successMessages.length > 0" layout="row" layout-align="start center"><span translate="{{msg}}" role="alert" aria-live="assertive" class="zero-margin"></span></div><div class="bar error-bar" ng-repeat="msg in $ctrl.errorMessages" layout-margin ng-if="$ctrl.errorMessages.length > 0" layout="row" layout-align="start center"><span translate="{{msg}}" role="alert" aria-live="assertive" class="zero-margin"></span></div><md-card-header class="transparent-toolbar" layout-fill><div class="md-toolbar-tools"><span flex></span><md-button id="personal_settings-focus" ng-if="$ctrl.isEditableByConfiguration && $ctrl.isEditable() && $ctrl.formMode == \'View\'" class="button-with-icon button-link" (click)="$ctrl.editDetails()" aria-label="{{\'nui.details.edit\' | translate}}"><prm-icon icon-type="{{$ctrl.accountIcons.editIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.editIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.editIcon.icon}}"></prm-icon><span translate="nui.details.edit"></span></md-button><md-button ng-if="$ctrl.formMode != \'View\'" class="button-with-icon button-warn" (click)="$ctrl.discardChanges()" aria-label="{{\'nui.details.discard\' | translate}}"><prm-icon icon-type="{{$ctrl.accountIcons.discardChangesIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.discardChangesIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.discardChangesIcon.icon}}"></prm-icon><span class="ng-scope" translate="nui.details.discard"></span></md-button><md-button ng-if="$ctrl.formMode != \'View\'" class="button-with-icon button-confirm" (click)="$ctrl.save()" aria-label="{{\'nui.details.Save\' | translate}}"><prm-icon icon-type="{{$ctrl.accountIcons.saveChangesIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.saveChangesIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.saveChangesIcon.icon}}"></prm-icon><span translate="nui.details.Save"></span></md-button></div></md-card-header><md-card-content class="presentable-disabled-inputs animate-form-inputs" layout="row" layout-wrap><div class="card-content-section layout-full-width" layout="row" layout-wrap layout-align="start start"><h3 class="accessible-only" layout-fill><span translate="nui.details.addressSection"></span></h3><div ng-if="!groupFields.hidden && $ctrl.isInFirstBulk(groupFields[0])" ng-repeat="groupFields in $ctrl.addressSection" class="input-containers-group" flex-xs="100" flex-gt-xs="50" flex-gt-md="33" layout="column"><div layout-margin><md-input-container ng-repeat="field in groupFields" ng-if="field.uiType!==\'hidden\'" class="underlined-input" layout="column" ng-class="{\'field-style-disabled\': $ctrl.formMode == \'View\' || field.uiType == \'readonly\'}"><label for="prm_{{field.label}}" translate="{{field.label}}"></label> <input ng-attr-id="prm_{{field.label}}" autocomplete="{{field.autoComplete}}" ng-model="$ctrl.personalInfo[field.name]" type="text" disabled="disabled" data-qa="personal_details_dropdown_{{field.name}}" ng-disabled="$ctrl.formMode == \'View\' || field.uiType == \'readonly\'"></md-input-container></div></div><div ng-if="$ctrl.isSuprima() && !groupFields.hidden && groupFields[0].name === \'country\'" ng-repeat="groupFields in $ctrl.addressSection" class="input-containers-group" flex-xs="100" flex-gt-xs="50" flex-gt-md="33" layout="column"><div layout-margin><md-input-container ng-repeat="field in groupFields" layout="column" ng-class="$ctrl.formMode == \'View\' ? \'field-style-disabled\' : \'underlined-input\'"><label for="prm_{{field.label}}" translate="{{field.label}}"></label><md-select ng-model="$ctrl.personalInfo[field.name]" ng-disabled="$ctrl.formMode == \'View\'" data-qa="personal_details_dropdown_{{field.name}}"><md-option class="narrow-options-list"></md-option><md-option ng-repeat="country in $ctrl.countryDropDownList()" class="narrow-options-list" ng-value="country"><span translate="nui.additionalCodes.CountryCodes.{{country}}"></span></md-option></md-select></md-input-container></div></div><div ng-if="!groupFields.hidden && $ctrl.isInSecondBulk(groupFields[0])" ng-repeat="groupFields in $ctrl.addressSection" class="input-containers-group" flex-xs="100" flex-gt-xs="50" flex-gt-md="33" layout="column"><div layout-margin><md-input-container ng-repeat="field in groupFields" ng-if="field.uiType!==\'hidden\'" class="underlined-input" layout="column" ng-class="{\'field-style-disabled\': $ctrl.formMode == \'View\' || field.uiType == \'readonly\'}"><label for="prm_{{field.label}}" translate="{{field.label}}"></label> <input ng-attr-id="prm_{{field.label}}" autocomplete="{{field.autoComplete}}" ng-model="$ctrl.personalInfo[field.name]" type="text" disabled="disabled" data-qa="personal_details_dropdown_{{field.name}}" ng-disabled="$ctrl.formMode == \'View\' || field.uiType == \'readonly\'"></md-input-container></div></div></div><md-divder class="card-divider margin-bottom-large" layout-margin></md-divder><div class="card-content-section layout-full-width" layout="row" layout-wrap layout-align="start start"><h3 class="accessible-only" layout-fill><span translate="nui.details.phoneNumberSection"></span></h3><div ng-repeat="groupFields in $ctrl.phoneNumberSection" class="input-containers-group" flex-xs="100" flex-gt-xs="50" flex-gt-md="50" layout="column"><div layout-margin><md-input-container ng-repeat="field in groupFields" class="underlined-input" layout="column" ng-class="{\'field-style-disabled\': $ctrl.formMode == \'View\' || field.uiType == \'readonly\'}"><label ng-if="field.uiType===\'text\' || field.uiType == \'readonly\'" for="prm_{{field.label}}" translate="{{field.label}}"></label> <input id="prm_{{field.label}}" autocomplete="{{field.autoComplete}}" ng-if="field.uiType===\'text\' || field.uiType == \'readonly\'" ng-model="$ctrl.personalInfo[field.name]" type="text" disabled="disabled" ng-disabled="$ctrl.formMode == \'View\' || field.uiType == \'readonly\'"><md-checkbox ng-if="field.uiType===\'checkbox\'" ng-model="$ctrl.personalInfo[field.name]" ng-disabled="$ctrl.formMode == \'View\'" ng-true-value="\'Y\'" ng-false-value="\'N\'"><span translate="{{field.label}}"></span></md-checkbox></md-input-container></div></div></div><md-divder ng-if="::$ctrl.displayCCEmailsSection" class="card-divider margin-bottom-medium" layout-margin></md-divder><div ng-if="::$ctrl.displayCCEmailsSection" class="user-info-section card-content-section layout-full-width cc-emails" layout="column" layout-wrap layout-align="start start"><label class="personal-info-headers"><span translate="contact.additional_email_addresses"></span></label><md-input-container ng-repeat="ccEmailInternal in $ctrl.internalCCEmailDisplayList track by $index" class="underlined-input" layout="column" ng-class="{\'field-style-disabled\': !$ctrl.allowEditingCCEmails || $ctrl.formMode == \'View\'}"><input ng-model="$ctrl.internalCCEmailsData[$index]" type="text" disabled="disabled" ng-disabled="!$ctrl.allowEditingCCEmails || $ctrl.formMode == \'View\'"></md-input-container><md-input-container ng-repeat="ccEmailExternal in $ctrl.externalCCEmailDisplayList" class="underlined-input" layout="column"><input ng-model="ccEmailExternal" type="text" disabled="disabled" ng-disabled="true"></md-input-container><md-button (click)="$ctrl.toggleShowAllCCEmails()" class="button-as-link link-alt-color zero-margin md-button md-primoExplore-theme md-ink-ripple" ng-if="$ctrl.displayShowAllCCEmailsButton"><span ng-show="!$ctrl.isShowAllCCEmails" translate="contact.button.show_all_user_additional_email_addresses"></span> <span ng-show="$ctrl.isShowAllCCEmails" translate="contact.button.show_less_user_additional_email_addresses"></span></md-button><md-button ng-if="$ctrl.allowEditingCCEmails && $ctrl.formMode === \'Edit\'" (click)="$ctrl.addCCEmail()" class="button-link"><prm-icon icon-type="{{$ctrl.accountIcons.add.type}}" svg-icon-set="{{$ctrl.accountIcons.add.iconSet}}" icon-definition="{{$ctrl.accountIcons.add.icon}}"></prm-icon><span translate="contact.button.add_new_additional_email"></span></md-button></div><md-divder ng-if="$ctrl.displayIdentifiersSection" class="card-divider margin-bottom-medium" layout-margin></md-divder><div ng-if="$ctrl.displayIdentifiersSection" layout-align="start start" class="card-content-section layout-full-width user-info-section" layout="column" layout-align="start start"><label class="personal-info-headers"><span translate="contact.user_identifiers" class="ng-scope"></span></label><div ng-repeat="identifier in $ctrl.identifiersDisplayList track by $index" class="margin-bottom-tiny margin-top-small margin-left-small" layout="row"><div><span>{{identifier.type}}</span> <span class="margin-left-medium">{{identifier.value}}</span></div></div><md-button (click)="$ctrl.toggleShowAllIdentifiers()" class="button-as-link link-alt-color md-button md-primoExplore-theme md-ink-ripple" ng-if="$ctrl.displayShowAllIdentifiersButton"><span ng-show="!$ctrl.isShowAllIdentifiers" translate="contact.button.show_all_identifiers"></span> <span ng-show="$ctrl.isShowAllIdentifiers" translate="contact.button.show_less_identifiers"></span></md-button></div><md-divder ng-if="$ctrl.displayRolesSection" class="card-divider margin-bottom-medium" layout-align="start start" layout-margin></md-divder><div ng-if="$ctrl.displayRolesSection" layout-align="start start" class="mmargin-bottom-tiny card-content-section layout-full-width user-info-section" layout="column" layout-wrap layout-align="start start"><label class="personal-info-headers"><span translate="contact.user_roles" class="ng-scope"></span></label><div ng-repeat="role in $ctrl.rolesDisplayList track by $index" class="md-list-item-text margin-top-small margin-left-small" layout="row"><div layout="column"><span class="bold-text">{{role.type}}</span> <span>{{role.scope}}</span></div><div class="weak-text margin-left-medium" layout="column"><span ng-if="$ctrl.isExpieryDate(role)"><span translate="contact.user_roles.expiration_date"></span> <span>{{$ctrl.roleExpieryDate(role)}}</span></span></div></div><md-button (click)="$ctrl.toggleShowAllRoles()" class="button-as-link link-alt-color zero-margin md-button md-primoExplore-theme md-ink-ripple margin-top-small" ng-if="$ctrl.displayShowAllRolesButton"><span ng-show="!$ctrl.isShowAllRoles" translate="contact.button.show_all_roles"></span> <span ng-show="$ctrl.isShowAllRoles" translate="contact.button.show_less_roles"></span></md-button></div><md-divder ng-if="false" class="card-divider margin-bottom-medium" layout-margin></md-divder><div ng-if="false" class="card-content-section layout-full-width" layout="row" layout-wrap layout-align="start start"><div flex flex-gt-xs="45" flex-gt-md="30"><div layout-margin><md-input-container ng-hide="true" layout="row" class="underlined-input"><label><span translate="nui.details.mailing"></span></label><md-select ng-model="$ctrl.mailSelectedOption"><md-option ng-repeat="option in $ctrl.mailOptions" value="{{option.value}}"><span translate="results.sortby.option.{{option.text}}"></span></md-option></md-select></md-input-container></div></div></div><md-divder ng-if="$ctrl.showActionSection()" class="card-divider margin-bottom-medium" layout-margin></md-divder><div ng-if="$ctrl.showActionSection()" class="card-content-section layout-full-width" layout="row" ng-class="{\'field-style-disabled\' : $ctrl.formMode == \'View\'}" layout-wrap layout-align="start start"><h4 class="card-content-section-title" layout-fill><span translate="nui.details.actionSection"></span></h4><md-checkbox ng-repeat="cur in $ctrl.actionSection" class="has-small-text zero-margin" ng-model="$ctrl.personalInfo[cur.name]" ng-disabled="$ctrl.formMode == \'View\'" flex="50" ng-if="cur.uiType !== \'hidden\'"><div layout="column"><span translate="{{cur.label}}"></span></div></md-checkbox></div></md-card-content></md-card></div><div flex-xl="{{$ctrl.showUserSetting() ? \'35\' : \'25\'}}" flex-md="{{!$ctrl.showUserSetting() ? \'30\' : \'\'}}" ng-class="{\'flex-lgPlus-25\': $ctrl.mediaQueries.lgPlus}" class="width-100"><h2 class="zero-margin" layout="row" layout-align="start center" ng-if="$ctrl.showUserSetting()"><span translate="nui.userSettings.header"></span></h2><div style="height: 19px" ng-if="$ctrl.showUserSetting()"></div><md-card class="default-card" flex-sm="100" flex-xs="100"><md-card-content layout="column" layout-align="space-around center"><prm-personal-settings ng-class="{\'width-100\': $ctrl.showUserSetting()}"></prm-personal-settings></md-card-content></md-card></div></div><prm-personal-info-after parent-ctrl="$ctrl"></prm-personal-info-after>');
$templateCache.put('components/account/personalInfo/personal-settings.html','<div layout="column" layout-align="center center"><div class="switch-options" layout="column" layout-align="center start" ng-class="{\'width-100\': ($ctrl.isShowUserSetting && !$ctrl.mediaQueries.gtmd)}" ng-if="$ctrl.isShowUserSetting"><div layout="column" class="switch-option width-100" ng-if="$ctrl.showSaveSearchHistoryToggle()"><div layout="row" layout-align="space-between start" class="switch-without-button"><span class="switch-text" translate="nui.mypref.label.save_history"></span><md-switch ng-model="$ctrl.allowSavingSearchHistory" ng-change="$ctrl.toggleSaveSearchHistory()" class="tiny-switch zero-margin" ng-class="$ctrl.allowSavingSearchHistory ? \'active\' : \'inactive\'" data-qa="allow_save_search_history_toggle" translate-attr="{\'aria-label\': \'nui.aria.allowSavingHistory\'}"></md-switch></div><span class="switch-warning-message" translate="nui.mypref.label.errorSavingSettings" role="alert" ng-if="$ctrl.failedChangeSaveSearchHistory"></span></div><div layout="column" class="switch-option width-100" ng-if="$ctrl.showUseSearchHistoryToggle()"><div layout="row" layout-align="space-between start" class="switch-without-button"><span class="switch-text" translate="nui.mypref.label.save_history_suggestions"></span><md-switch ng-model="$ctrl.useSavedSearchHistory" ng-change="$ctrl.toggleUseSearchHistory()" class="tiny-switch zero-margin" ng-class="$ctrl.useSavedSearchHistory ? \'active\' : \'inactive\'" data-qa="use_save_search_history_toggle" translate-attr="{\'aria-label\': \'nui.aria.useHistoryForRecent\'}"></md-switch></div><span class="switch-warning-message" translate="nui.mypref.label.errorSavingSettings" role="alert" ng-if="$ctrl.failedChangeUseSearchHistory"></span></div><div layout="column" class="switch-option width-100" ng-if="$ctrl.showAutoExtendMySessionToggle()"><div layout="row" layout-align="space-between start" class="switch-without-button"><div layout="column"><span class="switch-text" translate="nui.mypref.label.extendMySession"></span><details layout="column" ng-click="$ctrl.showMoreToggle()" data-qa="use_extend_session_show_more_info" aria-live="assertive"><summary translate="nui.mypref.label.extendMySessionShowMore"></summary><span translate="nui.mypref.label.extendMySessionInfo"></span></details></div><md-switch ng-model="$ctrl.autoExtendMySession" ng-change="$ctrl.toggleAutoExtendMySession()" class="tiny-switch zero-margin" ng-class="$ctrl.useSavedSearchHistory ? \'active\' : \'inactive\'" data-qa="use_extend_session_toggle" translate-attr="{\'aria-label\': \'nui.aria.extendMySession\'}"></md-switch></div></div></div></div><md-divider class="card-divider" ng-if="$ctrl.isShowUserSetting" layout-margin></md-divider><prm-change-lang label-type="text" ng-class="{\'width-100\': $ctrl.isShowUserSetting}" layout="{{$ctrl.isShowUserSetting ? \'row\' : \'column\'}}" layout-align="{{$ctrl.isShowUserSetting ? \'space-between center\' : \'center center\'}}" is-my-account="true"></prm-change-lang><md-divider class="card-divider" layout-margin></md-divider><md-button ng-if="$ctrl.showPasswordSection()" class="button-link" aria-label="{{\'contact.header.changePassword\' | translate}}{{\' \'}}{{\'nui.aria.account.details.editpassword\' | translate}}" ng-click="$ctrl.showLoginDialog()" id="changePasswordBtn"><span translate="contact.header.changePassword"></span></md-button><prm-personal-settings-after parent-ctrl="$ctrl"></prm-personal-settings-after>');
$templateCache.put('components/account/requests/request-confirm-dialog.html','<md-dialog class="in-element-dialog" layout="column"><form layout="row" layout-align="end center" layout-fill><md-dialog-content><div class="md-dialog-content bold-text" layout-align="center"><span translate="nui.request.confirm.message"></span></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="ctrl.hide()"><span translate="nui.request.confirm.no"></span></md-button><md-button class="dialog-primary button-confirm" ng-click="ctrl.cancelIt(); ctrl.hide();"><span translate="nui.request.confirm.ok"></span></md-button></div></form></md-dialog>');
$templateCache.put('components/account/requests/requests.html','<div ng-if="!$ctrl.isLoadingRequests" class="tab-content-header" layout="row" layout-xs="column" layout-align="space-between end" layout-align-xs="start stretch"><div layout="column"><div class="header-title" layout="row"><h2 class="zero-margin" layout="row" layout-align="start center"><span translate="nui.requests.header"></span></h2></div><div class="header-subtitle"><span class="items-count margin-right-small"><em translate="nui.requests.counter" translate-values="$ctrl.getRequestsCountPlaceHolder()" ng-if="!$ctrl.isDefinedAnySelector() && $ctrl.requestsCounter"></em><prm-account-links tab-name="requests"></prm-account-links></span></div><div ng-if="(!$ctrl.requestsCounter || $ctrl.requestsCounter === \'0\')" ng-cloak class="message-with-icon" layout="row" layout-align="center center" layout-padding layout-margin><prm-multi-select-filter ng-if="$ctrl.requestsExist" filter-label="nui.librarycard.request.filter_request_type" [filter-options]="$ctrl.filterOptions" [filter-values]="$ctrl.filterValues" (values-change)="$ctrl.setFilterValues($event)"></prm-multi-select-filter><prm-icon class="giant-icon bg-icon" ng-if="!$ctrl.requestsExist" icon-type="{{$ctrl.accountIcons.sun.type}}" svg-icon-set="{{$ctrl.accountIcons.sun.iconSet}}" icon-definition="{{$ctrl.accountIcons.sun.icon}}"></prm-icon><div ng-if="!$ctrl.requestsExist"><span translate="nui.overview.norequests"></span></div></div></div><div class="tab-header-actions requests-header-actions-layout" layout="row" layout-align="end center" layout-align-xs="space-between center" ng-if="$ctrl.requestsCounter"><prm-multi-select-filter filter-label="nui.librarycard.request.filter_request_type" [filter-options]="$ctrl.filterOptions" [filter-values]="$ctrl.filterValues" (values-change)="$ctrl.setFilterValues($event)"></prm-multi-select-filter><md-divider class="vertical-divider transparent-divider hide-on-extra-small"></md-divider><div layout="row" layout-align="start center"><md-input-container class="static-select empty-select-on-init" layout="row"><label class="bold-text"><span translate="nui.librarycard.sortby"></span></label><md-select id="requests-focus" ng-model="$ctrl.sortBy" ng-change="$ctrl.sortRequestsDisplay()" aria-label="{{::(\'nui.librarycard.sortby\' | translate)}}"><md-option ng-repeat="sortOption in ::$ctrl.sortOptions" value="{{::sortOption.fieldName}}"><span translate="{{::sortOption.optionName}}"></span></md-option></md-select></md-input-container></div><md-divider class="vertical-divider transparent-divider"></md-divider><md-button class="md-icon-button header-action expand-collapse-button" (click)="$ctrl.toggleAllExpand()" aria-label="epand all request items button"><md-tooltip md-autohide="true"><span ng-if="$ctrl.isAllExpanded" translate="nui.librarycard.collapseall.tooltip"></span><span ng-if="!$ctrl.isAllExpanded" translate="nui.librarycard.expandall.tooltip"></span></md-tooltip><span ng-if="!$ctrl.isAllExpanded"><prm-icon icon-type="{{::$ctrl.accountIcons.expandAllIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.expandAllIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.expandAllIcon.icon}}"></prm-icon></span><span ng-if="$ctrl.isAllExpanded"><prm-icon icon-type="{{::$ctrl.accountIcons.collapseAllIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.collapseAllIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.collapseAllIcon.icon}}"></prm-icon></span></md-button></div></div><div role="document"><div ng-if="$ctrl.isDefinedAnySelector() && !$ctrl.isLoadingRequests" layout="row" style="height: 40px; position: relative" layout-align="start center"><div class="header-count" style="padding-left: 10px;"><span class="items-count margin-right-small" layout="column"><md-checkbox aria-label="Checkbox {{$index}}" ng-checked="$ctrl.isSelectAll" md-indeterminate="$ctrl.indeterminateState" ng-click="$ctrl.toggleAll()"><span translate="nui.requests.counter" translate-values="$ctrl.getRequestsCountPlaceHolder()"></span></md-checkbox></span></div><span flex></span><div layout="row"><md-button class="md-icon-button unpin-button" aria-label="{{$ctrl.isChosenFav() | translate}}" (click)="$ctrl.updateFavorites($event)" ng-disabled="!$ctrl.showButtons()"><md-tooltip md-delay="400"><span translate="nui.favorites.pin.tooltip"></span></md-tooltip><prm-icon class="h-flipped-25-icon" ng-class="{\'disabledFavTool\':!$ctrl.showButtons()}" icon-type="{{::$ctrl.favoritesIcons.pin.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.pin.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.pin.icon}}"></prm-icon></md-button><md-button class="md-icon-button has-bottom-arrow" ng-class="$ctrl.showPushtoActions ? \'arrow-showing\' : \'\' " aria-label="{{$ctrl.isChosenActions()}}" (click)="$ctrl.switchShowPushtoActions($event);$ctrl.closeOpenTabs($event);$event.stopPropagation()" ng-disabled="!$ctrl.showButtons()"><md-tooltip md-delay="400"><span translate="nui.favorites.pushto.tooltip"></span></md-tooltip><prm-icon icon-type="{{::$ctrl.favoritesIcons.favoriteActionsList.type}}" ng-class="{\'disabledFavTool\':!$ctrl.showButtons()}" svg-icon-set="{{::$ctrl.favoritesIcons.favoriteActionsList.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.favoriteActionsList.icon}}"></prm-icon></md-button><div class="account-actions-list"><div class="action-list-content" ng-if="$ctrl.showPushtoActions"><prm-action-list [display-all]="false" [item]="$ctrl.selectedItems()" [selected-ids]="$ctrl.selectedIdsArray" [display-close-icon]="true" flex style="margin: 8px" (close-modal)="$ctrl.switchShowPushtoActions()"></prm-action-list><div flex="0" flex-md="25" flex-lg="25" flex-xl="30" ng-class="{\'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus}"></div></div></div></div></div><prm-alert-bar ng-if="!$ctrl.isLoadingRequests" flex [alert-object]="$ctrl.rapidoRenewResponseAlert"></prm-alert-bar><md-list class="separate-list-items gapped-list" layout="column"><md-list-item tabindex="0" class="md-3-line has-expand in-element-dialog-parent" ng-repeat="requestDisplay in $ctrl.requestsByType() | limitTo:$ctrl.getAmountOfRequestToShow()" ng-hide="actionSuccessful" ng-class="requestDisplay.isExpanded?\'item-expanded\':\'\'" ng-init="$ctrl.addFilterOption(requestDisplay)"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text md-list-item-with-checkbox" layout="row" layout-wrap flex aria-live="assertive"><md-checkbox ng-model="$ctrl.selectedIds[requestDisplay[$ctrl.REQUEST_ID]]" aria-label="Checkbox {{$index}}" ng-change="$ctrl.toggleSelected(requestDisplay[$ctrl.REQUEST_ID])" ng-if="requestDisplay[$ctrl.REQUEST_ID_SELECTOR]"></md-checkbox><span class="item-index">{{$index + 1}}</span><div flex="40" flex-xs="100"><div layout="row" class="title-row" ng-class="{\'is-hovered\': isHovered && requestDisplay[$ctrl.REQUEST_ID_SELECTOR]}" ng-mouseenter="isHovered = true" ng-mouseleave="isHovered = false"><h3 data-qa="{{requestDisplay.title ? \'automation_mlc_record_title\' : \'\'}}" ng-if="::requestDisplay.firstLineLeft" title="{{::requestDisplay.firstLineLeft}}" dir="auto"><a ng-click="$event.stopPropagation();" ng-if="requestDisplay[$ctrl.REQUEST_ID_SELECTOR]" class="arrow-link" aria-label="{{::requestDisplay.firstLineLeft}}{{\' \'}}{{\'nui.aria.newWindow\' | translate}}" target="_blank" ui-sref="fulldisplay({\r\n\t\t\t   \t\t\t\tvid:\'{{$ctrl.vid}}\',\r\n\t\t\t   \t\t\t\tscope:\'{{$ctrl.queryOptions.scope}}\',\r\n\t\t\t   \t\t\t\ttab:\'{{$ctrl.queryOptions.tab}}\',\r\n\t\t\t   \t\t\t\tid:\'{{requestDisplay[$ctrl.REQUEST_ID_SELECTOR]}}\',\r\n\t\t\t   \t\t\t\tinst:\'{{requestDisplay.ilsinstitutioncode}}\',  \r\n\t\t\t   \t\t\t\tcontext:\'L\'\r\n\t\t   \t\t\t\t})" ui-sref-opts="{reload: true}">{{::requestDisplay.firstLineLeft}} </a><span ng-if="!requestDisplay[$ctrl.REQUEST_ID_SELECTOR]">{{::requestDisplay.firstLineLeft}}</span></h3><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon></div><h4 ng-if="::requestDisplay.secondLineLeft"><span translate="nui.request.brief.1"></span> {{::requestDisplay.secondLineLeft}}</h4><p class="rapido-material-type" ng-if="::requestDisplay.requestType == \'ill\' && requestDisplay.format">{{$ctrl.getRequestMaterialTypeLabel(requestDisplay)}}</p><div ng-if="requestDisplay.requestType == \'ill\' && requestDisplay.isExpanded"><p ng-if="::requestDisplay.materialType == \'article\' && requestDisplay.publicationDate"><span translate="nui.request.publication_date"></span>{{": " + requestDisplay.publicationDate}}</p><p ng-if="::requestDisplay.volume && $ctrl.isRapidoInst()"><span translate="nui.ngrs.request.volume"></span>{{": " + requestDisplay.volume}}</p><p ng-if="::requestDisplay.chapterTitle && requestDisplay.chapterNumber"><span translate="nui.request.chapter_number"></span>{{": " + requestDisplay.chapterNumber}}</p><p ng-if="::requestDisplay.pages"><span translate="nui.request.pages"></span>{{": " + requestDisplay.pages}}</p><p ng-if="::requestDisplay.composer"><span translate="nui.ngrs.request.digital.composer"></span>{{": " + requestDisplay.composer}}</p><p ng-if="::requestDisplay.opus"><span translate="nui.ngrs.request.digital.opus"></span>{{": " + requestDisplay.opus}}</p><p ng-if="::requestDisplay.songMovement"><span translate="nui.ngrs.request.digital.song_movement"></span>{{": " + requestDisplay.songMovement}}</p><p ng-if="::requestDisplay.musicPart"><span translate="nui.ngrs.request.digital.part"></span>{{": " + requestDisplay.musicPart}}</p></div></div><div flex flex-xs="100" class="weak-text"><p class="bold-text" ng-if="::requestDisplay.firstLineRight" ng-style="::(request.new && {\'color\':\'#5cb85c\'})"><prm-icon ng-if="::requestDisplay.isAlert" style="color: #5cb85c;" icon-type="{{::$ctrl.accountIcons.requestsAlertIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.requestsAlertIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.requestsAlertIcon.icon}}"></prm-icon><span class="text-uppercase"><span translate="{{::(\'request.\'+requestDisplay.requestType+\'.request_type\')}}"></span></span>.{{requestDisplay.firstLineRight}}</p><p ng-if="requestDisplay.requestType == \'ill\' && $ctrl.showRapidoDate(requestDisplay.rsDuedate)" class="request-location dateContent"><span translate="nui.rapido.sa.request.duedate"></span>&nbsp;{{$ctrl.getDateFormat(requestDisplay.rsDuedate)}}</p><div ng-if="::$ctrl.isRapidoInst() && requestDisplay.requestType == \'ill\'"><p ng-if="!$ctrl.isRapidoDigitalRequest(requestDisplay.format) && $ctrl.showRapidoDate(requestDisplay.dates.pickupOrDeliveryDate)" class="request-location dateContent"><span translate="nui.ngrs.request.date.pickup"></span>&nbsp;{{$ctrl.getDateFormat(requestDisplay.dates.pickupOrDeliveryDate)}}</p><p ng-if="!$ctrl.isRapidoDigitalRequest(requestDisplay.format) && !$ctrl.showRapidoDate(requestDisplay.dates.pickupOrDeliveryDate) && !$ctrl.showRapidoDate(requestDisplay.dates.unavailableResource)" class="request-location"><span translate="nui.ngrs.request.date.pickup"></span>&nbsp;<span translate="nui.ngrs.request.terms_not_defiend"></span></p><p ng-if="!$ctrl.isRapidoDigitalRequest(requestDisplay.format) && $ctrl.showRapidoDate(requestDisplay.dates.unavailableResource)" class="request-location"><span translate="nui.ngrs.request.date.pickup"></span>&nbsp;<span translate="rapido.tiles.physical.best_offer.cannot_be_determined"></span></p><p ng-if="!$ctrl.isRapidoDigitalRequest(requestDisplay.format) && $ctrl.showRapidoDate(requestDisplay.expirationDate)" class="request-location pickup-until"><span translate="nui.ngrs.request.date.pickup_until"></span>&nbsp;{{$ctrl.getDateFormat(requestDisplay.expirationDate)}}</p><p ng-if="$ctrl.isRapidoDigitalRequest(requestDisplay.format) && $ctrl.showRapidoDate(requestDisplay.dates.pickupOrDeliveryDate)" class="request-location dateContent"><span translate="nui.ngrs.request.date.delivery"></span>&nbsp;{{$ctrl.getDateFormat(requestDisplay.dates.pickupOrDeliveryDate)}}</p></div><p ng-if="::$ctrl.showPickupLocation(requestDisplay)" class="request-location"><span ng-if="requestDisplay.requestType != \'cdls\'" translate="nui.request.brief.2"></span> <span ng-if="requestDisplay.requestType == \'cdls\'" translate="nui.request.brief.loan_period"></span> {{::requestDisplay.secondLineRight}}</p><div ng-if="requestDisplay.requestType == \'ill\' && requestDisplay.isExpanded"><p ng-if="::requestDisplay.externalId" class="request-location"><span translate="nui.request.request_id"></span> {{::requestDisplay.externalId}}</p></div><div ng-if="requestDisplay.isDownloadable && requestDisplay.isExpanded"><p ng-if="::requestDisplay.maxNumOfViews && requestDisplay.maxNumOfViews !== \'0\'" class="request-location"><span translate="nui.request.max_num_of_views"></span> {{::requestDisplay.maxNumOfViews}}</p></div><div ng-if="$ctrl.isRapidoInst() && requestDisplay.isDownloadable && requestDisplay.isExpanded"><p ng-if="::requestDisplay.currNumOfViews && requestDisplay.currNumOfViews !== \'0\'" class="request-location"><span translate="nui.request.curr_num_of_views" translate-values="{\'idx_0\' : requestDisplay.currNumOfViews}"></span></p></div><div ng-if="$ctrl.isRapidoInst() && requestDisplay.isDownloadable && requestDisplay.isExpanded"><p ng-if="::requestDisplay.downloadExpiryDate" class="request-location"><span translate="nui.request.download_expiry_date"></span> {{::requestDisplay.downloadExpiryDate}}</p></div><div ng-if="requestDisplay.isExpanded"><p ng-repeat="line in ::requestDisplay.expandedDisplay"><span ng-if="line.label != \'request_id\'"><span translate="{{::(line.label)}}"></span> {{::line.data}}</span></p><p ng-if="$ctrl.isRapidoInst() && requestDisplay.requestType == \'ill\' && !$ctrl.isRapidoDigitalRequest(requestDisplay.format) && $ctrl.showRapidoDate(requestDisplay.dates.dueDate) && !$ctrl.showRapidoDate(requestDisplay.rsDuedate)" class="request-location"><span translate="nui.ngrs.request.date.due_date"></span>&nbsp;{{$ctrl.getDateFormat(requestDisplay.dates.dueDate)}}</p><p ng-if="$ctrl.isRapidoInst() && requestDisplay.requestType == \'ill\' && !$ctrl.isRapidoDigitalRequest(requestDisplay.format) && !$ctrl.showRapidoDate(requestDisplay.dates.dueDate) && !$ctrl.showRapidoDate(requestDisplay.dates.unavailableResource) && !$ctrl.showRapidoDate(requestDisplay.rsDuedate)" class="request-location"><span translate="nui.ngrs.request.date.due_date"></span>&nbsp;<span translate="nui.ngrs.request.terms_not_defiend"></span></p><p ng-if="::$ctrl.isRapidoInst() && requestDisplay.requestType == \'ill\' && !$ctrl.isRapidoDigitalRequest(requestDisplay.format) && $ctrl.showRapidoDate(requestDisplay.dates.unavailableResource) && !$ctrl.showRapidoDate(requestDisplay.rsDuedate)" class="request-location"><span translate="nui.ngrs.request.date.due_date"></span>&nbsp;<span translate="rapido.tiles.physical.best_offer.cannot_be_determined"></span></p></div></div><div layout-align="{{$ctrl.mediaQueries.xs ? \'center center\' : \'end center\'}}" layout="row" layout-wrap flex-xs="100" flex-sm="30" flex class="list-item-actions dwn-warning-message"><div ng-if="$ctrl.isRapidoRenewable(requestDisplay)"><div ng-if="$ctrl.isRapidoRenewable(requestDisplay) && $ctrl.isRapidoRenewRequested(requestDisplay) && !$ctrl.isRenewd(requestDisplay) && !$ctrl.isRapidoRenewInProgress(requestDisplay)" class="renewable"><md-button class="button-with-icon zero-margin button-link" (click)="$ctrl.renewRapidoSA($event, requestDisplay)" aria-label="{{\'nui.loans.renew\' | translate}}"><prm-icon class="h-flipped" icon-type="{{::$ctrl.accountIcons.renewLoanIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.renewLoanIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.renewLoanIcon.icon}}"></prm-icon><span translate="nui.loans.renew"></span></md-button></div><prm-spinner class="inline-loader half-transparent no-text" layout="row" layout-align="center center" ng-if="$ctrl.isRapidoRenewInProgress(requestDisplay)"></prm-spinner><div class="item-respond" ng-if="$ctrl.isRenewRequestedRapidoSA(requestDisplay)"><span ng-style="!$ctrl.isRenewedRequestSuccessRapidoSA(requestDisplay) && {\'color\':\'tomato\'} || $ctrl.isRenewedRequestSuccessRapidoSA(requestDisplay) && {\'color\':\'green\'}"><span>{{$ctrl.renewResponseRapido(requestDisplay)}}</span></span></div><div ng-if="!$ctrl.isRapidoRenewable(requestDisplay) && !$ctrl.isRapidoRenewInProgress(requestDisplay) " class="not-renewable weak-text" aria-label="{{\'nui.loans.notRenewable\' | translate}}" aria-hidden="false" layout-align="start center"><prm-icon ng-if="!$ctrl.isRapidoRenewable(requestDisplay) " icon-type="{{::$ctrl.accountIcons.notRenewableIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.notRenewableIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.notRenewableIcon.icon}}"></prm-icon><span ng-if="!$ctrl.isRapidoRenewable(requestDisplay) " translate="nui.loans.notRenewable"></span> <span ng-if="$ctrl.isPendingApprovalRapidoSA" translate="loans.pendingApproval"></span><div aria-hidden="true" class="md-tooltip-container"><md-tooltip ng-if="$ctrl.notRenewableReasonsArrayRapidoSA(requestDisplay).length > 0" md-direction="down" md-delay="400" class="multi-row-tooltip slide-tooltip-anim"><span class="popover animate-popover" translate="nui.loans.cannotRenewThisItem"></span><br/><span ng-if="$ctrl.isNotRenewableWithCauseRapidoSA(requestDisplay)" class="tooltip-content" ng-repeat="reason in $ctrl.notRenewableReasonsArrayRapidoSA(requestDisplay) | limitTo:2">{{reason}}<br/></span><span ng-if="$ctrl.isNotRenewableWithCauseRapidoSA(requestDisplay) && $ctrl.notRenewableReasonsArrayRapidoSA(requestDisplay).length > 2" class="tooltip-content">...</span></md-tooltip></div><div ng-if="$ctrl.notRenewableReasonsArrayRapidoSA(requestDisplay).length > 0" class="accessible-only"><span class="popover animate-popover" translate="nui.loans.cannotRenewThisItem"></span><br/><span ng-if="::$ctrl.isNotRenewableWithCauseRapidoSA(requestDisplay)" class="tooltip-content" ng-repeat="reason in $ctrl.notRenewableReasonsArrayRapidoSA(requestDisplay) | limitTo:2">{{reason}}<br/></span><span ng-if="::$ctrl.isNotRenewableWithCauseRapidoSA(requestDisplay) && $ctrl.notRenewableReasonsArrayRapidoSA(requestDisplay).length> 2" class="tooltip-content">...</span></div></div></div><md-button ng-if="::(requestDisplay.isCancelable)" class="button-with-icon zero-margin button-link" ng-hide="$ctrl.cancelPromptDisplayId === requestDisplay.requestId || $ctrl.failedRequestId === requestDisplay.requestId" ng-disabled="$ctrl.isInCancelAction" (click)="$ctrl.showCancelPrompt($event,requestDisplay.requestId, requestDisplay.requestType)" translate-attr="{\'aria-label\': \'nui.aria.request.cancel\'}"><prm-icon class="h-flipped" icon-type="{{::$ctrl.accountIcons.removeIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.removeIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.removeIcon.icon}}"></prm-icon><span translate="nui.requests.cancel"></span></md-button><div class="item-respond" ng-if="$ctrl.failedRequestId === requestDisplay.requestId"><span class="error-response">{{$ctrl.failedRequestMessage}}</span></div><md-button ng-if="::(requestDisplay.isDownloadable)" class="button-with-icon zero-margin button-link" ng-disabled="$ctrl.isInDownloadAction[requestDisplay.requestId]" (click)="$ctrl.downloadDocumentDeliveryFile($event, requestDisplay.requestId)" aria-label="download request button"><prm-icon class="h-flipped" icon-type="{{::$ctrl.accountIcons.downloadIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.downloadIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.downloadIcon.icon}}"></prm-icon><span translate="nui.requests.download"></span></md-button><a id="download-link" style="display: none" ng-href="{{$ctrl.documentDeliveryUrl}}" target="_blank"></a><md-button ng-if="::(requestDisplay.deliveryUrl)" class="button-with-icon zero-margin button-link" (click)="$ctrl.viewRepresentation(requestDisplay.requestId)" translate-attr="{\'aria-label\': \'nui.requests.view\'}"><span translate="nui.requests.view"></span></md-button><a id="delivery-link_{{requestDisplay.requestId}}" style="display: none" ng-href="{{requestDisplay.deliveryUrl}}" target="_blank"></a><div layout-align="start center" layout="row" flex flex-xs="100" ng-if="requestDisplay.requestType == \'cdls\' && $ctrl.isCDLRequestInBeingViewedState(requestDisplay) && !$ctrl.notDisplayCDLButtons(requestDisplay)"><div ng-if="$ctrl.isRenewable(requestDisplay)  && !$ctrl.isRenewInProgress(requestDisplay)"><md-button class="button-with-icon zero-margin button-link" (click)="$ctrl.renewDigitalLoan($event, requestDisplay)" aria-label="{{\'nui.loans.renew\' | translate}}"><prm-icon class="h-flipped" icon-type="{{::$ctrl.accountIcons.renewLoanIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.renewLoanIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.renewLoanIcon.icon}}"></prm-icon><span translate="nui.loans.renew"></span></md-button></div><prm-spinner class="inline-loader half-transparent no-text" layout="row" layout-align="center center" ng-if="$ctrl.isRenewInProgress(requestDisplay)"></prm-spinner><div ng-if="!$ctrl.isRenewable(requestDisplay) && !$ctrl.isRenewInProgress(requestDisplay) " class="not-renewable weak-text" aria-label="{{\'nui.loans.notRenewable\' | translate}}" aria-hidden="false" layout-align="start center"><prm-icon ng-if="!$ctrl.isRenewable(requestDisplay) " icon-type="{{::$ctrl.accountIcons.notRenewableIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.notRenewableIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.notRenewableIcon.icon}}"></prm-icon><span ng-if="!$ctrl.isRenewable(requestDisplay) " translate="nui.loans.notRenewable"></span><div aria-hidden="true" class="md-tooltip-container"><md-tooltip ng-if="$ctrl.notRenewableReasonsArray(requestDisplay).length > 0" md-direction="down" md-delay="400" class="multi-row-tooltip slide-tooltip-anim"><span class="popover animate-popover" translate="nui.loans.cannotRenewThisItem"></span><br/><span ng-if="$ctrl.isNotRenewableWithCause(requestDisplay)" class="tooltip-content" ng-repeat="reason in $ctrl.notRenewableReasonsArray(requestDisplay) | limitTo:2">{{reason}}<br/></span><span ng-if="$ctrl.isNotRenewableWithCause(requestDisplay) && $ctrl.notRenewableReasonsArray(requestDisplay).length > 2" class="tooltip-content">...</span></md-tooltip></div><div ng-if="$ctrl.notRenewableReasonsArray(requestDisplay).length > 0" class="accessible-only"><span class="popover animate-popover" translate="nui.loans.cannotRenewThisItem"></span><br/><span ng-if="::$ctrl.isNotRenewableWithCause(requestDisplay)" class="tooltip-content" ng-repeat="reason in $ctrl.notRenewableReasonsArray(requestDisplay) | limitTo:2">{{reason}}<br/></span><span ng-if="::$ctrl.isNotRenewableWithCause(requestDisplay) && $ctrl.notRenewableReasonsArray(requestDisplay).length> 2" class="tooltip-content">...</span></div></div></div><div class="item-respond" ng-if="$ctrl.failedDocumentDeliveryRequest === requestDisplay.requestId"><span class="error-response">{{$ctrl.failedDocumentDeliveryMessage | translate }}</span></div></div><prm-progress-bar class="ngrs-progress-bar" ng-if="$ctrl.isRapidoInst() && requestDisplay.requestType == \'ill\' && requestDisplay.isExpanded" [status]="$ctrl.getRapidoStatus(requestDisplay)" [requestid]="requestDisplay.requestId" [format]="requestDisplay.format" [dates]="requestDisplay.dates"></prm-progress-bar></div><div class="align-self-stretch"><md-button class="item-expand-button" aria-label="{{::(\'nui.aria.account.requests.expandcollapse\' | translate)}}" (click)="requestDisplay.isExpanded = !requestDisplay.isExpanded"><prm-icon ng-class="{\'rotate-180\':requestDisplay.isExpanded}" icon-type="{{::$ctrl.accountIcons.expandIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.expandIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.expandIcon.icon}}"></prm-icon></md-button><div ng-init="messageAdded = \'open\';\r\n                      messageRemoved = \'close\' " class="accessible-only" aria-label="{{requestDisplay.isExpanded ? messageAdded : messageRemoved}}" aria-live="assertive">{{requestDisplay.isExpanded ? messageAdded : messageRemoved}}</div></div></div></md-list-item></md-list></div><prm-spinner ng-if="(!$ctrl.requestsCounter || $ctrl.requestsCounter === \'0\') && $ctrl.isLoadingRequests" class="half-transparent no-text bottom-loader" layout="row" layout-align="center end" layout-margin></prm-spinner><prm-requests-after parent-ctrl="$ctrl"></prm-requests-after>');
$templateCache.put('components/analytics/performanceMonitor/performance-monitor.html','<div ng-if="$ctrl.displayMonitor"><span>Client monitor</span><ul><li>total search time: {{$ctrl.totalSearchTime}}</li><li>search api response time: {{$ctrl.searchApiTime}}</li><li>results render time: {{$ctrl.resultsRenderTime}}</li></ul><span>Server monitor</span><ul ng-if="!$ctrl.isSuprima"><li>total search api time: {{$ctrl.totalSearchServerTime}}</li><li>search time: {{$ctrl.searchServerTime}}</li><li>delivery manager time: {{$ctrl.deliveryManagerServerTime}}</li></ul><ul ng-if="$ctrl.isSuprima"><li style="overflow-y: scroll;height: 7em;"><pre>\r\n                    <code>\r\n                    {{$ctrl.formattedServerTimeLog}}\r\n                    </code>\r\n                </pre></li></ul></div><prm-performance-monitor-after parent-ctrl="$ctrl"></prm-performance-monitor-after>');
$templateCache.put('components/collection/collectionBreadcrumbs/collectionBreadcrumbs.html','<div class="breadcrumbs-bar" layout="row" layout-wrap layout-align="start center"><md-button aria-label="{{\'nui.aria.collectionDiscovery.topNodeButton\' | translate}}" ng-href="collectionDiscovery.do?collectionId=0&vid={{$ctrl.bvid}}&colayout={{$ctrl.colayout}}&inst={{$ctrl.inst}}"><span translate="colldiscovery.collpath.topnode"></span></md-button><prm-icon icon-type="{{$ctrl.collectionIcons.rightArrow.type}}" svg-icon-set="{{$ctrl.collectionIcons.rightArrow.iconSet}}" icon-definition="{{$ctrl.collectionIcons.rightArrow.icon}}"></prm-icon><md-button ng-repeat="item in $ctrl.breadcrumbs" ng-href="collectionDiscovery.do?collectionId={{item.pid}}&vid={{$ctrl.bvid}}&colayout={{$ctrl.colayout}}&inst={{$ctrl.inst}}">{{item.name}}<prm-icon icon-type="{{$ctrl.collectionIcons.rightArrow.type}}" svg-icon-set="{{$ctrl.collectionIcons.rightArrow.iconSet}}" icon-definition="{{$ctrl.collectionIcons.rightArrow.icon}}"></prm-icon></md-button></div><prm-collection-breadcrumbs-after parent-ctrl="$ctrl"></prm-collection-breadcrumbs-after>');
$templateCache.put('components/collectionDiscovery/collectionGallery/collection-gallery.html','<prm-collection-search [default-items-sort-by]="$ctrl.sortItemsBy" [collections-exist]="$ctrl.collectionsExist" [items-exist]="$ctrl.itemsExist" [current-collection]="::$ctrl.currentCollection" (on-collection-search-event)="$ctrl.searchQuery = $event; $ctrl.deeplinkQuery()" (on-collection-sort-event)="$ctrl.sortCollectionsBy = $event; $ctrl.deeplinkSortBy()" (on-item-sort-event)="$ctrl.sortItemsBy = $event; $ctrl.sortItemsListBy()"></prm-collection-search><div ng-if="!$ctrl.isGalleryLobby && $ctrl.searchQuery" layout="{{$ctrl.mediaQueries.xs ? \'column\' : \'row\'}}" layout-align="{{$ctrl.mediaQueries.xs ? \'center-center\' : \'\'}}" class="collection-discovery-expand-search"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus}"></div><span translate="nui.colldiscovery.items.expandSearch" class="margin-right-small"></span><md-button class="neutralized-button" md-no-ink="true" ng-click="$ctrl.expandSearchToAllCollections()" aria-label="{{\'nui.aria.expandCollectionSearch\' | translate}}"><span translate="nui.colldiscovery.items.expandSearchLink"></span></md-button></div><md-content class="padded-container" layout="row" layout-align="center start" flex id="mainCollResults"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20"></div><div flex class="results-container"><div class="ui-blocker" ng-if="vm.state.searchInProgress"></div><div class="results-title" layout="row" layout-align="start center" style="font-style: italic; position: relative; top: -7px; padding-left: 10px;"><span flex></span></div><prm-gallery-collections-list [collections]="::$ctrl.collections" [next-path]="::$ctrl.nextPath" [is-gallery-lobby]="$ctrl.isGalleryLobby" [search-query]="$ctrl.searchQuery" [sort-by]="$ctrl.sortCollectionsBy" (on-collections-exist-event)="$ctrl.collectionsExist = $event; $ctrl.onCollectionsExist()"></prm-gallery-collections-list><prm-gallery-items-list [search-query]="$ctrl.searchQuery" [sort-by]="$ctrl.sortItemsBy" (on-items-exist-event)="$ctrl.itemsExist = $event; $ctrl.onItemsExist()"></prm-gallery-items-list></div><div flex="0" flex-md="0" flex-lg="10" flex-xl="15"></div></md-content><prm-collection-gallery-after parent-ctrl="$ctrl"></prm-collection-gallery-after>');
$templateCache.put('components/collectionDiscovery/collectionGalleryHeader/collection-gallery-header.html','<div class="collection-header-inner has-transparent-topbar" ng-class="{\'has-backdrop-image\': $ctrl.thumbnailUrl}" layout="column" ng-style="$ctrl.thumbnailUrl && {\'background-image\': \'url(\' + $ctrl.thumbnailUrl + \')\'}"><div layout="row" class="margin-top-medium"><div flex="0" flex-lg="10" flex-xl="20"></div><div flex><prm-collection-navigation-breadcrumbs ng-if="::!$ctrl.isGalleryLobby" [path]="::$ctrl.path"></prm-collection-navigation-breadcrumbs></div><div flex="0" flex-md="15" flex-lg="20" flex-xl="20"></div></div><div layout="row"><div flex="0" flex-lg="10" flex-xl="20"></div><div layout="column" flex><div class="collection-info"><h1 class="collection-title bold-text">{{::$ctrl.title}}</h1><div class="item-actions result-item-actions"><prm-save-to-favorites-button ng-if="::$ctrl.currentCollectionRecord && !$ctrl.isRapidoSAEnabled" [item]="::$ctrl.currentCollectionRecord" [is-collection-discovery]="true"></prm-save-to-favorites-button></div><p ng-bind-html="$ctrl.description"></p></div></div><div flex="0" flex-md="15" flex-lg="20" flex-xl="20"></div></div></div><prm-collection-gallery-header-after parent-ctrl="$ctrl"></prm-collection-gallery-header-after>');
$templateCache.put('components/collectionDiscovery/collectionNavigationBreadcrumbs/collection-navigation-breadcrumbs.html','<div layout="row" layout-align="start center" layout-wrap role="navigation" translate-attr="{\'aria-label\': \'nui.aria.collection.breadcrumbs\'}"><prm-collection-navigation-breadcrumbs-item layout="row" layout-align="start center" class="root-item" [path-object]="pathObject" [is-root-object]="true" [institution]="$ctrl.institution" [parent-tab]="\'brief\'" [is_alma_display]="$ctrl.isAlmaDisplay"></prm-collection-navigation-breadcrumbs-item><prm-collection-navigation-breadcrumbs-item layout="row" layout-align="start center" ng-repeat="pathObject in $ctrl.path" [path-object]="pathObject" [is-last]="$last" [institution]="$ctrl.institution" [parent-tab]="\'brief\'" [is_alma_display]="$ctrl.isAlmaDisplay"></prm-collection-navigation-breadcrumbs-item></div><prm-collection-navigation-breadcrumbs-after parent-ctrl="$ctrl"></prm-collection-navigation-breadcrumbs-after>');
$templateCache.put('components/collectionDiscovery/collectionSearch/collection-search.html','<md-toolbar class="default-toolbar" layout="row" layout-align="center center"><div class="md-toolbar-tools" layout="{{$ctrl.isMobileWithSortAndCol()}}"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus}"></div><div layout="{{$ctrl.isMobileWithSortAndCol()}}" layout-align="start center" class="collection-sort-cont"><div layout="{{$ctrl.mediaQueries.sm && $ctrl.hasItems ? \'column\' : \'row\'}}" layout-align="{{$ctrl.mediaQueries.sm && $ctrl.hasItems ? \'start-start\' : \'start center\'}}" ng-class="{\'margin-right-medium\': $ctrl.mediaQueries.gtxs, \'margin-left-small\': $ctrl.mediaQueries.gtmd}" ng-if="$ctrl.hasCollections"><span class="search-margin-small">{{\'nui.colldiscovery.sortSubcollectionsBy\' | translate}}</span><md-input-container layout="row" class="toolbar-select-input sortWithSearch" layout-align="center"><md-select ng-model="$ctrl.sortCollectionsBy" ng-change="$ctrl.onSortCollections(); $ctrl.sendCollectionSortBeacon()" translate-attr="{\'aria-label\': \'nui.aria.collection.sortSubcollections\'}"><md-option value="{{option}}" ng-repeat="option in $ctrl.sortOptions"><span role="button">{{$ctrl.getSortLabel(option) | translate}}</span></md-option></md-select></md-input-container></div><md-divider class="toolbar-divider visible" ng-if="$ctrl.mediaQueries.sm && ($ctrl.hasCollections && $ctrl.hasItems)"></md-divider><div layout="{{$ctrl.mediaQueries.sm && $ctrl.hasCollections ? \'column\' : \'row\'}}" layout-align="{{$ctrl.mediaQueries.sm && $ctrl.hasCollections ? \'start-start\' : \'start center\'}}" ng-class="{\'margin-right-medium\': $ctrl.mediaQueries.gtxs, \'margin-left-medium\': $ctrl.mediaQueries.sm}" ng-style="($ctrl.mediaQueries.md && {\'margin-right\':\'.5em\'})" ng-if="$ctrl.hasItems"><span class="search-margin-small">{{\'nui.colldiscovery.sortItemsBy\' | translate}}</span><md-input-container layout="row" class="toolbar-select-input sortWithSearch" layout-align="center"><md-select ng-model="$ctrl.sortItemsBy" ng-change="$ctrl.onSortItems(); $ctrl.sendItemsSortBeacon()" translate-attr="{\'aria-label\': \'nui.aria.collection.sortItems\'}"><md-option ng-repeat="option in ::$ctrl.sortItemsOptions track by option.value" value="{{::option.value}}"><span role="button" translate="results.sortby.option.{{::option.text}}"></span></md-option></md-select></md-input-container></div></div><md-divider class="toolbar-divider visible" ng-if="$ctrl.mediaQueries.gtxs && ($ctrl.hasCollections || $ctrl.hasItems)"></md-divider><div layout="{{$ctrl.isMobileWithSortAndCol()}}" class="search-within" ng-class="{\'search-margin-medium\': $ctrl.mediaQueries.gtxs}" ng-style="(!$ctrl.showSearchInput && {\'margin\':\'0\'})" layout-align="start center"><div layout="row" layout-align="start center" ng-if="!$ctrl.searchQueryFilter"><form ng-submit="$ctrl.clickSearch();"><md-input-container class="search-input sortWithSearch" flex md-no-float ng-if="$ctrl.showSearchInput"><input ng-model="$ctrl.searchQuery" class="search-within-input" ng-change="" placeholder="{{\'nui.colldiscovery.search\' | translate}}" aria-label="{{\'nui.aria.collection.search\' | translate}}" ng-focus="$ctrl.searchInputFocused = true" ng-blur="$ctrl.searchInputFocused = false" type="text" id="searchWithinInput"><md-button tabindex="{{$ctrl.searchQuery.length ? 0 : -1 }}" ng-if="$ctrl.searchQuery.length > 0" class="md-icon-button clear-button" ng-click="$ctrl.onClearSearchInput()" ng-class="{\'is-visible\': $ctrl.searchQuery.length }" aria-label="{{\'nui.searchField.clear\' | translate}}" type="button"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></md-input-container><md-button type="submit" class="search-button" ng-disabled="!$ctrl.searchQuery.length" aria-label="{{\'nui.aria.collection.searchButton\' | translate}}" ng-class="{\'is-shifted\': $ctrl.searchInputFocused || $ctrl.searchQuery.length}"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon><span class="search-button-text" ng-if="$ctrl.mediaQueries.gtsm">{{\'nui.colldiscovery.searchButton\' | translate}}</span></md-button></form></div><div ng-if="$ctrl.searchQueryFilter" layout="row" layout-align="start center"><span class="margin-right-small">{{\'nui.colldiscovery.show\' | translate}}</span><div class="filter-chip"><span class="bold-text">{{$ctrl.searchQueryFilter}}</span><md-tooltip md-delay="400" md-direction="top"><span class="bold-text">{{$ctrl.searchQueryFilter}}</span></md-tooltip><md-button class="md-icon-button" ng-click="$ctrl.onRemoveSearchFilter()" aria-label="{{$ctrl.correctTranslateSearchTerm()}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon><md-tooltip md-delay="400" md-direction="bottom"><span class="bold-text">{{$ctrl.correctTranslateSearchTerm()}}</span></md-tooltip></md-button></div></div></div></div><prm-spinner ng-if="$ctrl.searchInProgress " style="transform: rotate(90deg); height: 100px;" class="half-transparent no-text overlay-cover" layout="row" layout-align="center end" layout-margin></prm-spinner></md-toolbar><prm-collection-search-after parent-ctrl="$ctrl"></prm-collection-search-after>');
$templateCache.put('components/collectionDiscovery/recordCollectionPaths/record-collection-paths.html','<div ng-if="::$ctrl.paths && $ctrl.isAlmaDisplay" class="primo-scrollbar md-div" style="overflow-y: auto;"><div layout="row" style="flex-shrink:0;"><span class="bold-text" translate="nui.colldiscovery.details.paths" translate-attr-title="nui.colldiscovery.details.paths"></span><span>:</span><br></div><div (click)="$ctrl.closeDialog()" layout="column" style="flex-shrink:0;" style="inline-size: min-content;overflow-wrap: break-word;"><prm-collection-navigation-breadcrumbs ng-repeat="pathObject in $ctrl.paths" [path]="::pathObject.path" [institution]="::pathObject.institution" [is_alma_display]="true"></prm-collection-navigation-breadcrumbs></div></div><div ng-if="::$ctrl.paths && $ctrl.paths.length > 0 && !$ctrl.isAlmaDisplay" layout="row" layout-xs="column" class="layout-block-xs"><div flex-gt-sm="20" flex-gt-xs="25" flex><span class="bold-text" translate="nui.colldiscovery.details.paths" translate-attr-title="nui.colldiscovery.details.paths"></span></div><div flex (click)="$ctrl.closeDialog()"><prm-collection-navigation-breadcrumbs ng-repeat="pathObject in $ctrl.paths" [path]="::pathObject.path" [institution]="::pathObject.institution" [is_alma_display]="false"></prm-collection-navigation-breadcrumbs></div></div><prm-record-collection-paths-after parent-ctrl="$ctrl"></prm-record-collection-paths-after>');
$templateCache.put('components/delivery/almaViewer/almaViewer.html','<div ng-if="(!$ctrl.showLogo||$ctrl.showLogo==\'true\')&&!$ctrl.mode" layout="column" layout-fill id="almaViewerHeader" class="header relative-position"><prm-topbar [links]="$ctrl.skipLinks"></prm-topbar></div><div layout="row"><prm-representation-viewer ng-if="!$ctrl.denied && $ctrl.data && ((!$ctrl.cdlRequest && !$ctrl.concurrentUserWithQueueNoSlot) || ($ctrl.cdlRequest && $ctrl.cdlUserSessionActive))" id="almaRepresentationViewer" [data]="$ctrl.data" [mode]="$ctrl.mode" [allowdownload]="$ctrl.allowDownload" [copyrightsfilecontent]="$ctrl.copyRightsFileContent" [copyrightsuri]="$ctrl.copyrightsUri" [copyrightsimgurl]="$ctrl.copyrightsImgUrl" [isobtrusivecopyrights]="$ctrl.isObtrusiveCopyrights" [hiderepeatedlabels]="$ctrl.hideRepeatedLabels" [res]="$ctrl.res" [social]="$ctrl.social" [requestid]="$ctrl.requestId" [sourcetype]="$ctrl.sourceType" [filetype]="$ctrl.fileType" [remoteurl]="$ctrl.embedUrl" [newui]="$ctrl.newUi" [expandcontentpane]="$ctrl.expandContentPane" [expanddescriptionpane]="$ctrl.expandDescriptionPane" [pdfdefaultzoom]="$ctrl.pdfDefaultZoom" flex></prm-representation-viewer><prm-denied-access ng-if="$ctrl.denied && $ctrl.deniedNote && !$ctrl.concurrentUserWithQueueNoSlot" [deniednote]="$ctrl.deniedNote" flex></prm-denied-access><prm-delivery-registration ng-if="!$ctrl.denied && ((!$ctrl.cdlRequest && $ctrl.concurrentUserWithQueueNoSlot) || ($ctrl.cdlRequest && !$ctrl.cdlUserSessionActive))" [repid]="$ctrl.repId" [userid]="$ctrl.userId" [numberofusers]="$ctrl.numberOfUsers" [sessionexpiryinterval]="$ctrl.sessionExpiryInterval" [numberusersinqueue]="$ctrl.numberUsersInQueue" [title]="$ctrl.title" [graceperiod]="$ctrl.gracePeriod" [viewerservicecode]="$ctrl.viewerServiceCode" [useremail]="$ctrl.userEmail" [userpos]="$ctrl.userPos" [smsenabled]="$ctrl.smsEnabled" [sessionperiod]="$ctrl.sessionPeriod" [openhour]="$ctrl.openhour" [cdlrequest]="$ctrl.cdlRequest" [cdluseremail]="$ctrl.cdlUserEmail" [cdlsessionperiod]="$ctrl.cdlSessionPeriod" [cdlsessionperiodunit]="$ctrl.cdlSessionPeriodUnit" [cdlgraceperiod]="$ctrl.cdlGracePeriod" [cdlgraceperiodunit]="$ctrl.cdlGracePeriodUnit" [cdluserhaspendingrequest]="$ctrl.cdlUserHasPendingRequest" [cdlitemavailable]="$ctrl.cdlItemAvailable" [cdluserreqposition]="$ctrl.cdlUserReqPosition" [cdlusersinqueue]="$ctrl.cdlUsersInQueue" [cdlrequestpriority]="$ctrl.cdlRequestPriority" [allowdownload]="$ctrl.allowDownload" [cdlgpinsp]="$ctrl.cdlIncGracePerInSessPer" [cdlrenwable]="$ctrl.cdlRenewable" [cdllimitreloan]="$ctrl.cdlLimitReloan" [cdlmaxrenewalperiod]="$ctrl.cdlMaxRenewalPeriod" [cdlmaxrenewalperiodunit]="$ctrl.cdlMaxRenewalPeriodUnit" [cdlopenforrenewalperiod]="$ctrl.cdlOpenForRenewalPeriod" [cdlopenforrenewalperiodunit]="$ctrl.cdlOpenForRenewalPeriodUnit" [cdlreloanlimitperiod]="$ctrl.cdlReloanLimitPeriod" [cdlreloanlimitperiodunit]="$ctrl.cdlReloanLimitPeriodUnit" [cdlreloanlimitperioddate]="$ctrl.cdlReloanLimitPeriodAfterDate" flex></prm-delivery-registration></div><div ng-if="!$ctrl.mode" class="footer" hide-xs></div><prm-report-problem ng-if="$ctrl.isReportProblem()"></prm-report-problem><prm-alma-viewer-after parent-ctrl="$ctrl"></prm-alma-viewer-after>');
$templateCache.put('components/delivery/copyrights/copyrights.html','<div flex="{{$ctrl.copyrightsFlexSize}}" class="copyrights-full-height" ng-class="{\'copyright-content-panel\':!$ctrl.innerQuickAccess}"><div layout-align="center center" class="panel panel-primary primaryColorBorder" dir="auto" layout="row"><div ng-if="!$ctrl.quickAccess" hide-xs hide-sm class="icon-container" layout="column"><div class="Ellipse-2"><img alt="copyrights" src="img/copyrights.png" srcset="img/copyrights_2x.png 2x, img/copyrights_3x.png 3x" class="layer"></div></div><div ng-if="$ctrl.outerQuickAccess" hide-xs hide-sm flex="5" layout="column"></div><div flex="100" flex-xs="90" flex-sm="90" layout="column" style="max-height:none;min-width: 60%;"><md-card-title><md-card-title-text><h1 hide-xs hide-sm class="header" translate="repDeliveryViewer.copyrightStatement"></h1><h1 hide-gt-sm class="md-headline" translate="repDeliveryViewer.copyrightStatement"></h1></md-card-title-text></md-card-title><div class="nano"><div class="nano-content"><div class="panel-body panel-body-fix" id="main-file-body"><div class="copyrightContent" ng-bind-html="$ctrl.copyrightsfilecontent"></div><p ng-if="::$ctrl.copyrightsuri">URI: {{$ctrl.copyrightsuri}}</p><img ng-if="::$ctrl.copyrightsimgurl" src="{{$ctrl.copyrightsimgurl}}" class="crimg"></div></div></div><div class="text-center primaryColorBG closeCopyrightsLink"><md-button id="close-copyrights" class="close-copyrights" (click)="$ctrl.hideCopyrights()"><span translate="repDeliveryViewer.closeCopyrights"/></md-button></div></div><div hide-xs hide-sm flex="30" flex-gt-md="30"></div></div></div><prm-copyrights-after parent-ctrl="$ctrl"></prm-copyrights-after>');
$templateCache.put('components/delivery/deliveryRegistration/deliveryRegistration.html','<md-toolbar><div ng-if="$ctrl.showQueueRegistryPage && !$ctrl.cdlrequest" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.queueRegistry"></h1><div class="reg-full-width register-note"><span translate="repDeliveryViewer.al.userReachedLimit"></span><br><span translate="repDeliveryViewer.al.accessByRegistering"></span></div><div layout="column" layout-align="layout-column"><md-checkbox name="sendSMS" ng-if="$ctrl.smsenabled" ng-model="$ctrl.sendSMS" class="sms-checkbox"><span class="reg-full-width register-note" translate="repDeliveryViewer.al.sendSMS"></span></md-checkbox></div><div layout="column" layout-align="layout-column"><md-button id="register-button" ng-if="!$ctrl.registrationInProgress" class="button-with-icon button-link regsiter-button" (click)="$ctrl.registerForDeliveryItem()" aria-label="{{ $ctrl.getJoinQueueButton() }}"><span>{{ $ctrl.getJoinQueueButton() }}</span></md-button><prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="$ctrl.registrationInProgress"></prm-spinner></div><br><div class="reg-full-width"><div class="reg-Ellipse-2"><img src="img/queue.jpg" alt="queue" srcset="img/queue_2x.jpg 2x, img/queue_3x.jpg 3x" class="queue-content"></div></div></div><div ng-if="$ctrl.showRegistrationConfirmPage && !$ctrl.cdlrequest" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.registered"></h1><div class="reg-full-width register-note"><span>{{ $ctrl.notifyEmail }}</span><br><span>{{ $ctrl.waitTimeDisplay }}</span><br><span>{{ $ctrl.gracePeriodDisplay }}</span></div></div><div ng-if="$ctrl.showAlreayRegisteredPage && !$ctrl.cdlrequest" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.alreadyRegistered"></h1><div class="reg-full-width register-note"><span>{{ $ctrl.waitTimeDisplay }}</span><br><span>{{ $ctrl.notifyEmail }}</span><br><span>{{ $ctrl.gracePeriodDisplay }}</span></div></div><div ng-if="!$ctrl.cdlUserHasPendingRequest && !$ctrl.cdlUserRegistered && !$ctrl.cdlActionFailed  && !$ctrl.isCdlItemAvailable && $ctrl.cdlrequest && !$ctrl.cdlHasReloanLimitDate" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.cdlRequestToView"></h1><div class="reg-full-width register-note"><span translate="repDeliveryViewer.al.cdlOthersAreViewingThisResource"></span><br><span translate="repDeliveryViewer.al.cdlJoinWiatlistToReceiveItemAvailableNotification"></span><br><span>{{ $ctrl.cdlGracePeriodDisplay }}</span><br><span>{{ $ctrl.cdlSessionPeriodDisplay }}</span></div><div layout="column" layout-align="layout-column"><md-checkbox name="sendSMS" ng-if="$ctrl.smsenabled" ng-model="$ctrl.sendSMS" class="sms-checkbox"><span class="reg-full-width register-note" translate="repDeliveryViewer.al.cdlSMSNotifications"></span></md-checkbox></div><div layout="column" layout-align="layout-column"><md-button id="register-button" ng-if="!$ctrl.registrationInProgress" class="button-with-icon button-link regsiter-button" (click)="$ctrl.registerForCDLItemRequest()" aria-label="{{ $ctrl.cdlUsersInQueueDisplay }}"><span>{{ $ctrl.cdlUsersInQueueDisplay }}</span></md-button><prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="$ctrl.registrationInProgress"></prm-spinner></div><br><div class="reg-full-width"><div class="reg-Ellipse-2"><img src="img/queue.jpg" alt="queue" srcset="img/queue_2x.jpg 2x, img/queue_3x.jpg 3x" class="queue-content"></div></div></div><div ng-if="$ctrl.isCdlItemAvailable && $ctrl.cdlrequest && ( $ctrl.isResquestingUserFirstInQueue || !$ctrl.isOtherUserWaitingInQueue ) && !$ctrl.cdlActionFailed && !$ctrl.cdlHasReloanLimitDate" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.cdlRequestToView"></h1><div class="reg-full-width register-note"><span translate="repDeliveryViewer.al.cdlResourceAvailableForViewing"></span><br><span>{{ $ctrl.cdlSessionPeriodDisplay }}</span></div><div layout="column" layout-align="layout-column"><md-button id="register-button" ng-if="!$ctrl.registrationInProgress" class="button-with-icon button-link regsiter-button" (click)="$ctrl.cdlViewItem()" aria-label="{{ $ctrl.getCdlViewButton() }}"><span>{{ $ctrl.getCdlViewButton() }}</span></md-button><prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="$ctrl.registrationInProgress"></prm-spinner></div><br><div class="reg-full-width"><div class="reg-Ellipse-2"><img src="img/queue.jpg" alt="queue" srcset="img/queue_2x.jpg 2x, img/queue_3x.jpg 3x" class="queue-content"></div></div></div><div ng-if="($ctrl.cdlUserAlreadyRegistered || $ctrl.cdlUserHasPendingRequest) && !$ctrl.isCdlItemAvailable && $ctrl.cdlrequest && !$ctrl.cdlActionFailed && !$ctrl.cdlHasReloanLimitDate" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.cdlAlreadyJoinWaitListAlert"></h1><div class="reg-full-width register-note"><span>{{ $ctrl.cdlReqPositionDisplay }}</span><br><span>{{ $ctrl.cdlUserEmailDisplay }}</span><br><span>{{ $ctrl.cdlGracePeriodDisplay }}</span><br><span>{{ $ctrl.cdlSessionPeriodDisplay }}</span></div></div><div ng-if="$ctrl.cdlUserRegistered  && !$ctrl.isCdlItemAvailable && $ctrl.cdlrequest && !$ctrl.cdlHasReloanLimitDate" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.cdlUserAddedToWaitlist"></h1><div class="reg-full-width register-note"><span>{{ $ctrl.cdlUserEmailDisplay }}</span><br><span>{{ $ctrl.cdlReqPositionDisplay }}</span><br><span>{{ $ctrl.cdlGracePeriodDisplay }}</span><br><span>{{ $ctrl.cdlSessionPeriodDisplay }}</span></div></div><div ng-if="$ctrl.cdlActionFailed && $ctrl.cdlrequest" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.cdlRequestToView"></h1><div class="reg-full-width register-note"><span class="reg-full-width register-note" translate="repDeliveryViewer.al.cdlTryToCreateRequestLater"></span></div></div><div ng-if="$ctrl.cdlHasReloanLimitDate && !$ctrl.cdlActionFailed && $ctrl.cdlrequest" layout="column" layout-align="center center" class="layout-align-center-center layout-row"><h1 class="reg-full-width reg-header" translate="repDeliveryViewer.al.reloanLimiteInPlace"></h1><div class="reg-full-width register-note"><span>{{ $ctrl.cdlReloanLimitDateDisplay }}</span></div></div></md-toolbar><prm-delivery-registration-after parent-ctrl="$ctrl"></prm-delivery-registration-after>');
$templateCache.put('components/delivery/deliverySessionExpiryNotification/deliverySessionExpiryNotification.html','<form name="sessionExpiryWarningForm" class="padded-container ng-pristine ng-valid"><md-dialog-content><div layout="column" layout-align="center center" class="layout-align-center-center layout-row"><div ng-if="!$ctrl.hasExpired" class="section-head"><h2 class="section-title md-title light-text" translate="repDeliveryViewer.warning"></h2><md-divider flex="" class="md-primoExplore-theme flex"></md-divider></div><div class="section-body"><h3 ng-if="$ctrl.aboutExpired"><span>{{ $ctrl.timeLeftStr }}</span></h3><h3 ng-if="$ctrl.hasExpired" translate="repDeliveryViewer.expired"></h3></div></div></md-dialog-content><md-dialog-actions layout="row" class="layout-row warning-dialog-actions layout-align-center-center" layout-align="center center"><md-button class="button-link" ng-if="$ctrl.aboutExpired" (click)="$ctrl.ok()"><span translate="repDeliveryViewer.ok"></span></md-button><md-button class="button-link" ng-if="$ctrl.hasExpired && !$ctrl.isCdlRequest" (click)="$ctrl.renew()"><span translate="repDeliveryViewer.renew"></span></md-button></md-dialog-actions></form><prm-delivery-session-expiry-notification-after parent-ctrl="$ctrl"></prm-delivery-session-expiry-notification-after>');
$templateCache.put('components/delivery/deniedAccess/deniedAccess.html','<md-toolbar><div layout="column" layout-align="space-between end"><h1 class="full-width header" translate="repDeliveryViewer.accessRights"></h1><h1 class="full-width denied-note" translate="repDeliveryViewer.repCannotView"></h1><div class="full-width"><div class="Ellipse-2"><img src="img/lock.jpg" alt="lock" srcset="img/lock_2x.jpg 2x, img/lock_3x.jpg 3x" class="lock"></div></div><div class="full-width denied-note" ng-bind-html="$ctrl.deniednote"></div></div></md-toolbar><prm-denied-access-after parent-ctrl="$ctrl"></prm-denied-access-after>');
$templateCache.put('components/delivery/epubFoliateViewer/epubFoliateViewer.html','<div id="epub" class="epub_class" layout="row" ng-class="{\'epub_class_from_search_files\':$ctrl.isFromFilesSearch()}"><div id="epub-main" layout="column"><div id="dimming-overlay" aria-hidden="true"></div><div id="side-bar" class="side-bar"><div layout="row" layout-align="start"><img id="side-bar-cover"><div id="side-bar-header"><div><h1 id="side-bar-title"></h1><p id="side-bar-author"></p></div></div></div><div id="toc-view"></div></div><div id="header-bar" class="epub-toolbar" layout="row"><button id="side-bar-button" aria-label="Show sidebar"><svg class="icon" width="24" height="24" aria-hidden="true"><path d="M 4 6 h 16 M 4 12 h 16 M 4 18 h 16"/></svg></button><div id="menu-button" class="menu-container"><button aria-label="Show settings" aria-haspopup="true"><svg class="icon" width="24" height="24" aria-hidden="true"><path d="M5 12.7a7 7 0 0 1 0-1.4l-1.8-2 2-3.5 2.7.5a7 7 0 0 1 1.2-.7L10 3h4l.9 2.6 1.2.7 2.7-.5 2 3.4-1.8 2a7 7 0 0 1 0 1.5l1.8 2-2 3.5-2.7-.5a7 7 0 0 1-1.2.7L14 21h-4l-.9-2.6a7 7 0 0 1-1.2-.7l-2.7.5-2-3.4 1.8-2Z"/><circle cx="12" cy="12" r="3"/></svg></button></div></div><div id="epub-contents"></div><div id="nav-bar" class="epub-toolbar"><button id="left-button" aria-label="Go left"><svg class="icon" width="24" height="24" aria-hidden="true"><path d="M 15 6 L 9 12 L 15 18"/></svg></button> <input id="progress-slider" type="range" min="0" max="1" step="any" list="tick-marks"><datalist id="tick-marks"></datalist><button id="right-button" aria-label="Go right"><svg class="icon" width="24" height="24" aria-hidden="true"><path d="M 9 6 L 15 12 L 9 18"/></svg></button></div></div></div><prm-epub-foliate-viewer-after parent-ctrl="$ctrl"></prm-epub-foliate-viewer-after>');
$templateCache.put('components/delivery/hlsViewer/hlsViewer.html','<div><video autoplay class="video-to-play video-js vjs-default-skin" preload="metadata" controls data-setup=\'{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2,2.5,3] }\' vjs-video></video></div><hls-video-after parent-ctrl="$ctrl"></hls-video-after>');
$templateCache.put('components/delivery/pdfViewer/pdfViewer.html','<div id="pdfjs" class="pdfjs pdf_class"><pdfjs-wrapper><div id="outerContainer"><div id="sidebarContainer"><div id="toolbarSidebar"><div id="toolbarSidebarLeft"><div class="splitToolbarButton toggled"><button id="viewThumbnail" class="toolbarButton toggled" title="Show Thumbnails" tabindex="2" data-l10n-id="thumbs"><span data-l10n-id="thumbs_label">Thumbnails</span></button> <button id="viewOutline" class="toolbarButton" title="Show Document Outline (double-click to expand/collapse all items)" tabindex="3" data-l10n-id="document_outline"><span data-l10n-id="document_outline_label">Document Outline</span></button> <button id="viewAttachments" class="toolbarButton" title="Show Attachments" tabindex="4" data-l10n-id="attachments"><span data-l10n-id="attachments_label">Attachments</span></button> <button id="viewLayers" class="toolbarButton" title="Show Layers (double-click to reset all layers to the default state)" tabindex="5" data-l10n-id="layers"><span data-l10n-id="layers_label">Layers</span></button></div></div><div id="toolbarSidebarRight"><div id="outlineOptionsContainer" class="hidden"><div class="verticalToolbarSeparator"></div><button id="currentOutlineItem" class="toolbarButton" disabled="disabled" title="Find Current Outline Item" tabindex="6" data-l10n-id="current_outline_item"><span data-l10n-id="current_outline_item_label">Current Outline Item</span></button></div></div></div><div id="sidebarContent"><div id="thumbnailView"></div><div id="outlineView" class="hidden"></div><div id="attachmentsView" class="hidden"></div><div id="layersView" class="hidden"></div></div><div id="sidebarResizer"></div></div><div id="mainContainer"><div class="findbar hidden doorHanger" id="findbar"><div id="findbarInputContainer"><input id="findInput" class="toolbarField" title="Find" placeholder="Find in document\uFFFD" tabindex="91" data-l10n-id="find_input"><div class="splitToolbarButton"><button id="findPrevious" class="toolbarButton findPrevious" title="Find the previous occurrence of the phrase" tabindex="92" data-l10n-id="find_previous"><span data-l10n-id="find_previous_label">Previous</span></button><div class="splitToolbarButtonSeparator"></div><button id="findNext" class="toolbarButton findNext" title="Find the next occurrence of the phrase" tabindex="93" data-l10n-id="find_next"><span data-l10n-id="find_next_label">Next</span></button></div></div><div id="findbarOptionsOneContainer"><input type="checkbox" id="findHighlightAll" class="toolbarField" tabindex="94"> <label for="findHighlightAll" class="toolbarLabel" data-l10n-id="find_highlight">Highlight All</label> <input type="checkbox" id="findMatchCase" class="toolbarField" tabindex="95"> <label for="findMatchCase" class="toolbarLabel" data-l10n-id="find_match_case_label">Match Case</label></div><div id="findbarOptionsTwoContainer"><input type="checkbox" id="findMatchDiacritics" class="toolbarField" tabindex="96"> <label for="findMatchDiacritics" class="toolbarLabel" data-l10n-id="find_match_diacritics_label">Match Diacritics</label> <input type="checkbox" id="findEntireWord" class="toolbarField" tabindex="97"> <label for="findEntireWord" class="toolbarLabel" data-l10n-id="find_entire_word_label">Whole Words</label></div><div class="findbarMessageContainer"><span id="findResultsCount" class="toolbarLabel"></span></div><div class="findbarMessageContainer"><span id="findMsg" class="toolbarLabel"></span></div></div><div id="secondaryToolbar" class="secondaryToolbar hidden doorHangerRight"><div id="secondaryToolbarButtonContainer"><button id="secondaryPresentationMode" class="secondaryToolbarButton presentationMode visibleLargeView" title="Switch to Presentation Mode" tabindex="51" data-l10n-id="presentation_mode"><span data-l10n-id="presentation_mode_label">Presentation Mode</span></button> <button id="secondaryOpenFile" class="secondaryToolbarButton openFile visibleLargeView" title="Open File" tabindex="52" data-l10n-id="open_file"><span data-l10n-id="open_file_label">Open</span></button> <button id="secondaryPrint" class="secondaryToolbarButton print visibleMediumView" title="Print" tabindex="53" data-l10n-id="print"><span data-l10n-id="print_label">Print</span></button> <button id="secondaryDownload" class="secondaryToolbarButton download visibleMediumView" title="Download" tabindex="54" data-l10n-id="download"><span data-l10n-id="download_label">Download</span></button> <a href="#" id="secondaryViewBookmark" class="secondaryToolbarButton bookmark visibleSmallView" title="Current view (copy or open in new window)" tabindex="55" data-l10n-id="bookmark"><span data-l10n-id="bookmark_label">Current View</span></a><div class="horizontalToolbarSeparator visibleLargeView"></div><button id="firstPage" class="secondaryToolbarButton firstPage" title="Go to First Page" tabindex="56" data-l10n-id="first_page"><span data-l10n-id="first_page_label">Go to First Page</span></button> <button id="lastPage" class="secondaryToolbarButton lastPage" title="Go to Last Page" tabindex="57" data-l10n-id="last_page"><span data-l10n-id="last_page_label">Go to Last Page</span></button><div class="horizontalToolbarSeparator"></div><button id="pageRotateCw" class="secondaryToolbarButton rotateCw" title="Rotate Clockwise" tabindex="58" data-l10n-id="page_rotate_cw"><span data-l10n-id="page_rotate_cw_label">Rotate Clockwise</span></button> <button id="pageRotateCcw" class="secondaryToolbarButton rotateCcw" title="Rotate Counterclockwise" tabindex="59" data-l10n-id="page_rotate_ccw"><span data-l10n-id="page_rotate_ccw_label">Rotate Counterclockwise</span></button><div class="horizontalToolbarSeparator"></div><button id="cursorSelectTool" class="secondaryToolbarButton selectTool toggled" title="Enable Text Selection Tool" tabindex="60" data-l10n-id="cursor_text_select_tool"><span data-l10n-id="cursor_text_select_tool_label">Text Selection Tool</span></button> <button id="cursorHandTool" class="secondaryToolbarButton handTool" title="Enable Hand Tool" tabindex="61" data-l10n-id="cursor_hand_tool"><span data-l10n-id="cursor_hand_tool_label">Hand Tool</span></button><div class="horizontalToolbarSeparator"></div><button id="scrollPage" class="secondaryToolbarButton scrollPage" title="Use Page Scrolling" tabindex="62" data-l10n-id="scroll_page"><span data-l10n-id="scroll_page_label">Page Scrolling</span></button> <button id="scrollVertical" class="secondaryToolbarButton scrollVertical toggled" title="Use Vertical Scrolling" tabindex="63" data-l10n-id="scroll_vertical"><span data-l10n-id="scroll_vertical_label">Vertical Scrolling</span></button> <button id="scrollHorizontal" class="secondaryToolbarButton scrollHorizontal" title="Use Horizontal Scrolling" tabindex="64" data-l10n-id="scroll_horizontal"><span data-l10n-id="scroll_horizontal_label">Horizontal Scrolling</span></button> <button id="scrollWrapped" class="secondaryToolbarButton scrollWrapped" title="Use Wrapped Scrolling" tabindex="65" data-l10n-id="scroll_wrapped"><span data-l10n-id="scroll_wrapped_label">Wrapped Scrolling</span></button><div class="horizontalToolbarSeparator"></div><button id="spreadNone" class="secondaryToolbarButton spreadNone toggled" title="Do not join page spreads" tabindex="66" data-l10n-id="spread_none"><span data-l10n-id="spread_none_label">No Spreads</span></button> <button id="spreadOdd" class="secondaryToolbarButton spreadOdd" title="Join page spreads starting with odd-numbered pages" tabindex="67" data-l10n-id="spread_odd"><span data-l10n-id="spread_odd_label">Odd Spreads</span></button> <button id="spreadEven" class="secondaryToolbarButton spreadEven" title="Join page spreads starting with even-numbered pages" tabindex="68" data-l10n-id="spread_even"><span data-l10n-id="spread_even_label">Even Spreads</span></button><div class="horizontalToolbarSeparator"></div><button id="documentProperties" class="secondaryToolbarButton documentProperties" title="Document Properties\uFFFD" tabindex="69" data-l10n-id="document_properties"><span data-l10n-id="document_properties_label">Document Properties\uFFFD</span></button></div></div><div class="toolbar"><div id="toolbarContainer"><div id="toolbarViewer"><div id="toolbarViewerLeft"><button id="sidebarToggle" class="toolbarButton" title="Toggle Sidebar" tabindex="11" data-l10n-id="toggle_sidebar" aria-expanded="false" aria-controls="sidebarContainer"><span data-l10n-id="toggle_sidebar_label">Toggle Sidebar</span></button><div class="toolbarButtonSpacer"></div><button id="viewFind" class="toolbarButton" title="Find in Document" tabindex="12" data-l10n-id="findbar" aria-expanded="false" aria-controls="findbar"><span data-l10n-id="findbar_label">Find</span></button><div class="splitToolbarButton hiddenSmallView"><button class="toolbarButton pageUp" title="Previous Page" id="previous" tabindex="13" data-l10n-id="previous"><span data-l10n-id="previous_label">Previous</span></button><div class="splitToolbarButtonSeparator"></div><button class="toolbarButton pageDown" title="Next Page" id="next" tabindex="14" data-l10n-id="next"><span data-l10n-id="next_label">Next</span></button></div><input type="number" id="pageNumber" class="toolbarField pageNumber" title="Page" value="1" size="4" min="1" tabindex="15" data-l10n-id="page" autocomplete="off"> <span id="numPages" class="toolbarLabel"></span></div><div id="toolbarViewerRight"><button id="presentationMode" class="toolbarButton presentationMode hiddenLargeView" title="Switch to Presentation Mode" tabindex="31" data-l10n-id="presentation_mode"><span data-l10n-id="presentation_mode_label">Presentation Mode</span></button> <button id="openFile" class="toolbarButton openFile hiddenLargeView" title="Open File" tabindex="32" data-l10n-id="open_file"><span data-l10n-id="open_file_label">Open</span></button> <button id="print" class="toolbarButton print hiddenMediumView" title="Print" tabindex="33" data-l10n-id="print"><span data-l10n-id="print_label">Print</span></button> <button id="download" class="toolbarButton download hiddenMediumView" title="Download" tabindex="34" data-l10n-id="download"><span data-l10n-id="download_label">Download</span></button> <a href="#" id="viewBookmark" class="toolbarButton bookmark hiddenSmallView" title="Current view (copy or open in new window)" tabindex="35" data-l10n-id="bookmark"><span data-l10n-id="bookmark_label">Current View</span></a><div class="verticalToolbarSeparator hiddenSmallView"></div><button id="secondaryToolbarToggle" class="toolbarButton" title="Tools" tabindex="36" data-l10n-id="tools" aria-expanded="false" aria-controls="secondaryToolbar"><span data-l10n-id="tools_label">Tools</span></button></div><div id="toolbarViewerMiddle"><div class="splitToolbarButton"><button id="zoomOut" class="toolbarButton zoomOut" title="Zoom Out" tabindex="21" data-l10n-id="zoom_out"><span data-l10n-id="zoom_out_label">Zoom Out</span></button><div class="splitToolbarButtonSeparator"></div><button id="zoomIn" class="toolbarButton zoomIn" title="Zoom In" tabindex="22" data-l10n-id="zoom_in"><span data-l10n-id="zoom_in_label">Zoom In</span></button></div><span id="scaleSelectContainer" class="dropdownToolbarButton"><select id="scaleSelect" title="Zoom" tabindex="23" data-l10n-id="zoom"><option id="pageAutoOption" title="" value="auto" selected="selected" data-l10n-id="page_scale_auto">Automatic Zoom</option><option id="pageActualOption" title="" value="page-actual" data-l10n-id="page_scale_actual">Actual Size</option><option id="pageFitOption" title="" value="page-fit" data-l10n-id="page_scale_fit">Page Fit</option><option id="pageWidthOption" title="" value="page-width" data-l10n-id="page_scale_width">Page Width</option><option id="customScaleOption" title="" value="custom" disabled="disabled" hidden="true"></option><option title="" value="0.5" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 50 }\'>50%</option><option title="" value="0.75" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 75 }\'>75%</option><option title="" value="1" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 100 }\'>100%</option><option title="" value="1.25" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 125 }\'>125%</option><option title="" value="1.5" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 150 }\'>150%</option><option title="" value="2" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 200 }\'>200%</option><option title="" value="3" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 300 }\'>300%</option><option title="" value="4" data-l10n-id="page_scale_percent" data-l10n-args=\'{ "scale": 400 }\'>400%</option></select></span></div></div><div id="loadingBar"><div class="progress"><div class="glimmer"></div></div></div></div></div><div id="viewerContainer" tabindex="0"><div id="viewer" class="pdfViewer"></div></div><div id="errorWrapper" hidden="true"><div id="errorMessageLeft"><span id="errorMessage"></span> <button id="errorShowMore" data-l10n-id="error_more_info">More Information</button> <button id="errorShowLess" data-l10n-id="error_less_info" hidden="true">Less Information</button></div><div id="errorMessageRight"><button id="errorClose" data-l10n-id="error_close">Close</button></div><div class="clearBoth"></div><textarea id="errorMoreInfo" hidden="true" readonly="readonly"></textarea></div></div><div id="overlayContainer" class="hidden"><div id="passwordOverlay" class="container hidden"><div class="dialog"><div class="row"><p id="passwordText" data-l10n-id="password_label">Enter the password to open this PDF file:</p></div><div class="row"><input type="password" id="password" class="toolbarField"></div><div class="buttonRow"><button id="passwordCancel" class="overlayButton"><span data-l10n-id="password_cancel">Cancel</span></button> <button id="passwordSubmit" class="overlayButton"><span data-l10n-id="password_ok">OK</span></button></div></div></div><div id="documentPropertiesOverlay" class="container hidden"><div class="dialog"><div class="row"><span data-l10n-id="document_properties_file_name">File name:</span><p id="fileNameField">-</p></div><div class="row"><span data-l10n-id="document_properties_file_size">File size:</span><p id="fileSizeField">-</p></div><div class="separator"></div><div class="row"><span data-l10n-id="document_properties_title">Title:</span><p id="titleField">-</p></div><div class="row"><span data-l10n-id="document_properties_author">Author:</span><p id="authorField">-</p></div><div class="row"><span data-l10n-id="document_properties_subject">Subject:</span><p id="subjectField">-</p></div><div class="row"><span data-l10n-id="document_properties_keywords">Keywords:</span><p id="keywordsField">-</p></div><div class="row"><span data-l10n-id="document_properties_creation_date">Creation Date:</span><p id="creationDateField">-</p></div><div class="row"><span data-l10n-id="document_properties_modification_date">Modification Date:</span><p id="modificationDateField">-</p></div><div class="row"><span data-l10n-id="document_properties_creator">Creator:</span><p id="creatorField">-</p></div><div class="separator"></div><div class="row"><span data-l10n-id="document_properties_producer">PDF Producer:</span><p id="producerField">-</p></div><div class="row"><span data-l10n-id="document_properties_version">PDF Version:</span><p id="versionField">-</p></div><div class="row"><span data-l10n-id="document_properties_page_count">Page Count:</span><p id="pageCountField">-</p></div><div class="row"><span data-l10n-id="document_properties_page_size">Page Size:</span><p id="pageSizeField">-</p></div><div class="separator"></div><div class="row"><span data-l10n-id="document_properties_linearized">Fast Web View:</span><p id="linearizedField">-</p></div><div class="buttonRow"><button id="documentPropertiesClose" class="overlayButton"><span data-l10n-id="document_properties_close">Close</span></button></div></div></div><div id="printServiceOverlay" class="container hidden"><div class="dialog"><div class="row"><span data-l10n-id="print_progress_message">Preparing document for printing\uFFFD</span></div><div class="row"><progress value="0" max="100"></progress><span data-l10n-id="print_progress_percent" data-l10n-args=\'{ "progress": 0 }\' class="relative-progress">0%</span></div><div class="buttonRow"><button id="printCancel" class="overlayButton"><span data-l10n-id="print_progress_close">Cancel</span></button></div></div></div></div></div><div id="printContainer"></div></pdfjs-wrapper></div><prm-pdf-viewer-after parent-ctrl="$ctrl"></prm-pdf-viewer-after>');
$templateCache.put('components/delivery/representationViewer/representationViewer.html','<md-toolbar ng-if="((!$ctrl.embed||$ctrl.embed==\'false\')&&!$ctrl.isScreenSizeXs&&!$ctrl.quickAccess)" class="default-toolbar zero-padding" ng-class="{\'quickAccess\':$ctrl.quickAccess}"><div layout="row" layout-align="space-between end" class="md-toolbar-tools zero-padding"><div layout="row" flex="{{$ctrl.newui?\'100\':($ctrl.hasConcurrentUsageAR && $ctrl.areUsersLoggedIn ? ( $ctrl.copyrightsfilecontent ? \'75\' : \'80\' ) : \'90\')}}" flex-gt-md="{{$ctrl.newui?\'100\':($ctrl.hasConcurrentUsageAR && $ctrl.areUsersLoggedIn ? ( $ctrl.copyrightsfilecontent ? \'75\' : \'80\' ) : \'90\')}}"><h1 class="toolbar-title" id="toolbar-title" flex="100"><span ng-if="!$ctrl.isScreenSizeSm" id="toolbar-title-text" class="ng-scope" ng-class="{\'toolbar-title-text-new\':$ctrl.newui}" title="{{::$ctrl.bibTitle}}" id="representation-label">{{$ctrl.representationTitle}}</span> <span ng-if="$ctrl.newui && !$ctrl.isEsploroRecord  && $ctrl.filetype !=\'EMBED\' && !$ctrl.isScreenSizeSm && $ctrl.files[$ctrl.index.index].fileMidLabel.length>0" class="ng-scope" title="{{$ctrl.files[$ctrl.index.index].fileLabel}}" id="file_label_{{$ctrl.index.index}}">/ {{$ctrl.files[$ctrl.index.index].fileMidLabel}}</span> <span ng-if="$ctrl.newui && ($ctrl.isEsploroRecord||$ctrl.isScreenSizeSm)" id="toolbar-label-text" class="ng-scope" title="{{$ctrl.files[$ctrl.index.index].fileLabel}}">{{$ctrl.files[$ctrl.index.index].fileMidLabel}}</span></h1></div><div layout="row" ng-class="{\'justify-button-ltr\':$ctrl.dir==\'ltr\',\'justify-button-rtl\':$ctrl.dir==\'rtl\'}"><md-button ng-if="::$ctrl.files.length>1 && $ctrl.newui" aria-label="{{\'repDeliveryViewer.al.prev\' | translate}}" ng-disabled="$ctrl.index.index==0" aria-disabled="{{$ctrl.index.index==0}}" id="new-prev" class="prev-new-button md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer" ng-class="{\'sm-qa-button\':$ctrl.quickAccess&&!$ctrl.isScreenSizeXs,\'prev-modal-button\':$ctrl.isFullscreen()&&!$ctrl.isScreenSizeXs}" (click)="$ctrl.prevFile()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up"></prm-icon></md-button><md-button ng-if="::$ctrl.files.length>1 && $ctrl.newui" aria-label="{{\'repDeliveryViewer.al.next\' | translate}}" ng-disabled="$ctrl.index.index==($ctrl.files.length-1)" aria-disabled="{{$ctrl.index.index==($ctrl.files.length-1)}}" id="new-next" class="next-new-button md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer" ng-class="{\'sm-qa-button\':$ctrl.quickAccess&&!$ctrl.isScreenSizeXs,\'prev-modal-button\':$ctrl.isFullscreen()&&!$ctrl.isScreenSizeXs}" role="button" (click)="$ctrl.nextFile()" href="#"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down"></prm-icon></md-button><span ng-if="::$ctrl.files.length>1 && $ctrl.newui" class="divider md-primoExplore-theme md-ink-ripple"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm-line"></prm-icon></span><md-button id="openmodal" ng-if="$ctrl.files[$ctrl.index.index].fileType==\'IMAGE\'  && $ctrl.files[$ctrl.index.index].isAccessRightsOk &&!$ctrl.quickAccess &&!($ctrl.restrictDigitalImageDownload && !$ctrl.allowdownload) && $ctrl.newui &&!$ctrl.isShowCopyrights" class="downloadButton md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer file-button" title="{{\'repDeliveryViewer.al.fullscreen\' | translate}}" aria-label="{{\'repDeliveryViewer.al.fullscreen\' | translate}}" (click)="$ctrl.openModal()"><prm-icon icon-type="svg" svg-icon-set="maps" icon-definition="ic_zoom_out_map_24px" style="margin-top: 2px;"/></md-button><a ng-if="$ctrl.newui && $ctrl.allowdownload && (!$ctrl.isScreenSizeXs||$ctrl.quickAccess) && $ctrl.files[$ctrl.index.index].isAccessRightsOk && $ctrl.files[$ctrl.index.index].fileType!=\'HLS\'&&!$ctrl.isShowCopyrights" role="button" (click)="$ctrl.downloadAnalitics()" href="{{$ctrl.files[$ctrl.index.index].downloadUrl}}" aria-label="{{\'repDeliveryViewer.al.download\' | translate}} {{$ctrl.files[$ctrl.index.index].fileLabel}} ({{$ctrl.files[$ctrl.index.index].fileSize}})" title="{{$ctrl.files[$ctrl.index.index].fileLabel}} ({{$ctrl.files[$ctrl.index.index].fileSize}})" class="downloadButtonId md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer file-button"><prm-icon icon-type="svg" svg-icon-set="file" icon-definition="ic_download_24px"/></a><md-button id="copyrights-button" ng-if="$ctrl.copyrightsfilecontent" class="md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer" (click)="$ctrl.showCopyrights()" title="{{\'repDeliveryViewer.al.copyrights\' | translate}}" aria-label="{{\'repDeliveryViewer.al.copyrights\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_copyrights_24px" style="margin-top: 2px;"></prm-icon></md-button><prm-social-menu [socialmap]="$ctrl.socialMap" [pid]="::$ctrl.data.id" [fileid]="$ctrl.files[$ctrl.index.index].fileId" [hasmultiplefiles]="$ctrl.hasMultipleFiles()"></prm-social-menu><md-button ng-if="$ctrl.hasConcurrentUsageAR" id="remainingTimeButton" class="md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer" (click)="$ctrl.toggleShowTimeRemaining($event)" title="{{\'repDeliveryViewer.al.timeRemaining\' | translate}}" aria-label="{{\'repDeliveryViewer.al.timeRemaining\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_time_remaining_16px"></prm-icon></md-button><md-button ng-if="$ctrl.hasConcurrentUsageAR && $ctrl.areUsersLoggedIn" id="early-checkout-button" class="button-with-icon button-link share-viewer" (click)="$ctrl.handleEarlyCheckOut()" aria-label="{{\'repDeliveryViewer.al.earlyCheckout\' | translate}}" style="padding-bottom: 3px;"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_early_checkout_16px"></prm-icon><span translate="repDeliveryViewer.al.earlyCheckout"></span></md-button></div></div></md-toolbar><md-toolbar ng-if="$ctrl.isScreenSizeXs&&!$ctrl.quickAccess" class="default-toolbar"><div layout="row" layout-align="space-between end" class="md-toolbar-tools"><md-button id="thumbnails-button" ng-if="::$ctrl.files.length>1" ng-disabled="$ctrl.isMobileMenuDisabled" class="md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link mobile-menu-button" (click)="$ctrl.showThumbnails()" aria-label="{{\'repDeliveryViewer.al.thumbnails\' | translate}}"><prm-icon class="inactive-button" icon-type="svg" svg-icon-set="file" icon-definition="ic_folder_mobile_24px"></prm-icon><prm-icon class="active-button" icon-type="svg" svg-icon-set="file" icon-definition="ic_folder_mobile_active_24px"></prm-icon></md-button><md-button id="main-file-button" ng-disabled="$ctrl.isMobileMenuDisabled" class="md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link mobile-menu-button" (click)="$ctrl.showMainFile()" aria-label="{{\'repDeliveryViewer.al.mainFile\' | translate}}"><prm-icon class="inactive-button" icon-type="svg" svg-icon-set="image" icon-definition="ic_image_mobile_24px"></prm-icon><prm-icon class="active-button" icon-type="svg" svg-icon-set="image" icon-definition="ic_image_mobile_active_24px"></prm-icon></md-button><md-button id="metedata-button" ng-if="::!$ctrl.embed" ng-disabled="$ctrl.isMobileMenuDisabled" class="md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link mobile-menu-button" (click)="$ctrl.showMetadata()" aria-label="{{\'repDeliveryViewer.al.metadata\' | translate}}"><prm-icon class="inactive-button" icon-type="svg" svg-icon-set="action" icon-definition="ic_info_mobile_24px"></prm-icon><prm-icon class="active-button" icon-type="svg" svg-icon-set="action" icon-definition="ic_info_mobile_active_24px"></prm-icon></md-button><md-button id="copyrights-button" ng-if="::$ctrl.copyrightsfilecontent" class="md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link mobile-menu-button" (click)="$ctrl.showCopyrights()" aria-label="{{\'repDeliveryViewer.al.copyrights\' | translate}}"><prm-icon class="inactive-button" icon-type="svg" svg-icon-set="action" icon-definition="ic_copyrights_mobile_24px"></prm-icon><prm-icon class="active-button" icon-type="svg" svg-icon-set="action" icon-definition="ic_copyrights_mobile_active_24px"></prm-icon></md-button></div></md-toolbar><div layout="row" layout-align="space-between end"><md-content id="almaViewerContainer" layout="{{$ctrl.mediaQueries.gtsm ? \'row\' : \'column\'}}" layout-align="space-between stretch" class="main-content" (scroll)="$ctrl.onScrollCR($event)"><div ng-if="$ctrl.isShowThumbnailList&&$ctrl.files.length>1&&!$ctrl.quickAccess" flex="15" flex-xl="15" flex-xs="100" flex-sm="100" layout="column" id="thumbnail-list" class="thumbnail-list thumbnail-list-{{$ctrl.dir}}" style="{{$ctrl.mainFileStyle}}"><prm-thumbnail-list [files]="::$ctrl.files" [links]="::$ctrl.links" [delay]="::$ctrl.delay" [index]="$ctrl.index" [expandcontentpane]="$ctrl.expandcontentpane" [newui]="$ctrl.newui" [title]="ctrl.data.label" flex style="max-height:100%;"></prm-thumbnail-list></div><prm-copyrights flex="{{$ctrl.copyrightsFlexSize}}" flex-xs="100" flex-sm="100" layout="column" ng-if="$ctrl.copyrightsfilecontent&&$ctrl.isShowCopyrights" [mode]="$ctrl.mode" [copyrightsfilecontent]="::$ctrl.copyrightsfilecontent" [copyrightsuri]="::$ctrl.copyrightsuri" [copyrightsimgurl]="::$ctrl.copyrightsimgurl" [embed]="::$ctrl.embed" class="copyrights-full-height" style="display: block;"></prm-copyrights><div ng-if="$ctrl.isShowMainFile" flex="{{$ctrl.mainFileflexSize}}" flex-xs="100" flex-sm="100" layout="column" id="main-file" class="main-file" ng-class="{\'search-res\':$ctrl.searchResultsQuickAccess}" style="{{$ctrl.mainFileStyle}}" ng-class="{\'quickAccess-main-file\':$ctrl.quickAccessByUrl}"><div class="default-card" dir="ltr"><div class="main-file-container" layout="row"><div ng-if="(!$ctrl.quickAccess||$ctrl.files.length>1)&&!$ctrl.searchResultsQuickAccess&&(!$ctrl.newui||($ctrl.newui&&($ctrl.isScreenSizeXs||$ctrl.embed||$ctrl.mode==\'quickaccess\')))" flex="10" flex-sm="{{$ctrl.quickAccessButtonFlex}}" flex-xs="{{$ctrl.quickAccessButtonFlex}}" style="/*position: relative;*/"><a ng-if="::$ctrl.files.length>1" aria-label="{{\'repDeliveryViewer.al.prev\' | translate}}" ng-disabled="$ctrl.dir==\'rtl\'?$ctrl.index.index==($ctrl.files.length-1):$ctrl.index.index==0" aria-disabled="{{$ctrl.dir==\'rtl\'?$ctrl.index.index==($ctrl.files.length-1):$ctrl.index.index==0}}" id="prev" class="prev-button md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link" ng-class="{\'sm-qa-button\':$ctrl.quickAccess&&!$ctrl.isScreenSizeXs,\'prev-modal-button\':$ctrl.isFullscreen()&&!$ctrl.isScreenSizeXs}" role="button" style="line-height: 48px;" (click)="$ctrl.prevFile()" href="#"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left-big"></prm-icon></a></div><div ng-if="$ctrl.files[$ctrl.index.index].fileType==\'IMAGE\' &&!($ctrl.restrictDigitalImageDownload && !$ctrl.allowdownload)" id="myModal" class="modal"><span ng-if="::$ctrl.files.length>1&&!$ctrl.isScreenSizeXs" class="nextmodal cursor" id="next" ng-click="$ctrl.nextFile()" role="button" tabindex="0" aria-label="{{\'repDeliveryViewer.al.next\' | translate}}">&darr;</span> <span ng-if="::$ctrl.files.length>1&&!$ctrl.isScreenSizeXs" class="prevmodal cursor" id="prev" ng-click="$ctrl.prevFile()" role="button" tabindex="0" aria-label="{{\'repDeliveryViewer.al.prev\' | translate}}">&uarr;</span> <span class="close cursor" id="closemodal" ng-click="$ctrl.closeModal()" role="button" tabindex="0" aria-label="{{\'repDeliveryViewer.al.closeFullscreen\' | translate}}">&times;</span><div class="modal-content"><img ng-src="{{$ctrl.files[$ctrl.index.index].url}}" alt="{{$ctrl.files[$ctrl.index.index].fileLabel}}" style="width:100%"></div></div><div ng-if="$ctrl.isTiffOrJp2OrUndownloadableImage($ctrl.files[$ctrl.index.index].fileType)" oncontextmenu="return false;" id="seaDragonModal" class="modal"><span class="close cursor" id="closemodal" ng-click="$ctrl.closeSeadragonFullView()" role="button" tabindex="0" aria-label="{{\'repDeliveryViewer.al.closeFullscreen\' | translate}}">&times;</span><div id="seaDragonContent" class="seadragon-modal-content"></div></div><div flex="{{$ctrl.mainFileContainerflexSize}}" flex-xs="100" flex-sm="100" layout="column" id="file-container" ng-class="{\'search-res\':$ctrl.searchResultsQuickAccess,\'new-centered-img\':$ctrl.newui&&$ctrl.files[$ctrl.index.index].fileType!=\'PDF\'}"><div ng-if="!$ctrl.searchResultsQuickAccess && (!$ctrl.newui||$ctrl.isScreenSizeXs)" layout="row" layout-align="space-between end" class="head-row" dir="{{$ctrl.dir}}"><h3 id="file_label_{{$ctrl.index.index}}" ng-if="$ctrl.filetype !=\'EMBED\'&&!($ctrl.quickAccess&&$ctrl.isScreenSizeXs)" class="md-headline" dir="auto" style="text-align:start;line-height:normal" title="{{$ctrl.files[$ctrl.index.index].fileLabel}}">{{$ctrl.files[$ctrl.index.index].fileMidLabel}}</h3><h3 ng-if="$ctrl.filetype ==\'EMBED\'||($ctrl.quickAccess&&$ctrl.isScreenSizeXs)" class="md-headline" dir="auto"></h3><div id="buttons" layout style="text-align: right;"><a ng-if="!$ctrl.newui && $ctrl.allowdownload && (!$ctrl.isScreenSizeXs||$ctrl.quickAccess) && $ctrl.files[$ctrl.index.index].isAccessRightsOk && $ctrl.files[$ctrl.index.index].fileType!=\'HLS\'" role="button" (click)="$ctrl.downloadAnalitics()" href="{{$ctrl.files[$ctrl.index.index].downloadUrl}}" aria-label="{{\'repDeliveryViewer.al.download\' | translate}} {{$ctrl.files[$ctrl.index.index].fileLabel}} ({{$ctrl.files[$ctrl.index.index].fileSize}})" title="{{$ctrl.files[$ctrl.index.index].fileLabel}} ({{$ctrl.files[$ctrl.index.index].fileSize}})" class="downloadButtonId md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer file-button"><prm-icon icon-type="svg" svg-icon-set="file" icon-definition="ic_download_24px"/></a><md-button ng-if="::$ctrl.quickAccess" class="md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link" (click)="$ctrl.openInNewWindow($ctrl.files[$ctrl.index.index].fileId)" aria-label="{{\'repDeliveryViewer.al.openViewer\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon></md-button><md-button id="openmodal" ng-if="$ctrl.files[$ctrl.index.index].fileType==\'IMAGE\'  && $ctrl.files[$ctrl.index.index].isAccessRightsOk &&!$ctrl.quickAccess &&!($ctrl.restrictDigitalImageDownload && !$ctrl.allowdownload) &&!$ctrl.newui" class="downloadButton md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link share-viewer file-button" title="{{\'repDeliveryViewer.al.fullscreen\' | translate}}" aria-label="{{\'repDeliveryViewer.al.fullscreen\' | translate}}" (click)="$ctrl.openModal()"><prm-icon icon-type="svg" svg-icon-set="maps" icon-definition="ic_zoom_out_map_24px" style="margin-top: 2px;"/></md-button></div></div><div id="main-file-div" ng-if="$ctrl.files[$ctrl.index.index].fileType!=\'PDF\' && ($ctrl.files[$ctrl.index.index].fileType!=\'EPUB\' || !$ctrl.isEpubEnabled) && !$ctrl.isTiffOrJp2OrUndownloadableImage($ctrl.files[$ctrl.index.index].fileType)" layout="column" layout-align="center center" ng-class="{\'remote-embed-qa\':$ctrl.quickAccess&&$ctrl.filetype ==\'EMBED\',\'search-res\':$ctrl.searchResultsQuickAccess}"><object ng-if="::$ctrl.filetype ==\'EMBED\'" class="show-main-file object-container" height="100%" data="{{::$ctrl.remoteUrl}}" data-remote="{{::$ctrl.remoteUrl}}"><embed width="100%" height="100%" src="{{::$ctrl.remoteUrl}}" style="object-fit: contain;"/></object><div ng-repeat="file in ::$ctrl.files" ng-if="$ctrl.allowdownload && file.fileType==\'IMAGE\' && $index==$ctrl.index.index && file.isAccessRightsOk" class="show-main-file" layout-align="center center" layout-padding id="{{::file.fileId}}" data-size="1208x755" data-med-size="1208x755" style="padding: 0px;" ng-class="{\'mobile-qa\':$ctrl.quickAccess&&$ctrl.isScreenSizeXs}"><img alt="{{::file.fileLabel}}" ng-src="{{::file.url}}" (click)="$ctrl.openModalInMobile()" id="objId" ng-class="{\'centered-img\':!$ctrl.newui}" class="shadow" (load)="$ctrl.setWidthByRatio()"></div><div ng-repeat="file in ::$ctrl.files" oncontextmenu="return false;" ng-if="!$ctrl.allowdownload && file.fileType==\'IMAGE\' && $index==$ctrl.index.index &&!ctrl.restrictDigitalImageDownload" layout-align="center center" layout-padding id="{{::file.fileId}}" data-size="1208x755" data-med-size="1208x755" class="show-main-file img-container" style="padding: 0px;" ng-class="{\'mobile-qa\':$ctrl.quickAccess&&$ctrl.isScreenSizeXs}"><img alt="{{::file.fileLabel}}" ng-src="{{::file.url}}" (click)="$ctrl.openModalInMobile()" class="shadow" ng-class="{\'centered-img\':!$ctrl.newui}" id="objId" (load)="$ctrl.setWidthByRatio()"></div><audio ng-repeat="file in ::$ctrl.files" ng-if="$ctrl.allowdownload  && file.isAccessRightsOk &&  file.fileType==\'AUDIO\' && $index==$ctrl.index.index" id="{{file.fileId}}" name="AUDIO" width="100%" ng-src="{{file.url}}" type="{{file.contentType}}" height="100%" class="show-main-file audio-container" data-remote="{{file.url}}" controls></audio><audio ng-repeat="file in ::$ctrl.files" oncontextmenu="return false;" ng-if="!$ctrl.allowdownload &&  file.fileType==\'AUDIO\' && $index==$ctrl.index.index" id="{{file.fileId}}" name="AUDIO" ng-src="{{file.url}}" type="{{file.contentType}}" height="100%" class="show-main-file audio-container" data-remote="{{file.url}}" controls controlsList="nodownload"></audio><div id="{{::file.fileId}}" class="vjs-video-wrap" ng-class="{\'centered-video\':$ctrl.newui}" ng-repeat="file in ::$ctrl.files" ng-if="$ctrl.allowdownload  && file.isAccessRightsOk &&  file.fileType==\'VIDEO\' && $index==$ctrl.index.index &&!($ctrl.quickAccess&&$ctrl.isScreenSizeXs)&&!$ctrl.isIOS" layout-align="center center" ng-class="{\'single-video\':$ctrl.files.length==1||$ctrl.quickAccessByUrl&&$ctrl.files.length>1,\'quickAccessSingleVideo\':$ctrl.quickAccessByUrl&&$ctrl.files.length==1}"><video data-video-id="{{file.fileId}}" name="VIDEO" class="video-js vjs-default-skin show-main-file pdf-container shadow" ng-playing="{{$ctrl.changeLabels()}}" width="100%" height="100%" controls data-setup=\'{"html5": { "nativeTextTracks": "false"}, "aspectRatio":"440:267", "playbackRates": [1, 1.5, 2, 2.5, 3] }\' vjs-video vjs-media="$ctrl.media"></video></div><div id="{{::file.fileId}}" class="vjs-video-wrap" ng-class="{\'centered-video\':$ctrl.newui}" ng-repeat="file in ::$ctrl.files" ng-if="!$ctrl.allowdownload &&  file.fileType==\'VIDEO\' && $index==$ctrl.index.index&&!($ctrl.quickAccess&&$ctrl.isScreenSizeXs)&&!$ctrl.isIOS" layout-align="center center" ng-class="{\'single-video\':$ctrl.files.length==1||$ctrl.quickAccessByUrl&&$ctrl.files.length>1,\'quickAccessSingleVideo\':$ctrl.quickAccessByUrl&&$ctrl.files.length==1}"><video oncontextmenu="return false;" data-video-id="{{file.fileId}}" name="VIDEO" class="video-js vjs-default-skin show-main-file pdf-container shadow" width="100%" height="100%" controls controlsList="nodownload" data-setup=\'{"html5": { "nativeTextTracks": "false"}, "aspectRatio":"440:267", "playbackRates": [1, 1.5, 2, 2.5, 3] }\' vjs-video ng-playing="{{$ctrl.changeLabels()}}" vjs-media="$ctrl.media"></video></div><div id="{{::file.fileId}}" class="mobile-qa" ng-repeat="file in ::$ctrl.files" ng-if="file.fileType==\'VIDEO\' && $index==$ctrl.index.index&&($ctrl.quickAccess&&$ctrl.isScreenSizeXs||$ctrl.isIOS)" layout-align="center center" ng-class="{\'single-video\':$ctrl.files.length==1||$ctrl.quickAccessByUrl&&$ctrl.files.length>1,\'quickAccessSingleVideo\':$ctrl.quickAccessByUrl}"><video oncontextmenu="return false;" data-video-id="{{file.fileId}}" name="VIDEO" class="video-js vjs-default-skin show-main-file pdf-container shadow mobile-video-qa" width="100%" height="100%" controls controlsList="nodownload" data-setup=\'{"html5": { "nativeTextTracks": "false"}, "aspectRatio":"440:267", "playbackRates": [1, 1.5, 2, 2.5, 3] }\' ng-playing="{{$ctrl.changeLabels()}}"><source ng-src="{{file.url}}"></video></div><div ng-repeat="file in ::$ctrl.files" id="xml_{{$index}}" ng-if="(file.contentType==\'application/xml\'||file.extension==\'txt\') && $index==$ctrl.index.index && $ctrl.xmlflage && file.isAccessRightsOk" class="show-main-file xml-container shadow" ng-class="{\'mobile-qa\':$ctrl.quickAccess&&$ctrl.isScreenSizeXs}"><pre style="padding: 0px;\n    font-size: inherit;\n    text-align: left;\n    background-color: #fff;\n    border: none;\n    overflow: auto;\n    /* width: 100%; */\n    position: relative;\n    max-height: 600px;\n    height: 100%;\n    margin:0;\n    \n    /* overflow: scroll; */">\n{{$ctrl.getXmlContent($index,file.url)}}\n\t\t{{$ctrl.xmlData}}\n\t</pre></div><prm-spinner class="inline-loader dark-on-light" ng-if="$ctrl.isSupportingMicrosoftOffice($ctrl.index.index)&&$ctrl.isOnLoad && $ctrl.files[$ctrl.index.index].isAccessRightsOk"></prm-spinner><div id="docdiv_{{$index}}" ng-repeat="file in ::$ctrl.files" class="show-main-file pdf-container shadow" ng-if="$ctrl.isSupportingMicrosoftOffice($ctrl.index.index) &&   $index==$ctrl.index.index && file.isAccessRightsOk" style="background-color: #fff;" ng-class="{\'mobile-qa\':($ctrl.quickAccess&&$ctrl.isScreenSizeXs), \'mobile-office-qa\':($ctrl.isMicrosoftOfficeAPI($index)&&$ctrl.searchResultsQuickAccess)}">{{$ctrl.getDocContent($index)}}</div><hls-video ng-repeat="file in ::$ctrl.files" ng-if="file.fileType==\'HLS\'  &&file.contentType!=\'application/xml\' && $index==$ctrl.index.index && file.isAccessRightsOk" width="100%" height="100%" streaming-src="{{file.url}}" controls="" class="show-main-file img-container shadow"></hls-video><div ng-repeat="file in ::$ctrl.files" ng-if="$index==$ctrl.index.index && file.isAccessRightsOk && file.fileType!=\'HLS\'&&file.fileType!=\'VIDEO\'&&file.fileType!=\'AUDIO\'&&file.fileType!=\'IMAGE\'&&file.fileType!=\'PDF\' && file.fileType!=\'ESPLORO_LINK\' && (!$ctrl.isSupportingMicrosoftOffice($ctrl.index.index) || !file.docUploaded)&& file.extension != \'xml\'  && file.extension != \'txt\' && (file.fileType != \'EPUB\' || !$ctrl.isEpubEnabled)" oncontextmenu="return false;" layout-align="center center" layout-padding layout-margin layout="column" id="{{file.fileId}}" data-size="1208x755" data-med-size="1208x755" class="show-main-file"><img ng-src="{{file.thumbnail_url}}" id="objId" title="{{file.fileLabel}}" alt="{{file.fileLabel}}" class="unsupported"> <a ng-if="$ctrl.allowdownload" href="{{file.downloadUrl}}" download="{{file.fileLabel}}"><span ng-if="$ctrl.allowdownload" translate="repDeliveryViewer.download"></span> ({{file.fileLabel}}.{{file.extension}}, {{file.fileSize}})</a> <span ng-if="!$ctrl.allowdownload">({{file.fileLabel}}.{{file.extension}}, {{file.fileSize}})</span></div><object ng-repeat="linkEsploro in ::$ctrl.files" ng-if="$ctrl.files[$ctrl.index.index].fileType==\'ESPLORO_LINK\' && $index==$ctrl.index.index" class="show-main-file pdf-container" width="100%" height="100%" data="{{$ctrl.files[$ctrl.index.index].url}}" data-remote="{{$ctrl.files[$ctrl.index.index].url}}"><embed width="100%" height="100%" src="{{$ctrl.files[$ctrl.index.index].url}}"/></object><prm-denied-access ng-if="!$ctrl.files[$ctrl.index.index].isAccessRightsOk && !$ctrl.remoteurl" [deniednote]="$ctrl.files[$ctrl.index.index].deniedMessage" width="100%" height="100%" class="img-container"></prm-denied-access></div><div ng-repeat="file in ::$ctrl.files" ng-if="$ctrl.isShowMainFile && file.isAccessRightsOk && $ctrl.isTiffOrJp2OrUndownloadableImage(file.fileType) && $index==$ctrl.index.index" oncontextmenu="return false;"><md-menu-content class="seadragon-viewer-menu-content"><md-menu-item id="repToolbarDiv_{{$ctrl.files[$ctrl.index.index].fileId}}"><md-button id="zoom_in_button_{{$ctrl.files[$ctrl.index.index].fileId}}" class="md-button md-primoExplore-theme md-ink-ripple seadragon-viewer-button" role="button" style="display:inline-block;position:relative;"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_zoom_in_24px"></prm-icon></md-button><md-button id="zoom_out_button_{{$ctrl.files[$ctrl.index.index].fileId}}" class="md-button md-primoExplore-theme md-ink-ripple seadragon-viewer-button" role="button" style="display:inline-block;position:relative;"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_zoom_out_24px"></prm-icon></md-button><md-button id="home_button_{{$ctrl.files[$ctrl.index.index].fileId}}" class="md-button md-primoExplore-theme md-ink-ripple seadragon-viewer-button" role="button" style="display:inline-block;position:relative;"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_home_24px"></prm-icon></md-button><md-button id="rotate_left_button_{{$ctrl.files[$ctrl.index.index].fileId}}" class="md-button md-primoExplore-theme md-ink-ripple seadragon-viewer-button" role="button" style="display:inline-block;position:relative;"><prm-icon icon-type="svg" svg-icon-set="image" icon-definition="ic_rotate_left_24px"></prm-icon></md-button><md-button id="rotate_right_button_{{$ctrl.files[$ctrl.index.index].fileId}}" class="md-button md-primoExplore-theme md-ink-ripple seadragon-viewer-button" role="button" style="display:inline-block;position:relative;"><prm-icon icon-type="svg" svg-icon-set="image" icon-definition="ic_rotate_right_24px"></prm-icon></md-button><md-button id="full_page_button_{{$ctrl.files[$ctrl.index.index].fileId}}" class="md-button md-primoExplore-theme md-ink-ripple seadragon-viewer-button" ng-if="!$ctrl.quickAccess" role="button" style="display:inline-block;position:relative;"><prm-icon icon-type="svg" svg-icon-set="maps" icon-definition="ic_zoom_out_map_24px"></prm-icon></md-button></md-menu-item></md-menu-content><prm-seadragon-viewer id="viewer_file_{{$ctrl.files[$ctrl.index.index].fileId}}" layout-align="center center" width="100%" class="show-main-file" (on-viewer-ready-event)="$ctrl.viewerInstance = $event" ; [file]="$ctrl.files[$ctrl.index.index]" [quick_access]="$ctrl.quickAccess"></prm-seadragon-viewer></div><div ng-if="$ctrl.files[$ctrl.index.index].fileType==\'PDF\' && $ctrl.isOnLoad && $ctrl.files[$ctrl.index.index].isAccessRightsOk && $ctrl.files[$ctrl.index.index].requiresPDFCoverPage" layout="column" layout-align="center center" style="height: 100%;" class="layout-align-center-center layout-column"><prm-spinner class="inline-loader dark-on-light" ng-if="$ctrl.files[$ctrl.index.index].fileType==\'PDF\' && $ctrl.isOnLoad && $ctrl.files[$ctrl.index.index].isAccessRightsOk && $ctrl.files[$ctrl.index.index].requiresPDFCoverPage"></prm-spinner></div><div id="pdfdiv_{{$index}}" ng-repeat="file in ::$ctrl.files" class="show-main-file pdf-container shadow pdf-container-with-height" ng-if="file.fileType==\'PDF\' && $index==$ctrl.index.index && file.isAccessRightsOk && file.requiresPDFCoverPage" style="background-color: #fff;">{{$ctrl.getPDFWithCoverPageContent($index)}}</div><div ng-repeat="file in ::$ctrl.files" ng-if="!$ctrl.usePdfjs && $ctrl.allowdownload && !$ctrl.isScreenSizeXs && file.isAccessRightsOk && file.fileType==\'PDF\' && !file.requiresPDFCoverPage && $index==$ctrl.index.index" class="pdfjs pdf-container shadow pdf-container-with-flex-height"><object id="{{file.fileId}}" type="text/html" class="show-main-file hidden-xs hidden-sm" width="100%" height="100%" data="{{file.url}}" data-remote="{{file.url}}"><embed width="100%" height="100%" type="application/pdf" src="{{file.url}}"/></object></div><prm-denied-access ng-if="!$ctrl.files[$ctrl.index.index].isAccessRightsOk && !$ctrl.remoteurl && $ctrl.files[$ctrl.index.index].fileType==\'PDF\'" [deniednote]="$ctrl.files[$ctrl.index.index].deniedMessage" width="100%" height="100%" class="img-container"></prm-denied-access><pdfjs-viewer ng-repeat="file in ::$ctrl.files" ng-if="!$ctrl.isNewPdfjsEnabled && !$ctrl.isEsploroRecord && (!$ctrl.allowdownload || ($ctrl.allowdownload && $ctrl.isScreenSizeXs) || $ctrl.usePdfjs) && $index==$ctrl.index.index && file.fileType==\'PDF\' && $ctrl.delay.delay" download="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" print="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" pdfdefaultzoom="{{$ctrl.pdfDefaultZoom}}" class="pdf-container shadow pdf-container-with-flex-height" src="{{file.url}}" ng-class="{\'mobile-pdf-qa\':$ctrl.quickAccess&&$ctrl.isScreenSizeXs&&$ctrl.files.length>1,\'search-res\':$ctrl.searchResultsQuickAccess}"></pdfjs-viewer><prm-pdf-viewer ng-repeat="file in ::$ctrl.files" ng-if="$ctrl.isNewPdfjsEnabled && !$ctrl.isEsploroRecord && (!$ctrl.allowdownload || ($ctrl.allowdownload && $ctrl.isScreenSizeXs) || $ctrl.usePdfjs) && $index==$ctrl.index.index && file.fileType==\'PDF\' && $ctrl.delay.delay" download="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" print="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" pdfdefaultzoom="{{$ctrl.pdfDefaultZoom}}" searchfilesresults="{{$ctrl.searchResultsQuickAccess}}" class="pdf-container shadow pdf-container-with-flex-height" src="{{file.url}}" ng-class="{\'mobile-pdf-qa\':$ctrl.quickAccess&&$ctrl.isScreenSizeXs&&$ctrl.files.length>1&&!$ctrl.searchResultsQuickAccess,\'search-res-pdf-qa\':$ctrl.searchResultsQuickAccess}"></prm-pdf-viewer><prm-pdf-viewer ng-repeat="file in ::$ctrl.files" ng-if="$ctrl.isNewPdfjsEnabled && $ctrl.isEsploroRecord && !$ctrl.isOnLoad && (!$ctrl.allowdownload || ($ctrl.allowdownload && $ctrl.isScreenSizeXs) || $ctrl.usePdfjs) && $index==$ctrl.index.index && file.fileType==\'PDF\' && $ctrl.delay.delay" download="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" print="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" class="pdf-container shadow pdf-container-with-flex-height" searchfilesresults="{{$ctrl.searchResultsQuickAccess}}" src="{{file.url}}" ng-class="{\'mobile-pdf-qa\':$ctrl.quickAccess&&$ctrl.isScreenSizeXs&&$ctrl.files.length>1&&!$ctrl.searchResultsQuickAccess,\'search-res-pdf-qa\':$ctrl.searchResultsQuickAccess}"></prm-pdf-viewer><h3 id="file_label_{{$ctrl.index.index}}" ng-if="$ctrl.filetype !=\'EMBED\'&&$ctrl.quickAccess&&$ctrl.isScreenSizeXs&&!$ctrl.searchResultsQuickAccess" class="md-headline" dir="auto" style="text-align:center; line-height:normal">{{$ctrl.files[$ctrl.index.index].fileLabel}}</h3><pdfjs-viewer ng-repeat="file in ::$ctrl.files" ng-if="!$ctrl.isNewPdfjsEnabled && $ctrl.isEsploroRecord && !$ctrl.isOnLoad && (!$ctrl.allowdownload || ($ctrl.allowdownload && $ctrl.isScreenSizeXs) || $ctrl.usePdfjs) && $index==$ctrl.index.index && file.fileType==\'PDF\' && $ctrl.delay.delay" download="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" print="{{$ctrl.allowdownload && ($ctrl.isScreenSizeXs || $ctrl.usePdfjs) }}" class="pdf-container shadow pdf-container-with-flex-height" src="{{file.url}}" ng-class="{\'mobile-pdf-qa\':$ctrl.quickAccess&&$ctrl.isScreenSizeXs&&$ctrl.files.length>1,\'search-res\':$ctrl.searchResultsQuickAccess}"></pdfjs-viewer><h3 id="file_label_{{$ctrl.index.index}}" ng-if="::$ctrl.filetype !=\'EMBED\'&&$ctrl.quickAccess&&$ctrl.isScreenSizeXs&&!$ctrl.searchResultsQuickAccess" class="md-headline" dir="auto" style="text-align:center; line-height:normal">{{$ctrl.files[$ctrl.index.index].fileLabel}}</h3><prm-epub-foliate-viewer ng-repeat="file in ::$ctrl.files" ng-if="!$ctrl.isEsploroRecord &&  $index==$ctrl.index.index && $ctrl.isEpubEnabled && file.fileType == \'EPUB\' && $ctrl.delay.delay" class="pdf-container shadow pdf-container-with-flex-height" src="{{file.url}}" searchfilesresults="{{$ctrl.searchResultsQuickAccess}}" quickaccessnotfromsearch="{{$ctrl.quickAccessNotFromSearch}}" ng-class="{\'mobile-epub-qa\':$ctrl.isScreenSizeXs&&!$ctrl.searchResultsQuickAccess,\'search-res-pdf-qa\':$ctrl.searchResultsQuickAccess}"></prm-epub-foliate-viewer></div><div ng-if="(!$ctrl.quickAccess||$ctrl.files.length>1)&&!$ctrl.searchResultsQuickAccess&&(!$ctrl.newui||($ctrl.newui&&($ctrl.isScreenSizeXs||$ctrl.embed||$ctrl.mode==\'quickaccess\')))" flex="10" flex-sm="{{$ctrl.quickAccessButtonFlex}}" flex-xs="{{$ctrl.quickAccessButtonFlex}}" style=""><a aria-label="{{\'repDeliveryViewer.al.next\' | translate}}" ng-if="::$ctrl.files.length>1" ng-disabled="$ctrl.dir==\'rtl\'?$ctrl.index.index==0:$ctrl.index.index==($ctrl.files.length-1)" aria-disabled="{{$ctrl.dir==\'rtl\'?$ctrl.index.index==0:$ctrl.index.index==($ctrl.files.length-1)}}" id="next" class="next-button md-icon-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link" ng-class="{\'sm-qa-button\':$ctrl.quickAccess&&!$ctrl.isScreenSizeXs,\'next-modal-button\':$ctrl.isFullscreen()&&!$ctrl.isScreenSizeXs}" role="button" style="line-height: 48px;" ng-click="$ctrl.nextFile()" href="#"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right-big"></prm-icon></a></div></div></div></div><md-toolbar ng-if="$ctrl.isShowMainFile&&!$ctrl.quickAccess&&$ctrl.isScreenSizeXs" hide-gt-xs class="default-toolbar main-page showIfXs"><div layout="row" layout-align="space-between center" class="md-toolbar-tools zero-padding mobile-foot-toolbar"><md-button id="openmodal" ng-if="$ctrl.isAllowFullviewInMobile && $ctrl.files[$ctrl.index.index].fileType==\'IMAGE\'  && $ctrl.files[$ctrl.index.index].isAccessRightsOk &&!$ctrl.quickAccess &&!($ctrl.restrictDigitalImageDownload && !$ctrl.allowdownload) && $ctrl.newui &&!$ctrl.isShowCopyrights" class="downloadButtonId downloadButton md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link xs-footer-button" role="button" (click)="$ctrl.openModal()"><span translate="repDeliveryViewer.al.fullscreenButton"></span><prm-icon icon-type="svg" svg-icon-set="maps" icon-definition="ic_zoom_out_map_24px" style="margin-top: 2px;"/></md-button><md-button ng-if="$ctrl.allowdownload && $ctrl.files[$ctrl.index.index].isAccessRightsOk && $ctrl.files[$ctrl.index.index].fileType!=\'HLS\'" role="button" href="{{$ctrl.files[$ctrl.index.index].downloadUrl}}" title="{{$ctrl.files[$ctrl.index.index].fileLabel}} ({{$ctrl.files[$ctrl.index.index].fileSize}})" class="downloadButtonId downloadButton md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link xs-footer-button"><span translate="repDeliveryViewer.download"></span><prm-icon icon-type="svg" svg-icon-set="file" icon-definition="ic_download_24px"/></md-button><prm-social-menu [socialmap]="$ctrl.socialMap" [pid]="::$ctrl.data.id" [fileid]="$ctrl.files[$ctrl.index.index].fileId" [hasmultiplefiles]="$ctrl.hasMultipleFiles()" class="downloadButton md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link xs-footer-button"></prm-social-menu></div></md-toolbar><div ng-if="!$ctrl.quickAccess&&!$ctrl.embed&&$ctrl.isShowMetadata&&$ctrl.isNotCollapse" id="resizableFulltextNotCollapse" ng-class="{\'resizable-custom\':$ctrl.files[$ctrl.index.index].fulltext.url}" resizable r-directions="[$ctrl.direction]" r-flex="$ctrl.files[$ctrl.index.index].fulltext.url!=undefined" class="resizable-div" flex="15" flex-xl="15" flex-xs="100" flex-sm="100"><div layout-gt-sm="column" layout-sm="row" layout-xs="column" class="metadata-list metadata-list-{{$ctrl.dir}}"><md-card class="default-card" dir="auto" ng-class="{\'expanded\':$ctrl.metadataIsExpanded&&$ctrl.fulltextIsExpanded&&$ctrl.files[$ctrl.index.index].fulltext.url,\'collapsed-card\':$ctrl.files[$ctrl.index.index].fulltext.url}"><div layout="row" dir="{{$ctrl.dir}}"><div><md-button hide-xs hide-sm id="collapseMetadataButton" ng-class="{\'collapse-button-close\':$ctrl.dir==\'ltr\',\'collapse-button-opened\':$ctrl.dir==\'rtl\'}" class="button-with-icon button-link metadata-button" (click)="$ctrl.collapse()" aria-label="{{\'repDeliveryViewer.al.collapseMetadataPane\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="hardware" icon-definition="ic_chevrons_left_24px"/></md-button></div><h2 id="collapseMetadataTitle" class="collapse-title-opened" dir="auto"><span class="md-headline" translate="repDeliveryViewer.descriptiveInformation"/></h2><md-button ng-if="$ctrl.files[$ctrl.index.index].fulltext.url" (click)="$ctrl.metadataIsExpanded = !$ctrl.metadataIsExpanded" class="md-icon-button expansion" hide-sm aria-label="{{$ctrl.getCollapseMdButtonAriaLabel()}}"><prm-icon ng-class="{\'rotate-180\':!c}" icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up"></prm-icon></md-button></div><div ng-if="$ctrl.metadataIsExpanded||!$ctrl.files[$ctrl.index.index].fulltext.url" class="primo-scrollbar md-div" style="overflow-y: auto;"><md-list layout="column"><md-list-item ng-if="::!$ctrl.details" ng-repeat="item in ::$ctrl.metadata" layout="column" class="metadata-information" style="flex-shrink:0"><br ng-if="$index>0&&!item.isHideLabel"><div layout="row" ng-if="::!item.isHideLabel" style="flex-shrink:0"><span class="bold-text" class="bold-text" data-details-label="{{item.label}}" translate="fulldisplay.{{item.label}}" translate-attr-title="fulldisplay.{{item.label}}"></span> <span>:</span></div><div layout="row" style="flex-shrink:0"><div class="item-details-element" ng-bind-html="item.value"></div></div></md-list-item><md-list-item ng-if="::$ctrl.details" ng-repeat="detail in ::$ctrl.details" layout="column" class="metadata-information" style="flex-shrink:0;"><div layout="row" style="flex-shrink:0;"><span class="bold-text" data-details-label="{{detail.label}}" translate="fulldisplay.{{detail.label}}" translate-attr-title="fulldisplay.{{detail.label}}"></span> <span>:</span></div><div ng-repeat="field in detail.values" layout="column" style="flex-shrink:0;"><div ng-repeat="value in field.values"><div ng-bind-html="$ctrl.getTextFromVal(value,$last?\'\':field.delimiter)" class="item-details-element" style="flex-shrink:0;"></div></div></div></md-list-item><prm-record-collection-paths ng-if="$ctrl.isDisplayCollection" [collection_path]="$ctrl.collectionPath" [alma_display]="$ctrl.almaDisplay" class="metadata-information collection-path" style="flex-shrink:0"></prm-record-collection-paths><br></md-list></div></md-card><md-card ng-repeat="file in $ctrl.files" ng-if="$index==$ctrl.index.index&&$ctrl.files[$ctrl.index.index].fulltext.url" class="default-card fulltext-card collapsed-card primo-scrollbar" style="overflow-y:scroll;overflow-x:hidden;" dir="auto"><div layout="row" layout-align="space-between-end" style="position:sticky; top:0; z-index:1; background:inherit;"><h2><span class="md-headline" translate="repDeliveryViewer.fulltext"/></h2><md-button (click)="$ctrl.fulltextIsExpanded = !$ctrl.fulltextIsExpanded" class="md-icon-button expansion" hide-sm aria-label="{{$ctrl.getCollapseFulltextButtonAriaLabel()}}"><prm-icon ng-class="{\'rotate-180\':!$ctrl.fulltextIsExpanded}" icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up"></prm-icon></md-button></div><div ng-if="$ctrl.fulltextIsExpanded"><div id="fulltext-object_{{$index}}" class="show-main-file fulltext" type="text/html">{{$ctrl.getFulltext($ctrl.index.index)}} {{$ctrl.textData}}</div></div></md-card></div></div><div ng-if="!$ctrl.quickAccess&&!$ctrl.embed&&$ctrl.isShowMetadata&&!$ctrl.isNotCollapse&&!$ctrl.isScreenSizeXs" id="resizableFulltextCollapse" ng-class="{\'collapse-metadata-div-ltr\':$ctrl.dir==\'ltr\',\'collapse-metadata-div-rtl\':$ctrl.dir==\'rtl\'}"><md-card ng-class="{\'metadata-card-ltr\':$ctrl.dir==\'ltr\',\'metadata-card-rtl\':$ctrl.dir==\'rtl\'}" class="default-card" dir="auto"><div layout="column" dir="ltr" layout-align="space-between center"><div><md-button hide-xs hide-sm id="collapseMetadataButton" ng-class="{\'collapse-button-opened-rtl\':$ctrl.dir==\'ltr\',\'collapse-button-close\':$ctrl.dir==\'rtl\'}" class="button-with-icon button-link metadata-collapse-button" (click)="$ctrl.collapse()" aria-label="{{\'repDeliveryViewer.al.expandMetadataPane\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="hardware" icon-definition="ic_chevrons_left_24px"/></md-button></div><h2 id="collapseMetadataTitle" class="collapse-title-close" ng-class="{\'collapse-title-ltr\':$ctrl.dir==\'ltr\',\'collapse-title-rtl\':$ctrl.dir==\'rtl\'}" dir="auto"><span class="md-headline" translate="repDeliveryViewer.descriptiveInformation"/></h2></div></md-card></div></md-content></div>');
$templateCache.put('components/delivery/seadragonViewer/seadragonViewer.html','<div id="file_{{$ctrl.fileId}}" class="pdf-container-with-height"></div><prm-seadragon-viewer-after parent-ctrl="$ctrl"></prm-seadragon-viewer-after>');
$templateCache.put('components/delivery/socialMenu/socialMenu.html','<md-menu ng-if="$ctrl.socialmap[0]&&!$ctrl.isScreenSizeXs" md-offset="0 60" md-position-mode="target-right target" class="button-with-icon"><md-button id="social-menu" class="share-viewer social-menu-button md-icon-button md-button md-primoExplore-theme md-ink-ripple button-link" ng-click="$mdOpenMenu($event); $ctrl.socialMenuFocusedDialog()" title="{{\'repDeliveryViewer.al.share\' | translate}}" aria-label="{{\'repDeliveryViewer.al.share\' | translate}}" role="button"><prm-icon icon-type="svg" svg-icon-set="social" icon-definition="ic_share_24px"></prm-icon></md-button><md-menu-content width="3" class="prm-user-menu-content" aria-busy="true"><md-menu-item id="socialMenuCheckbox" ng-show="$ctrl.multipleFiles" role="menuitemcheckbox" aria-checked="{{$ctrl.getShareDisplayedFile}}"><md-button ng-click="$ctrl.toggleDisplayedFile()" class="button-with-icon" role="button" md-prevent-menu-close="md-prevent-menu-close" md-autofocus><prm-icon ng-if="$ctrl.getShareDisplayedFile" icon-type="svg" svg-icon-set="action" icon-definition="ic_checkbox_24px"></prm-icon><prm-icon ng-if="!$ctrl.getShareDisplayedFile" icon-type="svg" svg-icon-set="action" icon-definition="ic_checkbox_outline_24px"></prm-icon>{{\'repDeliveryViewer.shareFile\' | translate}}</md-button></md-menu-item><md-menu-item ng-repeat="item in $ctrl.socialmap" role="menuitem"><md-button id="menuItem_{{$index}}" role="button" class="prm-social-menu-button button-with-icon" ng-if="item.key!=\'copyurl\'" ng-click="$ctrl.shareAnalitics()" socialshare-url="{{$ctrl.url}}" socialshare-body="{{$ctrl.url}}" socialshare socialshare-provider="{{item.key}}"><prm-icon icon-type="svg" class="dark-bg" svg-icon-set="social" icon-definition="ic_{{item.key}}_24px"></prm-icon>{{item.value}}</md-button><md-button id="menuItem_{{$index}}" role="button" class="prm-social-menu-button button-with-icon" ng-if="item.key==\'copyurl\'" (click)="$ctrl.copyRepresentationLink();$ctrl.socialShareButtonFocus()"><prm-icon class="dark-bg" icon-type="svg" svg-icon-set="file" icon-definition="ic_copy_24px"></prm-icon>{{item.value}}</md-button></md-menu-item></md-menu-content></md-menu><div ng-if="$ctrl.socialmap[0]&&$ctrl.isScreenSizeXs" md-offset="0 60" md-position-mode="target-right target" class="button-with-icon"><md-button class="social-menu-button md-button md-primoExplore-theme md-ink-ripple button-with-icon button-link xs-footer-button" ng-click="$mdOpenMenu($event);$ctrl.openShareMenu()" aria-label="share representation button"><span ng-if="$ctrl.isScreenSizeXs" translate="repDeliveryViewer.share"></span><prm-icon icon-type="svg" svg-icon-set="social" icon-definition="ic_share_24px"></prm-icon></md-button><div id="share-menu" flex-xs="100" layout-align="space-between end" width="3" class="prm-user-menu-content social-menu" ng-if="$ctrl.areSharedButtonsOpen()" style="flex-direction: column; position: fixed; background-color:#4d6b82; opacity: 0.9; bottom: 0px; right: 0px;"><md-checkbox role="checkbox" name="shareDisplayedFile" ng-show="$ctrl.multipleFiles" style="color:#f3f3f3; align-self: flex-start; margin: 5px;" ng-true-value="true" ng-model="$ctrl.shareDisplayedFile"><span translate="repDeliveryViewer.shareFile"></span></md-checkbox><div layout="row" style="height:100px;  overflow-x:scroll;   overflow-y:hidden; width:-webkit-fill-available;  \n    max-width: 100%;"><md-menu-item ng-repeat="item in $ctrl.socialmap"><md-button ng-click="$ctrl.toggleSharedButton();$ctrl.shareAnalitics()" style="height:90px; padding-top:5px; background-color:transparent;align-items:center;" layout-xs="column" ng-if="item.key!=\'copyurl\'" socialshare-url="{{$ctrl.url}}" socialshare-body="{{$ctrl.url}}" socialshare socialshare-provider="{{item.key}}"><prm-icon id="share_{{item.key}}" style="color:#f3f3f3;\n    padding-left: 8px;" icon-type="svg" svg-icon-set="social" icon-definition="ic_{{item.key}}_24px"></prm-icon><span style="color:#f3f3f3">{{item.value}}</span></md-button><md-button layout-xs="column" style="height:90px;padding-top:5px" ng-if="item.key==\'copyurl\'" (click)="$ctrl.toggleSharedButton();$ctrl.copyRepresentationLink()"><prm-icon id="share_copyurl" style="color:#f3f3f3; \n    padding-left: 8px;" icon-type="svg" svg-icon-set="file" icon-definition="ic_copy_24px"></prm-icon><span style="color:#f3f3f3">{{item.value}}</span></md-button></md-menu-item></div></div></div><prm-social-menu-after parent-ctrl="$ctrl"></prm-social-menu-after>');
$templateCache.put('components/delivery/thumbnailList/thumbnailList.html','<md-card style="max-height: calc(100% - 8px);" class="default-card thumbnail-card" dir="auto"><div id="collapseDiv" layout="{{$ctrl.collapseDivLayout}}" layout-align="space-between center" dir="{{$ctrl.dir}}"><h2 id="collapseTitle" class="collapse-title-opened" dir="auto"><span class="md-headline">{{\'repDeliveryViewer.allFileTypes\' | translate: {\'idx_0\' : $ctrl.thumbnailCount} }}</span></h2><div hide-xs hide-sm id="contentsButtons" class="contentsButtons" layout="row"><md-button aria-pressed="{{!$ctrl.isDisplayThumbnailList}}" id="fileNameListButton" ng-if="$ctrl.isNotCollapse" title="{{\'repDeliveryViewer.listView\' | translate}}" aria-label="{{\'repDeliveryViewer.al.listView\' | translate}}" (click)="$ctrl.onDisplayThumbnailFileList()" class="button-with-icon button-link thumbnail-button" ng-class="{\'button-blur\':$ctrl.isDisplayThumbnailList}"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_file_name_list_24px"></prm-icon></md-button><md-button aria-pressed="{{!$ctrl.isDisplayThumbnailFileList}}" id="thumbnailListButton" ng-if="$ctrl.isNotCollapse" title="{{\'repDeliveryViewer.thumbnailView\' | translate}}" aria-label="{{\'repDeliveryViewer.al.thumbnailsView\' | translate}}" (click)="$ctrl.onDisplayThumbnailList()" class="button-with-icon button-link thumbnail-button" ng-class="{\'button-blur\':$ctrl.isDisplayThumbnailFileList}"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_thumbnail_list_24px"></prm-icon></md-button><md-button hide-xs id="collapseButton" ng-class="{\'collapse-button-opened\':$ctrl.dir==\'ltr\',\'collapse-button-close\':$ctrl.dir==\'rtl\'}" class="button-with-icon button-link thumbnail-button" (click)="$ctrl.collapse()" aria-label="{{\'repDeliveryViewer.al.collapseContent\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="hardware" icon-definition="ic_chevrons_left_24px"/></md-button></div></div><md-list id="listItem" dir="{{$ctrl.dir}}" class="separate-list-items gapped-list primo-scrollbar" ng-if="$ctrl.isDisplayThumbnailList && $ctrl.isNotCollapse" ng-class="{\'actions-layout\':!$ctrl.mediaQueries.gtsm}"><md-list-item class="md-2-line" ng-repeat="file in $ctrl.files" flex aria-current="{{$index==$ctrl.index.index}}"><div id="thumbnail-{{$index}}" class="md-list-item-text" ng-class="{\'selected-object\':$index==$ctrl.index.index}" role="link"><a ng-click="$ctrl.fileClick({$index})" layout-xs="column" flex href="#"><img class="thumbnail-img" alt="{{file.fileLabel}}.{{file.extension}} ({{file.fileSize}})" title="{{file.fileLabel}}.{{file.extension}} ({{file.fileSize}})" ng-src="{{file.thumbnail_url}}"/><p title="{{file.fileLabel}}">{{file.fileShortLabel}}</p></a></div><div class="fulltext-icon" ng-class="{\'fulltext-icon-rtl\':$ctrl.dir==\'rtl\'}"><prm-icon ng-if="$ctrl.hasFulltext({file})" icon-type="svg" svg-icon-set="file" icon-definition="ic_fulltext_24px"></prm-icon></div></md-list-item></md-list><md-list id="listRowItem" class="thumbnail-file-list primo-scrollbar" ng-if="$ctrl.isDisplayThumbnailFileList && $ctrl.isNotCollapse" hide-xs hide-sm><md-list-item class="list-row-item" ng-repeat="file in $ctrl.files" flex flex-xs="100" dir="{{$ctrl.dir}}" aria-current="{{$index==$ctrl.index.index}}"><div (click)="$ctrl.fileClick({$index})" class="md-list-row-item" id="thumbnail-{{$index}}" layout="row" layout-align="space-between end" ng-class="{\'selected-object\':$index==$ctrl.index.index}" role="link" tabindex="0"><div flex="20" layout-align="center center"><img class="thumbnail-img-list" alt="{{file.fileLabel}}.{{file.extension}} ({{file.fileSize}})" title="{{file.fileLabel}}.{{file.extension}} ({{file.fileSize}})" ng-src="{{file.thumbnail_url}}"/></div><div flex="70"><p title="{{file.fileLabel}}">{{file.fileShortLabel}}</p></div><div flex="10" class="fulltext-icon-list" ng-class="{\'fulltext-icon-rtl\':$ctrl.dir==\'rtl\'}"><prm-icon ng-if="$ctrl.hasFulltext({file})" icon-type="svg" svg-icon-set="file" icon-definition="ic_fulltext_24px"></prm-icon></div></div></md-list-item></md-list></md-card><prm-thumbnail-list-after parent-ctrl="$ctrl"></prm-thumbnail-list-after>');
$templateCache.put('components/favorites/favoritesEditLabelsMenu/favorites-edit-labels-menu.html','<md-menu><md-button prm-brief-internal-button-marker class="labels-menu-button prm-primary" ng-click="$ctrl.openMenu($mdOpenMenu, $event)" ng-keydown="$ctrl.onKeyDown($mdOpenMenu, $event)" aria-label="{{$ctrl.isChosenLabels() | translate}}" ng-class="$ctrl.returnAssignedLabels().length ? \'md-icon-button\':\'button-with-icon\'" ng-disabled="$ctrl.disable"><md-tooltip md-delay="400"><span translate="nui.favorites.labels.tooltip"></span></md-tooltip><prm-icon ng-init="iconDef=$ctrl.isSection ? $ctrl.favoritesIcons.addLabelTop : $ctrl.favoritesIcons.addLabelRecord" ng-class="{\'disabledFavTool\':$ctrl.disable}" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil"></prm-icon><span ng-if="!$ctrl.returnAssignedLabels().length" translate="nui.favorites.labels.add" ng-class="{\'disabledFavTool\':$ctrl.disable}"></span></md-button><md-menu-content width="4" layout="column" class="menu-with-footer" id="menuContent"><md-menu-item ng-repeat="label in $ctrl.returnAssignedLabels() track by $index" class="icon-on-right" ng-class="{\'category-first-item\': $first}"><div class="menu-title" ng-if="$first"><span translate="nui.favorites.labels.assigned"></span></div><md-button md-autofocus ng-click="$ctrl.removeLabel(label)" (keydown)="$ctrl.keydownSupport($event)" translate-attr="{\'aria-label\': \'nui.aria.favorites.label.list.remove\'}" translate-values="{\'label\':  \'{{label}}\' }" layout="row" layout-align="space-around center" layout-fill><span layout="row" layout-align="space-around center" layout-fill><span flex="90" class="flex-trim">{{label}}</span><prm-icon flex="10" class="prm-primary" icon-type="{{$ctrl.favoritesIcons.removeLabel.type}}" svg-icon-set="{{$ctrl.favoritesIcons.removeLabel.iconSet}}" icon-definition="{{$ctrl.favoritesIcons.removeLabel.icon}}"></prm-icon></span></md-button></md-menu-item><md-menu-divider ng-if="$ctrl.returnOtherLabels().length && $ctrl.returnAssignedLabels().length"></md-menu-divider><md-menu-item ng-repeat="otherLabel in $ctrl.returnOtherLabels() track by $index" class="icon-on-right" ng-class="{\'category-first-item\': $first}"><div class="menu-title" ng-if="$first"><span translate="nui.favorites.labels.other"></span></div><md-button ng-click="$ctrl.addLabel(otherLabel)" (keydown)="$ctrl.keydownSupport($event)" translate-attr="{\'aria-label\': \'nui.aria.favorites.label.list.add\'}" translate-values="{\'label\':  \'{{otherLabel}}\' }" layout="row" layout-align="space-around center" layout-fill><span layout="row" layout-align="space-around center" layout-fill><span flex="90" class="flex-trim">{{otherLabel}}</span><prm-icon flex="10" class="prm-primary" icon-type="{{$ctrl.favoritesIcons.addLabel.type}}" svg-icon-set="{{$ctrl.favoritesIcons.addLabel.iconSet}}" icon-definition="{{$ctrl.favoritesIcons.addLabel.icon}}"></prm-icon></span></md-button></md-menu-item><div class="menu-footer"><md-menu-divider ng-if="$ctrl.returnOtherLabels().length || $ctrl.returnAssignedLabels().length" class="zero-margin-top"></md-menu-divider><form ng-submit="$ctrl.addNewLabel()" class=""><div layout="row" layout-fill layout-align="center center"><md-input-container flex="80"><label translate="nui.favorites.labels.new"></label> <input ng-model="$ctrl.newLabel" id="{{\'labelInput_\' + $ctrl.item.pnx.control.recordid[0]}}" type="text" autocomplete="off" (keydown)="$ctrl.keydownSupport($event)" md-autofocus></md-input-container></div></form></div></md-menu-content></md-menu><span class="accessible-only" aria-live="assertive" role="alert" ng-if="$ctrl.isAdded">{{$ctrl.getAddLabelAccessibilityAlert()}}</span> <span class="accessible-only" aria-live="assertive" role="alert" ng-if="$ctrl.isRemoved">{{$ctrl.getRemovedLabelAccessibilityAlert()}}</span><prm-favorites-edit-labels-menu-after parent-ctrl="$ctrl"></prm-favorites-edit-labels-menu-after>');
$templateCache.put('components/favorites/favoritesLabels/favorites-labels.html','<div layout="column" ng-if="$ctrl.getUser()" sticky offset="84" disabled-sticky="!$ctrl.mediaQueries.gtsm"><div class="sidebar-inner-wrapper padding-left-large" layout="column"><h2 class="sidebar-title" translate="nui.favorites.labels.header"></h2><div class="sidebar-section" layout="column" layout-align="start start"><div class="md-chips chips-column" layout="column" layout-align="start start"><div class="md-chip toggleable-chip rounded-chip hovered-chip" ng-repeat="labels in $ctrl.getSortedLabels()" ng-class="{\'chip-toggled-on\': $ctrl.isSelectedLabel(labels[0])}" ng-click="$ctrl.checkSelectedLabels(labels[0])" aria-label="{{labels[0]}} Tag" layout-row><md-tooltip md-delay="800"><span ng-if="!$ctrl.isSelectedLabel(labels[0])" translate="nui.favorites.selectFilter.tooltip"></span> <span ng-if="$ctrl.isSelectedLabel(labels[0])" translate="nui.favorites.removeFilter.tooltip"></span></md-tooltip><div class="md-chip-content"><strong>{{$ctrl.getLabel(labels[0])}}</strong> &nbsp; <span class="text-in-brackets text-italic">{{labels[1]}}</span></div><div class="md-chip-remove-container" ng-if="$ctrl.isSelectedLabel(labels[0])" ng-mouseenter="showRemoveIcon = true" ng-mouseleave="showRemoveIcon = false"><button class="md-chip-remove ng-scope" type="button" aria-hidden="true" tabindex="-1"><prm-icon icon-type="{{$ctrl.favoritesIcons.labelChecked.type}}" svg-icon-set="{{$ctrl.favoritesIcons.labelChecked.iconSet}}" icon-definition="{{$ctrl.favoritesIcons.labelChecked.icon}}" ng-if="!showRemoveIcon"></prm-icon><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close" ng-if="showRemoveIcon" class="close-button"></prm-icon><span class="_md-visually-hidden md-visually-hidden ng-binding" translate="nui.favorites.remove"></span></button></div></div></div><div class="margin-top-small margin-bottom-medium animate-enter-leave-scale-bounce" ng-if="$ctrl.selectedLabels.length > 0"><md-button class="button-as-link link-alt-color zero-margin" (click)="$ctrl.clearAll()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon><span class="bold-text" translate="nui.favorites.labels.clear"></span></md-button></div></div></div></div><prm-favorites-labels-after parent-ctrl="$ctrl"></prm-favorites-labels-after>');
$templateCache.put('components/favorites/favoritesRecordLabels/favorites-record-labels.html','<div class="media-labels md-chips md-chips-wrap" layout="row" layout-align="start start" layout-wrap><div class="label-item md-chip outline-chip md-readonly animate-opacity-and-scale" ng-repeat="label in $ctrl.returnLabelsOfItem() track by $index"><div class="md-chip-content"><strong>{{label}}</strong></div></div><div ng-if="::$ctrl.getUser()"><prm-favorites-edit-labels-menu [item]="::$ctrl.item" [is-section]="false"></prm-favorites-edit-labels-menu></div></div><prm-favorites-record-labels-after parent-ctrl="$ctrl"></prm-favorites-record-labels-after>');
$templateCache.put('components/favorites/favoritesWarningMessage/favorites-warning-message.html','<div ng-if="$ctrl.mediaQueries.gtsm" layout="row" layout-align="center start" role="alert" class="favorites-guest-warning favorites-guest-warning-ctm"><div class="favorites-guest-warning-text"><span translate="nui.favorites.guestSaveMessage"></span></div><div><button class="md-button md-icon-button close-btn close-btn-favorits-warning-message" aria-label="{{::(\'nui.aria.favorites.CloseMessage\' | translate)}}" type="button" ng-click="$ctrl.close()" data-qa="dismiss_favorites_warning_msg_btn"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close" class="close-button"></prm-icon></button></div><div class="favorites-guest-warning-triangle"></div></div><md-toast ng-if="$ctrl.isDisplayToast()" ng-style="($ctrl.isFullViewOverlayOpen ? {\'z-index\':\'82\'} : {\'z-index\':\'12\'})"><div class="mobile-favorites-warning-message mobile-favorites-warning-message-ctm" layout="row" role="alert" layout-align="center center"><div class="mobile-favorites-guest-warning-text"><span translate="nui.favorites.guestSaveMessage"></span></div><div><md-button ng-click="$ctrl.onDismissByUser()" aria-label="{{::(\'nui.aria.favorites.CloseMessage\' | translate)}} " data-qa="dismiss_favorites_warning_msg_btn_mobile"><span class="ng-scope" translate="nui.favorites.guestSaveMessageDismiss"></span></md-button></div></div></md-toast><prm-favorites-warning-message-after parent-ctrl="$ctrl"></prm-favorites-warning-message-after>');
$templateCache.put('components/favorites/favoritesToolBar/favorites-tool-bar.html','<md-toolbar class="default-toolbar" sticky sticky-class="is-stuck" ng-class="{\'is-visible\': !$ctrl.mediaQueries.gtxs && ($ctrl.showButtons() || $ctrl.showSavedSearchesActions()) }"><div class="md-toolbar-tools" layout="row"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\':$ctrl.mediaQueries.lgPlus}"></div><h1 translate="nui.favorites.header" class="toolbar-title" ng-hide="$ctrl.showButtons() && !$ctrl.mediaQueries.gtxs"></h1><md-divider class="toolbar-divider" ng-class="{\'visible\':true || $ctrl.showSavedSearchesActions()}"></md-divider><div layout="row" class="in-element-dialog-parent"><div class="toolbar-item animate-enter-leave-scale-bounce staggered" ng-if="$ctrl.showSearchHistoryActions() || ($ctrl.showSavedSearchesActions() && $ctrl.getUser())"><prm-saved-searches-group-actions></prm-saved-searches-group-actions></div><div class="toolbar-item animate-enter-leave-scale-bounce staggered" ng-if="$ctrl.isFavorites() && $ctrl.getUser()"><prm-favorites-edit-labels-menu [disable]="!$ctrl.showButtons()" [is-section]="true"></prm-favorites-edit-labels-menu></div><div class="toolbar-item animate-enter-leave-scale-bounce staggered in-element-dialog-context" ng-if="$ctrl.isFavorites()"><md-button class="md-icon-button unpin-button" aria-label="{{$ctrl.isChosenFav() | translate}}" (click)="$ctrl.unpinFromFavWithWarnMessage($event)" ng-disabled="!$ctrl.showButtons()"><md-tooltip md-delay="400"><span translate="nui.favorites.unpin.tooltip"></span></md-tooltip><prm-icon class="h-flipped-25-icon" ng-class="{\'disabledFavTool\':!$ctrl.showButtons()}" icon-type="{{::$ctrl.favoritesIcons.unPin.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.unPin.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.unPin.icon}}"></prm-icon></md-button></div><div class="toolbar-item animate-enter-leave-scale-bounce staggered" ng-if="$ctrl.isFavorites()"><md-button class="md-icon-button has-bottom-arrow" ng-class="$ctrl.showPushtoActions ? \'arrow-showing\' : \'\' " aria-label="{{$ctrl.isChosenActions() | translate}}" (click)="$ctrl.switchShowPushtoActions($event);$ctrl.closeOpenTabs($event);$event.stopPropagation()" ng-disabled="!$ctrl.showButtons()"><md-tooltip md-delay="400"><span translate="nui.favorites.pushto.tooltip"></span></md-tooltip><prm-icon icon-type="{{::$ctrl.favoritesIcons.favoriteActionsList.type}}" ng-class="{\'disabledFavTool\':!$ctrl.showButtons()}" svg-icon-set="{{::$ctrl.favoritesIcons.favoriteActionsList.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.favoriteActionsList.icon}}"></prm-icon></md-button></div></div></div></md-toolbar><div class="favorites-action-list" ng-if="$ctrl.showPushtoActions && $ctrl.showButtons()" sticky offset="64" sticky-class="is-stuck"><div class="action-list-content" ng-keydown="$ctrl.keyDownSupport($event)"><md-content layout="row"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><prm-action-list [display-all]="false" displaymode="favorites" [item]="$ctrl.selectedItems()" [display-close-icon]="true" flex style="margin: 8px" (close-modal)="$ctrl.switchShowPushtoActions()"></prm-action-list><div flex="0" flex-md="25" flex-lg="25" flex-xl="30" ng-class="{\'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus}"></div></md-content></div></div><div layout="row" flex="noshrink" class="dialog-warning" ng-if="$ctrl.needToShowAlert"><prm-alert-bar flex [alert-object]="$ctrl.loadingRecordsAfterDeletionAlert" role="alert" aria-live="assertive" style="z-index: 10; width: 100%; top: 0px; margin-top: 0px; position: fixed;"></prm-alert-bar></div><prm-favorites-tool-bar-after parent-ctrl="$ctrl"></prm-favorites-tool-bar-after>');
$templateCache.put('components/favorites/saveToFavoritesButton/save-to-favorites-button.html','<span ng-if="::(!$ctrl.isFavorites  && $ctrl.showBookmark())" class="pin-button"><md-button ng-if="!$ctrl.showPin() && (!$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryServicePage() && !$ctrl.isDiscoveryWithExternalNoLogin())" ng-class="{\'pinned\':!$ctrl.showPin(), \'pin-icon-on-mobile\': (($ctrl.isOverlayFullView || $ctrl.isFullViweState()) && $ctrl.mediaQueries.xs)}" ng-disabled="::$ctrl.isFavoritesDisabled()" class="md-icon-button custom-button pin-button" aria-label="{{ ::$ctrl.getSaveToFavoritesAriaLabel() }}" ng-click="$event.stopPropagation(); $event.preventDefault(); $ctrl.updateFavorites($event);" ng-keydown="($event.keyCode === 13 || $event.keyCode === 32) && $event.stopPropagation()"><md-tooltip md-delay="400"><span translate="{{\'nui.favorites.add.tooltip\' | translate:\'{index: \\\'\'+$ctrl.index +\'\\\'}\'}}"></span></md-tooltip><prm-icon [icon-type]="::$ctrl.actionsIcons.pin.type" [svg-icon-set]="::$ctrl.actionsIcons.pin.iconSet" [icon-definition]="::$ctrl.actionsIcons.pin.icon"></prm-icon></md-button><span ng-if="!$ctrl.showPin()" class="accessible-only" aria-live="assertive">{{$ctrl.addFavPinStatus}}</span> </span><span ng-if="::(!$ctrl.isFavorites  && $ctrl.showBookmark())" class="pin-button"><md-button ng-if="$ctrl.showPin()" ng-class="{\'unpinned\':$ctrl.showPin(), \'pin-icon-on-mobile\': (($ctrl.isOverlayFullView || $ctrl.isFullViweState()) && $ctrl.mediaQueries.xs)}" class="md-icon-button custom-button unpin-button" aria-label="{{ ::$ctrl.getRemoveFromFavoritesAriaLabel() }}" ng-click="$event.stopPropagation();$event.preventDefault();$ctrl.updateFavoritesByState($event)" ng-keydown="($event.keyCode === 13 || $event.keyCode === 32) && $event.stopPropagation()"><md-tooltip md-delay="400" md-direction="{{$ctrl.fullViewToolTipSide()}}"><span translate="{{::(\'nui.favorites.remove.tooltip\' | translate:\'{index: \\\'\'+ $ctrl.index+\'\\\'}\')}}"></span></md-tooltip><prm-icon [icon-type]="::$ctrl.actionsIcons.unPin.type" [svg-icon-set]="::$ctrl.actionsIcons.unPin.iconSet" [icon-definition]="::$ctrl.actionsIcons.unPin.icon"></prm-icon></md-button><span ng-if="$ctrl.showPin()" class="accessible-only" aria-live="assertive">{{$ctrl.removeFavPinStatus}}</span><prm-favorites-warning-message ng-if="$ctrl.isOverlayFullView && $ctrl.isFavoritesWarning() && $ctrl.mediaQueries.gtsm && $ctrl.showPin()" id="favorites-warning-message-overlay" ng-class="{\'favorites-warning-message-overlay-md-nosu-nobx\': $ctrl.mediaQueries.md && !$ctrl.isSUBxBar() }"></prm-favorites-warning-message></span><md-button ng-if="::($ctrl.isFavorites  && $ctrl.showBookmark())" class="md-icon-button custom-button prm-primary" aria-label="{{::(\'nui.aria.favorites.unpin\' | translate:\'{index: \\\'\'+($ctrl.index)+\'\\\'}\')}}" ng-click="$event.stopPropagation();$event.preventDefault();$ctrl.unpinFavorites();" ng-keydown="($event.keyCode === 13 || $event.keyCode === 32) && $event.stopPropagation()"><md-tooltip md-delay="400" translate="nui.favorites.remove.tooltip"></md-tooltip><prm-icon [icon-type]="::$ctrl.actionsIcons.unPin.type" [svg-icon-set]="::$ctrl.actionsIcons.unPin.iconSet" [icon-definition]="::$ctrl.actionsIcons.unPin.icon"></prm-icon></md-button><prm-save-to-favorites-button-after parent-ctrl="$ctrl"></prm-save-to-favorites-button-after>');
$templateCache.put('components/favorites/savedQueries/savedQueries.html','<div><prm-search-result-list flex [itemlist]="$ctrl.getItems()" [is-favorites]="true" [is-saved-query]="true"></prm-search-result-list></div><prm-saved-queries-after parent-ctrl="$ctrl"></prm-saved-queries-after>');
$templateCache.put('components/favorites/searchHistory/search-history.html','<div><prm-search-result-list flex [itemlist]="$ctrl.getItems()" [is-favorites]="true" [is-saved-query]="true" [is-search-history]="true"></prm-search-result-list></div><prm-search-history-after parent-ctrl="$ctrl"></prm-search-history-after>');
$templateCache.put('components/infra/deposit/deposit-form.html','<form name="depositForm" class="padded-container"><md-dialog-content><div class="deposit-section"><div layout="column"><div class="light-text margin-bottom-medium" layout="row"><h2 class="zero-margin" layout="row" layout-align="start center"><span translate="nui.deposit.depositDetails"></span></h2></div><div class="italic-text"><span class="items-count" ng-bind-html="$ctrl.depositInfo.depositProfileInfo.depositProfileInstruction"></span></div></div><md-input-container class="underlined-input deposit-dialog-container" ng-class="{\'md-required\':true}" ng-hide="$ctrl.hasCustomizedForm()"><label translate="nui.deposit.title"></label> <input ng-required="true" name="depositTitle" ng-model="$ctrl.depositInfo.title" type="text" autocomplete="off"/><div ng-messages="depositForm.depositTitle.$error" class="help-block" ng-messages-multiple ng-if="depositForm.depositIAgree.$touched || depositForm.depositTitle.$touched"><div ng-message="required"><span translate="nui.deposit.validation.mandatoryTitle"></span></div></div></md-input-container><md-input-container class="underlined-input deposit-dialog-container" ng-hide="$ctrl.hasCustomizedForm()"><label translate="nui.deposit.abstract"></label> <textarea class="deposit-textarea" ng-model="$ctrl.depositInfo.abstract" columns="3"></textarea></md-input-container><div layout="column" layout-align="start"><prm-form-field ng-repeat="field in $ctrl.form" ng-if="field.uiType !== \'hidden\'" [field]="field" [data]="$ctrl.formData" [form]="::this.depositForm" [repeatablecounter]="$ctrl.repeatableCounter" class="underlined-input deposit-dialog-container"></prm-form-field></div><div layout="row" layout-align="start center" ng-show="$ctrl.depositInfo.depositProfileInfo.accessrightslist !== undefined && $ctrl.depositInfo.depositProfileInfo.accessrightslist.length > 1"><md-input-container class="underlined-input" layout="row"><label><span translate="nui.deposit.accessRights"></span></label><md-select ng-model="$ctrl.depositInfo.accessrightsid"><md-option ng-repeat="x in ::$ctrl.depositInfo.depositProfileInfo.accessrightslist" value="{{x.accessrightsid}}">{{x.accessrightsname}}</md-option></md-select></md-input-container></div><prm-upload-file upload-to-amazon="true" [amazoninfo]="::$ctrl.depositInfo.amazonInfo" [depositfiles]="::$ctrl.depositInfo.depositFiles" [depositprofile]="::$ctrl.depositInfo.depositProfileInfo" allow-delete="!item.id" use-cached-files="true" source="addItem" on-upload="fileFunction(file)" on-grobid="grobid(grobidResponse)" on-remove="removeFileFunction()" reset="resetFileUpload" id="uploadItem"></prm-upload-file><div class="mandatory-files-error" ng-if="$ctrl.errorMessages.length > 0"><span translate="nui.deposit.validation.mandatoryFiles"></span></div><div class="mandatory-files-error" ng-if="$ctrl.isExceededMaxNoOfFiles()"><span translate="nui.deposit.maxNoOfFilesExceeded" translate-values="::$ctrl.getMaxDepositFilesCountPlaceHolder()"></span></div><div class="mandatory-files-error" ng-if="$ctrl.isExceededMaxFileSize()"><span translate="nui.deposit.maxFileSizeExceeded" translate-values="::$ctrl.getMaxDepositFilesSizePlaceHolder()"></span></div><div class="mandatory-files-error" ng-if="$ctrl.isNotAllowedFileExtension()"><span translate="nui.deposit.fileExtensionAllowed" translate-values="::$ctrl.getAllowFileExtensionsPlaceHolder()"></span></div><md-list layout="column" ng-show="mode != \'hover\' && $ctrl.depositInfo.depositFiles" class="separate-list-items"><md-list-item ng-repeat="file in $ctrl.depositInfo.depositFiles track by $index" class="md-3-line in-element-dialog-parent"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text uploaded-file-list" layout="row" layout-wrap flex><div flex flex-xs="100"><div layout="row" class="uploaded-filename" ng-if="file.isUploaded"><span>{{file.fileName}}</span></div><div layout="row" class="uploaded-filename" ng-if="!file.isUploaded"><span style="color: red;"><i><prm-icon icon-type="svg" title=" {{\'nui.deposit.uploadFailed\' | translate}}" svg-icon-set="alert" icon-definition="ic_error_24px"/>&nbsp;</i>{{file.fileName}}</span></div></div><div layout-align="end center" layout="row" layout-wrap flex-xs="100" flex-sm="30" ng-show="file.isUploaded"><md-input-container class="underlined-input uploaded-file-list"><input ng-model="file.label" type="text" autocomplete="off" ng-change="$ctrl.updateLabelAction($index)"></md-input-container></div><div layout-align="end center" layout="row" layout-wrap flex-xs="100" flex-sm="30" ng-show="file.inProgress"><div class="underlined-input uploaded-file-list"><div class="progress progress-striped progress-default active" ng-show="file.file.progress >= 0"><div class="progress-bar" style="width: {{file.file.progress}}%">{{file.file.progress}}%</div></div><span><em>({{file.file.size}} bytes)</em></span></div></div></div><div class="align-self-stretch"><md-button class="md-icon-button" (click)="$ctrl.deleteFile($index)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="trash"></prm-icon></md-button></div></div></md-list-item></md-list><md-input-container class="underlined-input deposit-dialog-container"><label translate="nui.deposit.note"></label> <input ng-model="$ctrl.depositInfo.note" type="text" autocomplete="off"></md-input-container><div ng-hide="$ctrl.hideTOU()"><div class="form-section"><button type="button" class="btn btn-link btn-deposit" id="more-details-button" ng-click="$ctrl.showTOU(!$ctrl.displayTOU)"><span translate="nui.deposit.TOU"></span> <span ng-class="{\'deposit-caret-up\' : $ctrl.displayTOU, \'deposit-caret-down\' : !$ctrl.displayTOU}" class="deposit-caret-down"></span></button></div><div class="form-section collapsed deposit-tou" ng-class="$ctrl.displayTOU ? \'\' : \'collapsed\' "><span ng-bind-html="$ctrl.depositInfo.termsOfUse"></span></div><md-input-container><md-checkbox name="depositIAgree" aria-label="nui.deposit.TOU.Iagree" ng-change="isSubmitAllowed()" ng-true-value="true" ng-model="$ctrl.IAgree"><span translate="nui.deposit.TOU.Iagree"></span></md-checkbox></md-input-container></div><div ng-show="$ctrl.depositInfo.previousNotes.length"><div class="form-section"><button type="button" class="btn btn-link btn-deposit" id="more-details-button" ng-click="$ctrl.showNotes(!$ctrl.displayNotes)"><span translate="nui.deposit.previousNotes"></span> <span ng-class="{\'deposit-caret-up\' : $ctrl.displayNotes, \'deposit-caret-down\' : !$ctrl.displayNotes}" class="deposit-caret-down"></span></button></div><div class="form-section collapsed" ng-class="$ctrl.displayNotes ? \'\' : \'collapsed\' "><md-list ng-show="$ctrl.depositInfo.previousNotes" class="separate-list-items"><md-list-item ng-repeat="note in $ctrl.depositInfo.previousNotes | orderBy:\'+\':true" class="md-2-line md-long-text"><div class="md-list-item-text"><span class="item-index">{{$index + 1}}</span> <span>{{note.content}}</span><p class="italic-text">{{note.updatedby}}, {{note.date}}</p></div></md-list-item></md-list></div></div></div></md-dialog-content><md-dialog-actions layout="row" class="layout-row deposit-dialog-actions"><md-button (click)="$ctrl.close()"><span translate="nui.deposit.cancel"></span></md-button><md-button ng-disabled="!$ctrl.depositInfo.editMode && !$ctrl.IAgree" class="button-confirm" (click)="$ctrl.depositInfo.saveAsDraft= true; $ctrl.commit(this.depositForm)"><span translate="nui.deposit.saveAsDraft"></span></md-button><md-button ng-disabled="!$ctrl.depositInfo.editMode && !$ctrl.IAgree" class="button-confirm" (click)="$ctrl.depositInfo.saveAsDraft= false; $ctrl.commit(this.depositForm)"><span translate="nui.deposit.submit"></span></md-button></md-dialog-actions></form>');
$templateCache.put('components/infra/lang/change-lang.html','<div ng-if="::($ctrl.getLabelType() == \'text\')"><span translate="nui.mypref.label.interface_languages"></span></div><md-input-container layout="row" layout-align="center center"><prm-icon ng-if="::($ctrl.getLabelType() == \'icon\')" [icon-type]="::$ctrl.topBarIcons.language.type" [svg-icon-set]="::$ctrl.topBarIcons.language.iconSet" [icon-definition]="::$ctrl.topBarIcons.language.icon"></prm-icon><md-select ng-model="$ctrl.selectedLanguage" ng-change="$ctrl.changeLanguage()" translate-attr="{\'aria-label\': \'nui.aria.account.details.langaugesselect\'}" md-container-class="rtl_fix_mobile"><md-option ng-repeat="language in ::$ctrl.languages" value="{{::language}}"><span translate="mypref.language.option.{{::language}}"></span></md-option></md-select></md-input-container>');
$templateCache.put('components/infra/password/change-password.html','<form class="padded-container" autocomplete="off"><h2 class="light-text margin-bottom-medium" layout-margin><span translate="contact.header.changePassword"></span></h2><ul layout-margin><li ng-repeat="error in $ctrl.errorMessages"><span translate="{{error}}" style="color:tomato"></span></li></ul><div layout="column" layout-margin><md-input-container ng-repeat="field in $ctrl.displayFields" class="underlined-input margin-bottom-medium dark-on-light"><label for="prm_{{field.label}}" translate="{{field.label}}"></label> <input ng-attr-id="prm_{{field.label}}" type="{{field.uiType}}" autocomplete="new-password" ng-model="$ctrl.form[field.name]"/></md-input-container></div></form><md-dialog-actions><md-button (click)="$ctrl.close()"><span translate="preferences.cancel"></span></md-button><md-button class="button-confirm" (click)="$ctrl.commit()"><span translate="mypref.button.save"></span></md-button></md-dialog-actions>');
$templateCache.put('components/journals/alphabetToolbar/alphabet-toolbar.html','<div layout="row" class="padding-medium layout-xs-column layout-align-center-center layout-row" layout-xs="column" layout-align="center center" flex><div ng-if="$ctrl.listLanguages.length > 1" class="language-selector"><md-input-container layout="column" style="padding-bottom: 8px;" class="md-input-has-value underline-light-on-dark"><label for="select_15" class="language-selector"><span>Languages</span></label><md-select id="select_15" ng-model="$ctrl.AtoZSelectedLang" ng-change="$ctrl.AtoZLanguageDisplay()" class="ng-pristine ng-valid ng-empty ng-touched" tabindex="0" aria-disabled="false" role="listbox" aria-expanded="false" aria-multiselectable="false" aria-owns="select_container_16" aria-invalid="false"><md-option ng-repeat="langOption in ::$ctrl.listLanguages" value="{{::langOption.LanguageCode}}" class="md-text ng-binding"><span translate="{{\'nui.AZList.\'+langOption.LanguageCode}}">{{::langOption.Language}}</span></md-option></md-select></md-input-container></div><div layout-wrap class="language-characters layout-wrap layout-align-center-stretch layout-row layout-wrap" ng-class="{\'hebrew-characters\' : $ctrl.isHebrewLang()}"><md-button ng-href="#" ng-repeat="character in $ctrl.aToZList" (click)="$ctrl.sendSelected(character.lang+character.letter)" aria-label="{{$ctrl.getAraiaLabelForLetter(character.lang+character.letter)}}" ng-class="{\'active\' : $ctrl.activeLetter === (character.lang+character.letter), \'letter-button\' : character.type === \'alphabet\'}" translate="{{\'nui.AZ.\'+((character.lang)?character.langcode:\'en_US\')+\'.\'+character.letter}}"><md-tooltip md-delay="800" md-autohide="true"><span translate="{{::$ctrl.tooltipText}}" translate-values="{\'idx_0\' : $ctrl.getTranslatedLetter(character.letter)}"></span></md-tooltip></md-button></div></div><prm-alphabet-toolbar-after parent-ctrl="$ctrl"></prm-alphabet-toolbar-after>');
$templateCache.put('components/journals/databasesCategorize/databases-categorize.html','<div layout="row"><div ng-if="::($ctrl.isDBSearch && !$ctrl.isSearchDone())" flex="0" flex-md="0" flex-lg="20" flex-xl="20"></div><div style="width: 100%; min-width: 315px" class="databases-categories" tabindex="0" ng-class="{\'as-a-drawer\': $ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm, \'is-visible\': $ctrl.isMobileDBSlider}"><div class="sticking-wrapper" id="stickyDB"><div layout="row" layout-align="space-between center"><h2 translate="{{$ctrl.title}}"></h2><md-button class="md-icon-button close-categories-button zero-margin" ng-click="$ctrl.closeMobileDBSlider()" ng-if="$ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div><prm-tree-nav [item]="$ctrl.dbCategories" loading="!$ctrl.dbCategories" loader-message="Loading categories" ng-if="::$ctrl.dbCategories" class="main-tree-nav" (selected-category)="$ctrl.onSubmit($event)" [categories-type]="$ctrl.categoriesType"></prm-tree-nav></div></div><div flex="0" flex-md="0" flex-lg="20" flex-xl="20"></div></div><prm-databases-categorize-after parent-ctrl="$ctrl"></prm-databases-categorize-after>');
$templateCache.put('components/journals/databasesCategorize/databases-results.html','<md-content class="padded-container" layout="row" layout-align="center start" flex><div flex layout="column"><div class="margin-bottom-small">{{vm.state.databasesResults.length}} databses found for <span class="bold-text">{{vm.state.selectedBranch}}</span></div><md-list class="prm-list prm-linkable-list-items prm-dense-list has-list-nav zero-padding" flex><md-list-item class="md-2-line md-long-text" ng-repeat="result in vm.state.databasesResults | orderBy: \'Title\'  | limitTo:vm.databasesResultsLimit" ng-click="null" href=""><div class="item-actions"><md-button class="md-icon-button add-to-favorites"><md-tooltip md-delay="400"><span>Save databases to favorites</span></md-tooltip><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_pin"></prm-icon></md-button></div><div class="md-list-item-text" style="float: left"><h3 class="item-title bold-text"><span>{{result.name}}</span></h3><p>{{result.description}}</p></div></md-list-item></md-list><div layout="row" layout-align="center center"><md-button class="button-large button-confirm" ng-click="vm.loadMore()">Load more</md-button></div></div></md-content><prm-databases-results-after parent-ctrl="$ctrl"></prm-databases-results-after>');
$templateCache.put('components/journals/databasesCategorize/tree-nav.html','<md-list><md-list-item ng-repeat="item in ::$ctrl.bdcategoryitems" ng-class="::{\'toggled\': item.toggled, \'has-branches\': $ctrl.haveSubCategories(item)}" aria-live="assertive"><div class="inner"><md-button class="branch-arrow" layout="row" ng-if="::$ctrl.haveSubCategories(item)" ng-click="$ctrl.onArrowClick($event, item);$ctrl.categoryExpandBeacon();" aria-label="{{$ctrl.getAraiaLabelForCategory(item.name)}}" aria-expanded="{{$ctrl.openSubTree(item)}}"><prm-icon class="arrow" ng-class="{\'toggled\': item.open}" icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down"></prm-icon></md-button><md-button class="branch-name" ng-click="$ctrl.onBranchSelect(item)" layout="row" title="{{$ctrl.categoriesType == \'orgList\' ? \'\' : $ctrl.getAraiaLabelForCategory(item.name)}}" ng-class="::{\'is-selected\': item.selected}" aria-pressed="{{item.selected ? true : false}}"><p>{{item.displayValue}}</p></md-button></div><prm-tree-nav (selected-category)="$ctrl.commitCategory($event)" [item]="item" [pathdelimiter]="$ctrl.pathdelimiter" [categories-type]="$ctrl.categoriesType" ng-if="$ctrl.openSubTree(item) "></prm-tree-nav></md-list-item></md-list><prm-tree-nav-after parent-ctrl="$ctrl"></prm-tree-nav-after>');
$templateCache.put('components/journals/orgListCategorize/orgList-categorize.html','<div layout="row"><div ng-if="::($ctrl.isOrgListSearch && !$ctrl.isSearchDone())" flex="0" flex-md="0" flex-lg="20" flex-xl="20"></div><div style="width: 100%; min-width: 315px" class="orgList-categories" tabindex="0" ng-class="{\'as-a-drawer\': $ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm, \'is-visible\': $ctrl.isMobileDBSlider}"><div class="sticking-wrapper" id="stickyOrgList"><div layout="row" layout-align="space-between center"><h2 translate="orglist.title"></h2><md-button class="md-icon-button close-categories-button zero-margin" ng-click="$ctrl.closeMobileDBSlider()" ng-if="$ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div><prm-tree-nav [item]="$ctrl.orgListCategories" [pathdelimiter]="$ctrl.orgListDelimiter" loading="!$ctrl.orgListCategories" loader-message="Loading categories" ng-if="::$ctrl.orgListCategories" (selected-category)="$ctrl.onSubmit($event)" [categories-type]="$ctrl.orgListType"></prm-tree-nav></div></div><div flex="0" flex-md="0" flex-lg="20" flex-xl="20"></div></div><prm-orglist-categorize-after parent-ctrl="$ctrl"></prm-orglist-categorize-after>');
$templateCache.put('components/journals/organizationOrFacetToggle/organization-or-facet-toggle.html','<md-button class="button-as-link button-switch zero-margin" ng-click="$ctrl.changeToggle()" ng-class="$ctrl.isOrganizationTree ? \'toggled\' : \'link-alt-color\'" aria-label="{{($ctrl.isOrganizationTree ? \'nui.aria.organizationtree.icon.label.gotofacets\' : \'nui.aria.organizationtree.icon.label.gotoresearchunits\') | translate}}" hide-xs hide-sm><md-tooltip><span>{{$ctrl.getOrganizationTreeTooltip()}}</span></md-tooltip><md-switch ng-model="$ctrl.isOrganizationTree" tabindex="-1" md-no-ink class="tiny-switch zero-margin"><span class="bold-text">{{$ctrl.getOrganizationTreeLabel()}}</span></md-switch></md-button><prm-organization-or-facet-toggle-after parent-ctrl="$ctrl"></prm-organization-or-facet-toggle-after>');
$templateCache.put('components/journals/organizations/organizations.html','<prm-search></prm-search><prm-organizations-after parent-ctrl="$ctrl"></prm-organizations-after>');
$templateCache.put('components/newspapers/newspapersFacet/newspapers-facet.html','<md-button (click)="$ctrl.goToNewspapers()" class="button-as-link zero-margin arrow-link-button" aria-label="{{\'facets.facet.facet_rtype_newspapers\' | translate}}"><md-tooltip><span translate="facets.facet.facet_rtype_newspapers.tooltip" md-delay="400"></span></md-tooltip><span translate="facets.facet.facet_rtype_newspapers" class="bold-text"></span><prm-icon link-arrow icon-type="{{::$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.arrowRight.icon}}"></prm-icon></md-button><prm-newspapers-facet-after parent-ctrl="$ctrl"></prm-newspapers-facet-after>');
$templateCache.put('components/newspapers/newspapersFullView/newspapers-full-view.html','<prm-full-view-page></prm-full-view-page><prm-newspapers-full-view-after parent-ctrl="$ctrl"></prm-newspapers-full-view-after>');
$templateCache.put('components/newspapers/newspapersSearchBar/newspapers-search-bar.html','<div tabindex="-1" role="search" layout="row" aria-label="{{\'nui.aria.navigationRegionNewspaperSearch\' | translate}}"><div flex="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><div layout="column" flex><div class="search-elements-wrapper" layout="row"><form name="search-form" ng-submit="$ctrl.onSubmit()" class="layout-full-width"><div class="classic-input" layout="row" layout-fill><div class="search-scope" layout="column" layout-align="center start"><div layout="row" layout-align="center center" class="center-drop-down"><md-input-container ng-if="::$ctrl.displayFeaturedNespapersDropDown()" layout="row" class="zero-margin zero-padding" layout-align="start center"><md-select ng-model="$ctrl.scope"><md-option ng-repeat="scope in ::$ctrl.scopes" ng-value="scope"><span translate="nui.newspapers.searchbox.{{scope}}"></span></md-option></md-select></md-input-container><span ng-if="::!$ctrl.displayFeaturedNespapersDropDown()" class="static-text bold-text" layout="column" layout-align="center start" style="font-size: .8em;\r\n                            text-transform: uppercase;letter-spacing: 0.03em"><span translate="nui.newspapers.searchbox.title" class="bold-text"></span></span></div></div><md-input-container flex md-no-float><input id="searchBar" ng-model="$ctrl.mainSearchField" placeholder="{{\'nui.newspapers.searchbox.help\' | translate}}" autocomplete="off"></md-input-container><button type="button" tabindex="0" ng-if="$ctrl.mainSearchField" ng-click="$ctrl.clear()" class="md-button md-icon-button" style="top: 0; bottom: 0; margin: auto"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon><span class="md-visually-hidden">Clear</span></button><div class="search-options" layout="row" layout-align="start center"><md-divider ng-if="$ctrl.showFeaturedOptions" class="skewed-divider"></md-divider><md-input-container ng-if="$ctrl.showFeaturedOptions" class="zero-margin" layout="row" layout-align="start center"><md-select ng-model="$ctrl.featuredScope"><md-option ng-repeat="scope in ::$ctrl.featuredScopes" ng-value="scope"><span>{{ \'nui.newspapers_search.featured.\'+ scope | translate}}</span></md-option></md-select></md-input-container></div><md-button class="submit-button button-confirm" aria-label="Search" (click)="$ctrl.onSubmit()"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon></md-button></div></form></div></div><div flex="0" flex-md="25" flex-lg="25" flex-xl="30" ng-class="{\'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus}"></div></div><prm-newspapers-search-bar-after parent-ctrl="$ctrl"></prm-newspapers-search-bar-after>');
$templateCache.put('components/newspapers/newspapersSpotlight/newspapers-spotlight.html','<div class="spotlight-element margin-top-small" layout="row" tabindex="0"><div class="spotlight-image"><img ng-src="{{::$ctrl.thumbnail}}" alt=""></div><div class="spotlight-body"><h3 class="spotlight-title"><a (click)="$ctrl.goToNewspapers()" class="arrow-link bold-text" tabindex="0" href=""><span translate="nui.newspapers.title"></span><prm-icon link-arrow icon-type="{{::$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.arrowRight.icon}}"></prm-icon></a></h3><p translate="nui.newspapers.description"></p></div></div><prm-newspapers-spotlight-after parent-ctrl="$ctrl"></prm-newspapers-spotlight-after>');
$templateCache.put('components/newspapers/searchResultTitle/search-result-title.html','<md-toolbar class="default-toolbar zero-padding"><div layout="row"><div flex="0" flex-md="0" flex-lg="10" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}" flex-xl="20"></div><div flex class="padding-large" ng-class="{ \'padding-top-zero\': vm.state.showBackButton }"><h2>{{\'nui.newspapers_search.featured.\' + $ctrl.featuredTitle | translate}}</h2><p ng-if="$ctrl.featuredDescription">{{\'nui.newspapers_search.featured.\' + $ctrl.featuredDescription | translate}}</p></div><div flex="0" flex-md="20" flex-lg="25" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}" flex-xl="30"></div></div></md-toolbar><prm-search-result-title-after parent-ctrl="$ctrl"></prm-search-result-title-after>');
$templateCache.put('components/primoExplore/footers/icp-license-footer.html','<div layout="row" layout-align="center start" flex><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><div flex class="md-padding"></div><div flex="0" flex-md="10" flex-lg="25" ng-class="{\'flex-lgPlus-30\': $ctrl.mediaQueries.lgPlus , \'flex-xl-30\': $ctrl.mediaQueries.xl}"><div prm-text="" dir="auto"><span style="position:fixed;right:1em;bottom:0.01em;z-index:14;font-size:60%"><p>\u4EACICP\u590717047030\u53F7-2</p></span></div></div></div><prm-icp-license-footer-after parent-ctrl="$ctrl"></prm-icp-license-footer-after>');
$templateCache.put('components/primoExplore/silentLogin/silent-login.html','<prm-silent-login-after parent-ctrl="$ctrl"></prm-silent-login-after>');
$templateCache.put('components/search/actions/action-list.html','<md-nav-bar md-selected-nav-item="$ctrl.activeAction" nav-bar-aria-label="{{\'nui.aria.sendTo\' | translate}}"><div layout="row" class="scroll-hidden actions-layout" id="scrollActionList" ng-style="::(($ctrl.mediaQueries.gtxs && !$ctrl.isfullViewOrOverlay()) && {\'padding\':\'0 35px\'})"><md-nav-item layout="column" class="actions-names" tabindex="-1" id="{{actionName}}" ng-class="::{\'marg-nav-item\':$ctrl.requiredActionsList.length < 8 && !$ctrl.isLeftScrollDisabled && !$ctrl.isRightScrollDisabled,\'safari-wrapper\':$ctrl.isSafariBrowse()}" ng-repeat="actionName in ::$ctrl.requiredActionsList" name="{{actionName}}" data-qa="{{\'open_\' +\'\'+ actionName+\'_\'+\'action_btn\'}}" ng-if="$ctrl.showMe(actionName)" md-nav-click="$ctrl.performAction(actionName)"><div layout="column"><prm-icon style="z-index:1;" icon-type="{{::$ctrl.actionIcons[$ctrl.actionIconNamesMap[actionName]].type}}" svg-icon-set="{{::$ctrl.actionIcons[$ctrl.actionIconNamesMap[actionName]].iconSet}}" icon-definition="{{::$ctrl.actionIcons[$ctrl.actionIconNamesMap[actionName]].icon}}"></prm-icon><span class="button-text" translate="{{::(\'fulldisplay.command.\' + $ctrl.actionLabelNamesMap[actionName])}}"></span></div></md-nav-item></div></md-nav-bar><prm-action-container (close-tabs-event)="$ctrl.closeAllTabs()" [item]="::$ctrl.item" [selected-ids]="::$ctrl.selectedIds" [action-name]="$ctrl.selectedAction" [on-toggle]="::$ctrl.onToggle" [is-full-view]="::$ctrl.isFullView"></prm-action-container><div layout="row" layout-align="center center" ng-if="$ctrl.showAccessibleCloseButton() || $ctrl.displayCloseIcon"><md-button (keydown)="$ctrl.keydownSupport($event)" ng-class="{\'accessible-close button-link\': !$ctrl.displayCloseIcon}" (click)="$ctrl.closeModalActions($event)" translate-attr="{\'aria-label\': \'nui.aria.close_actions\' }" style="margin: 0 0 1em 0"><span translate="nui.aria.fulldisplay.closeButton.short"></span></md-button></div><prm-action-list-after parent-ctrl="$ctrl"></prm-action-list-after>');
$templateCache.put('components/search/breadcrumbs/breadcrumbs.html','<div><h2 class="sidebar-title" translate="nui.facets.activefilter"></h2></div><div class="md-chips md-chips-wrap wrapping-chip" layout="row" layout-wrap><div class="md-chip animate-chip" ng-repeat="facet in ::$ctrl.selectedFacets" ng-class="::{\'facet-excluded\': (facet.type === \'exclude\'), \'persistent-facet\': facet.persistent}" layout="row" layout-align="space-between center" ng-if="facet.persistent"><div class="md-chip-content" layout="row" layout-align="start center"><md-button class="persistence-button md-icon-button md-primary" ng-click="$ctrl.removeStickyFacet(facet)" aria-label="{{\'nui.facets.cancel_persistent\' | translate}} {{::$ctrl.getFacetTitleTranslated(facet)}}"><md-tooltip md-delay="600" md-direction="top"><span class="bold-text" translate="nui.facets.cancel_persistent"></span></md-tooltip><prm-icon class="show-on-hover" icon-type="svg" svg-icon-set="primo-ui" icon-definition="remove-persistent"></prm-icon><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="persistent"></prm-icon></md-button><md-tooltip md-delay="600"><span class="uppercase-bold" translate="nui.facets.persistent.tootltip"></span> <b ng-if="::!(facet.type === \'exclude\')" translate="nui.facets.including.tooltip"></b> <b ng-if="::(facet.type === \'exclude\')" translate="nui.facets.excluding.tooltip"></b> <strong title="{{::$ctrl.getFacetTitleTranslated(facet)}}">{{::$ctrl.getFacetTitleTranslated(facet)}}</strong></md-tooltip><strong ng-if="::!(facet.type === \'exclude\')" class="{{::$ctrl.getTextDirection(facet)}}" dir="auto">{{::$ctrl.getFacetTitleTranslated(facet)}}</strong> <del ng-if="::(facet.type === \'exclude\')" class="{{::$ctrl.getTextDirection(facet)}}"><span class="facet-excluded-txt" dir="auto">{{::$ctrl.getFacetTitleTranslated(facet)}}</span></del></div><div class="md-chip-remove-container"><button role="button" class="md-chip-remove ng-scope" aria-label="{{facet.tooltip}}" ng-click="$ctrl.removeFacet(facet)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="remove"></prm-icon><md-tooltip>{{facet.tooltip}}</md-tooltip></button></div></div></div><div class="md-chips md-chips-wrap" layout="row" layout-wrap><div class="md-chip animate-chip wrapping-chip" ng-repeat="facet in ::$ctrl.selectedFacets" ng-class="::{\'facet-excluded\': (facet.type === \'exclude\'), \'regular-active-facet\': $ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm}" layout="row" layout-align="space-between center" ng-if="!facet.persistent"><div class="md-chip-content"><md-button ng-if="facet.name !== \'frbrgroupid\'" class="persistence-button md-icon-button md-primary" ng-class="{\'persistence-button-mobile\': $ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm}" ng-click="$ctrl.addStickyFacet(facet, true)" aria-label="{{\'nui.facets.set_persistent\' | translate}} {{::$ctrl.getFacetTitleTranslated(facet)}}"><md-tooltip md-delay="1000" md-direction="top"><span class="bold-text" translate="nui.facets.set_persistent"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="remove-persistent"></prm-icon><prm-icon class="show-on-hover" icon-type="svg" svg-icon-set="primo-ui" icon-definition="persistent"></prm-icon></md-button><md-tooltip md-delay="600"><b ng-if="::!(facet.type === \'exclude\')" translate="nui.facets.including.tooltip"></b> <b ng-if="::(facet.type === \'exclude\')" translate="nui.facets.excluding.tooltip"></b> <strong title="{{::$ctrl.getFacetTitleTranslated(facet)}}">{{::$ctrl.getFacetTitleTranslated(facet)}}</strong></md-tooltip><strong ng-if="::!(facet.type === \'exclude\')" class="{{::$ctrl.getTextDirection(facet)}}" dir="auto">{{::$ctrl.getFacetTitleTranslated(facet)}}</strong> <del ng-if="::(facet.type === \'exclude\')" class="{{::$ctrl.getTextDirection(facet)}}"><span class="facet-excluded-txt" dir="auto">{{::$ctrl.getFacetTitleTranslated(facet)}}</span></del></div><div class="md-chip-remove-container"><button role="button" aria-label="{{::$ctrl.getTranslatedRemoveTooltip(facet)}}" class="md-chip-remove ng-scope" ng-click="$ctrl.removeFacet(facet)\t"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="remove"></prm-icon><md-tooltip>{{::$ctrl.getTranslatedRemoveTooltip(facet)}}</md-tooltip></button></div></div></div><div><md-button class="button-as-link link-alt-color zero-margin" layout="row" layout-align="start center" ng-click="$ctrl.rememberSelectedFilters()" aria-label="{{$ctrl.getRememberFiltersLabels() | translate}}" ng-class="{\'disabledLockButton\' : $ctrl.allFiltersAlreadySelected()}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="persistent"></prm-icon><md-tooltip md-delay="400" ng-if="!$ctrl.allFiltersAlreadySelected()"><span translate="nui.facets.remember.tooltip"></span></md-tooltip><span class="bold-text sticky-facet-actions margin-left-small" translate="nui.facets.rememberFilters"></span></md-button><span class="accessible-only" role="alert" translate="nui.facets.allLockedAlert.tooltip" ng-if="$ctrl.sendAllLockedAlert"></span><md-button class="button-as-link link-alt-color zero-margin" layout="row" layout-align="start center" (click)="$ctrl.clearAllFacets()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="replay"></prm-icon><span class="bold-text sticky-facet-actions margin-left-small" translate="nui.facets.reset"></span></md-button></div><prm-breadcrumbs-after parent-ctrl="$ctrl"></prm-breadcrumbs-after>');
$templateCache.put('components/search/briefResult/briefResult.html','<span ng-if="$ctrl.zoteroParamsString && (!$ctrl.isFullViewOverlayOpen || $ctrl.isFullView)" class="Z3988" title="{{::$ctrl.zoteroParamsString}}" aria-hidden="true"></span> <span ng-if="(!$ctrl.isFullViewOverlayOpen || $ctrl.isFullView)" class="{{$ctrl.isFullViewOverlayOpen || $ctrl.isFullView ? \'urlToXmlPnxSingleRecord\' : \'urlToXmlPnx\'}}" id="{{$ctrl.isFullViewOverlayOpen ? \'zoteroSingleRecord\' : \'\'}}" title="{{::$ctrl.getPnxInXmlUrl()}}" aria-hidden="true" data-url="{{::$ctrl.getPnxInXmlUrl()}}">{{::$ctrl.logTimeStampFull}}</span><h3 class="item-title" ng-style="::($ctrl.isEmailMode() && {\'margin\':\'0\'})" ng-class="::{\'string-to-rtl\': $ctrl.changeStringDirectionToRtl($ctrl.firstLine.values), \'is-chapter-state\': $ctrl.isChaptersAndReviewsState()}"><a ng-class="::{\'full-view-mouse-pointer\':$ctrl.isFullView}" ng-href="{{::$ctrl.isEmailMode() ? undefined : $ctrl.deepLink}}" ng-click="$ctrl.sendBeacon(); $event.preventDefault();" data-emailref="{{::$ctrl.recordId}}" (keydown)="$ctrl.keydownSupport($event)" tabindex="{{$ctrl.isFullViewOverlayOpen || $ctrl.isFullView ? -1 : 0}}" prm-context-Menu="$ctrl.addRecordOnContextMenu($event)" ng-mousedown="$ctrl.addRecordOnScrollMouseClick($event)"><span data-field-selector="::{{item.key}}" ng-repeat="item in ::$ctrl.firstLine.values"><span ng-if="::$ctrl.firstLine.delimiter" class="media-delimiter" ng-show="::(!$first)" ng-bind-html="::$ctrl.firstLine.delimiter" ng-style="::($first && $ctrl.isEmailMode() && {\'display\':\'none\'})"></span><div ng-if="::!$ctrl.firstLine.delimiter" class="media-delimiter" ng-show="::(!$first)"></div><prm-highlight ng-class="::item.codes[$index]" terms="::$ctrl.hl(item.key)" ng-repeat="val in ::$ctrl.filterAndNormalize(item.values)" display-mode="::$ctrl.displayMode" text="::$ctrl.getDisplayValFromVal(val, $ctrl.firstLine.delimiter, $ctrl.getFirstLineKeyByIndex($parent.$index))"></prm-highlight></span></a></h3><div ng-repeat="displayLine in ::$ctrl.otherLines" class="item-detail" ng-class="::{\'{{$ctrl.getClassForIdentifier()}}\' : displayLine.values[0].key === \'identifier\', \'reduce-lines-display\': !$ctrl.isIe, \'reduce-line-display-ie\': $ctrl.isIe}"><span ng-repeat="item in ::displayLine.values"><span class="media-delimiter" ng-show="::(!$first)" ng-bind-html="::displayLine.delimiter" ng-style="::($first && $ctrl.isEmailMode() && {\'display\':\'none\'})"></span> <span data-field-selector="{{::item.key}}" ng-repeat="val in ::$ctrl.filterAndNormalize(item.text) track by $index"><prm-highlight ng-class="::item.codes[$index]" terms="::$ctrl.hl(item.key)" text="::$ctrl.getDisplayValFromVal(val, displayLine.delimiter, item.key)" display-mode="::$ctrl.displayMode"></prm-highlight><span class="media-delimiter" ng-show="::(!$last)" ng-bind-html="::displayLine.delimiter" ng-style="::($ctrl.isEmailMode() && {\'display\':\'none\'})">{{::$ctrl.logTimeStamp}}</span></span></span></div><prm-brief-result-after parent-ctrl="$ctrl"></prm-brief-result-after>');
$templateCache.put('components/search/briefResult/briefResultContainer.html','<div prm-digest-when-in-view="" tabindex="{{$ctrl.isFullViewOverlayOpen || $ctrl.isFullView ? -1 : 0}}" role="none" in-view="$ctrl.onInView(undefined, $inview, $inviewInfo)" in-view-options="{throttle: 50}" ng-click="$ctrl.handleDetailsThrottled($ctrl.item,$event, true)" class="list-item-primary-content result-item-primary-content has-checkbox" ng-class="{\'new-result-item\' : ($ctrl.index && $ctrl.newMetalibItem())}" data-recordid="{{::$ctrl.recordId}}" id="SEARCH_RESULT_RECORDID_{{::$ctrl.recordId}}{{$ctrl.isFullView ? \'_FULL_VIEW\' : \'\'}}" layout="row" [digest-when-in-view-disabled]="$ctrl.disableDigest"><span class="list-item-count" ng-if="::(!$ctrl.isFullView && !$ctrl.isEmailMode() && !$ctrl.isRapidoSAEnabled) && !$ctrl.isTheHighlightedRecordYouCameFrom"><span>{{::$ctrl.index}}</span><md-tooltip ng-if="::($ctrl.index && $ctrl.newMetalibItem())"><span translate="brief.New_Result"></span></md-tooltip></span><md-checkbox ng-if="($ctrl.isfavorites || ($ctrl.isSearchState() && !$ctrl.detectMobile()) || ($ctrl.isSearchState() && $ctrl.detectMobile() && $ctrl.isToolBarEnabled)) &&\r\n\t\t\t\t \t\t\t\t!$ctrl.isFullView && !$ctrl.isEmailMode() && !$ctrl.isItemDeleted() && !$ctrl.isRapidoSAEnabled && !$ctrl.isTheHighlightedRecordYouCameFrom" flex="5" class="hide-thumbnail" aria-label="{{ ::$ctrl.getSelectRecordAriaLabel() }}" ng-change="$ctrl.sendBriefBeacon()" ng-click="$event.stopPropagation()" ng-model="$ctrl.isChosen" md-no-ink="true"></md-checkbox><md-checkbox ng-if="$ctrl.isItemDeleted() && !$ctrl.isTheHighlightedRecordYouCameFrom" flex="5" class="hide-thumbnail" aria-label="{{ ::$ctrl.getSelectRecordAriaLabel() }}" disabled="disabled" md-no-ink="true"></md-checkbox><div class="result-item-image" layout="column" ng-if="::(!$ctrl.mediaQueries.xs && (!$ctrl.isDBSearch() || $ctrl.isFullView) && !$ctrl.isEmailMode())"><div class="media-content-images" ng-if="!$ctrl.isItemDeleted()"><div class="media-thumbnail"><a tabindex="-1" ng-click="$event.preventDefault(); $ctrl.sendBeacon()" ng-href="{{::$ctrl.getDeepLinkPath()}}" class="a-tag-as-wrapper" ng-style="::$ctrl.isFullView && {\'cursor\': \'default\'}" aria-label="{{::(\'nui.aria.brief.image\' | translate)}}{{\' \'}}{{::$ctrl.index}}"><prm-search-result-thumbnail-container class="media-content-images" ng-class="::{\'dedup-images-holder\' : $ctrl.isMultipleVersions() && !$ctrl.isFavoriteState()}" [item]="$ctrl.item" [links]="$ctrl.links" [frbr]="::$ctrl.isMultipleVersions()" [is-frbr-generic]="::$ctrl.isFrbrGeneric()"></prm-search-result-thumbnail-container></a></div></div></div><div class="text-selector-spacer"></div><div ng-if="$ctrl.isItemDeleted()" class="result-item-text" layout="column" layout-fill flex><div class="media-content-type align-self-start"><b translate="nui.favorites.labels.notAvailable" translate-attr="{\'aria-label\': \'nui.favorites.labels.notAvailable\'}"></b><h3 ng-if="$ctrl.isItemDeleted()" class="item-title" style="text-transform:none;font-size: 1.6em;font-weight:600;margin:0;" ng-style="::($ctrl.isEmailMode() && {\'margin\':\'0\'})" aria-label="{{$ctrl.item.favorite.title}}">{{$ctrl.item.favorite.title}}</h3><div class="item-detail ng-scope reduce-lines-display" style="text-transform:none;font-size: 1.2em;" aria-label="{{$ctrl.item.favorite.author}}">{{$ctrl.item.favorite.author}}</div></div></div><div ng-if="!$ctrl.isItemDeleted()" class="result-item-text" layout="column" layout-fill flex><div class="media-content-type align-self-start"><span ng-if="$ctrl.isTheHighlightedRecordYouCameFrom"><h3 translate="nui.frbrversion.highlightrecord"></h3></span><span ng-if="::$ctrl.showItemType && (!$ctrl.isDBSearch() || $ctrl.isFullView)" translate="{{::$ctrl.getResourceTypeForDisplay()}}"></span><span ng-if="::($ctrl.isPc() && !$ctrl.isfavorites && $ctrl.isMultipleVersions() && !$ctrl.isFavoriteForDisplayFrbr && !$ctrl.isEmailMode())"><prm-search-result-frbr-line [result]="::$ctrl.item" [is-full-view]="::$ctrl.isFullView" [index]="::$ctrl.index"></prm-search-result-frbr-line></span></div><div ng-if="::(!$ctrl.isPc() && !$ctrl.isFrbrGeneric() && !$ctrl.isfavorites && $ctrl.isMultipleVersions() && !$ctrl.isFavoriteForDisplayFrbr && !$ctrl.isEmailMode())"><prm-search-result-frbr-line [result]="::$ctrl.item" [is-full-view]="::$ctrl.isFullView" [index]="::$ctrl.index"></prm-search-result-frbr-line></div><prm-brief-result class="result-item-details" [item]="$ctrl.item" [resource-type-for-display]="::$ctrl.getResourceTypeForDisplay()" [deep-link]="::$ctrl.getDeepLinkPath()" [is-full-view]="::$ctrl.isFullView" [is-collection-discovery-collection]="::$ctrl.isCollectionDiscoveryCollection" [display-mode]="::$ctrl.displayMode" layout="column"></prm-brief-result><prm-snippet [record]="::$ctrl.item" [display-mode]="::$ctrl.displayMode"></prm-snippet><div ng-if="::$ctrl.isDBSearch()" style="z-index:100"><div ng-repeat="description in $ctrl.descriptions track by $index" class="item-detail" ng-bind-html="::description"></div></div><prm-search-result-journal-indication-line ng-if="::$ctrl.isSuprima" [item]="::$ctrl.item" [display-mode]="::$ctrl.displayMode"></prm-search-result-journal-indication-line><div ng-if="::(!$ctrl.isSuprima && ($ctrl.isPeerDocument || $ctrl.isOpenAccessDocument ||  $ctrl.isCourseDocument || $ctrl.isCdiAttributesDocument))" class="badges" layout="column" layout-align="start start"><div layout="row"><div class="mark-item warning-cdi-attributes-mark" ng-if="::(!$ctrl.detectMobile() && $ctrl.isCdiAttributesEnabledInBO && $ctrl.isCdiWarningAttributesDocument)" ng-repeat="attribute in $ctrl.warningCdiAttributesItem"><span class="warning-cdi-attributes-mark-label" translate="attribute.{{attribute}}"><md-tooltip><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip></span></div><div class="mark-item peer-reviewed-mark" ng-if="::$ctrl.isPeerDocument"><prm-icon class="peer-reviewed-mark-icon" icon-type="{{::$ctrl.actionsIcons.peerreviewed.type}}" svg-icon-set="{{::$ctrl.actionsIcons.peerreviewed.iconSet}}" icon-definition="{{::$ctrl.actionsIcons.peerreviewed.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon><span translate="fulldisplay.constants.peer_reviewed_icon"><md-tooltip><span translate="fulldisplay.constants.peer_reviewed_tooltip"></span></md-tooltip></span></div><div class="mark-item open-access-mark" ng-if="::$ctrl.isOpenAccessDocument"><prm-icon class="open-access-mark-icon" icon-type="{{::$ctrl.actionsIcons.openaccess.type}}" svg-icon-set="{{::$ctrl.actionsIcons.openaccess.iconSet}}" icon-definition="{{::$ctrl.actionsIcons.openaccess.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon><span translate="fulldisplay.constants.open_access_icon"><md-tooltip><span translate="fulldisplay.constants.open_access_tooltip"></span></md-tooltip></span></div><div class="mark-item regular-cdi-attributes-mark" ng-if="::(!$ctrl.detectMobile() && $ctrl.isCdiAttributesEnabledInBO && $ctrl.isCdiRegulargAttributesDocument)" ng-repeat="attribute in ::$ctrl.regularCdiAttributesItem"><span class="regular-cdi-attributes-mark-label" translate="attribute.{{attribute}}"><md-tooltip><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip></span></div><div class="mark-item course-info-mark" ng-if="::$ctrl.isCourseDocument"><prm-icon class="course-info-mark-icon" icon-type="{{::$ctrl.actionsIcons.course.type}}" svg-icon-set="{{::$ctrl.actionsIcons.course.iconSet}}" icon-definition="{{::$ctrl.actionsIcons.course.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon><span translate="fulldisplay.constants.course_icon"><md-tooltip><span translate="fulldisplay.constants.course_tooltip"></span></md-tooltip></span></div></div><div ng-if="::($ctrl.detectMobile() && $ctrl.isCdiAttributesEnabledInBO && $ctrl.isCdiAttributesDocument)" layout="row" class="badges"><div ng-if="::$ctrl.isCdiWarningAttributesDocument" class="mark-item warning-cdi-attributes-mark" ng-repeat="attribute in ::$ctrl.warningCdiAttributesItem"><span class="warning-cdi-attributes-mark-label" translate="attribute.{{attribute}}"><md-tooltip><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip></span></div><div ng-if="::$ctrl.isCdiRegulargAttributesDocument" class="mark-item regular-cdi-attributes-mark" ng-repeat="attribute in ::$ctrl.regularCdiAttributesItem"><span class="regular-cdi-attributes-mark-label" translate="attribute.{{attribute}}"><md-tooltip><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip></span></div></div></div><prm-quick-link ng-if="::(!$ctrl.isEmailMode() && ($ctrl.isQuickLinksAvailable || $ctrl.isUnpaywallLinksAvailable))" [item]="::$ctrl.item" ng-click="$event.stopPropagation()" tabindex="-1"></prm-quick-link><div class="search-result-availability-line-wrapper" ng-style="::($ctrl.isEmailMode() && {\'margin-top\':\'1em\'})"><prm-spinner class="inline-loader display-inline dark-on-light half-transparent" ng-if="$ctrl.item.rtaInProgress"></prm-spinner><prm-search-result-availability-line ng-if="::($ctrl.delivery &&(!$ctrl.isGenericRecord() || $ctrl.isPc()))" tabindex="-1" [result]="::$ctrl.item" [is-full-view]="::$ctrl.isFullView" [is-overlay-full-view]="$ctrl.isOverlayFullView" [collection-discovery-data]="::$ctrl.collectionDiscoveryData" ng-click="$event.stopPropagation();" (open-full-display-with-getit1)="$ctrl.handleDetails($ctrl.item, $event, false);" (open-full-display-with-ngrs)="$ctrl.handleDetails($ctrl.item, $event, false);" [display-mode]="::$ctrl.displayMode"></prm-search-result-availability-line></div><prm-search-result-frbr-line [result]="::$ctrl.item" [is-full-view]="::$ctrl.isFullView" [index]="::$ctrl.index" ng-if="::($ctrl.isFrbrGeneric() && !$ctrl.isfavorites && $ctrl.isMultipleVersions() && !$ctrl.isPc() && !$ctrl.isFavoriteForDisplayFrbr && !$ctrl.isEmailMode())"></prm-search-result-frbr-line><prm-chapters-results-line ng-click="$event.stopPropagation()" tabindex="-1" [item]="::$ctrl.item" ng-if="$ctrl.hasRelatedItems () && ($ctrl.isFullViewOverlayOpen || $ctrl.isFullView) && !$ctrl.isEmailMode()" role="presentation"></prm-chapters-results-line><prm-favorites-record-labels [item]="::$ctrl.item" ng-if="::$ctrl.isfavorites"></prm-favorites-record-labels><form ng-if="::$ctrl.displayCTOButton()" class="request-form" ng-cloak action="{{::$ctrl.ctoUrl()}}" method="post" target="_blank"><input type="hidden" name="doc" id="doc" value="{{::$ctrl.getItme()}}"/><md-button type="submit" ng-click="$event.stopPropagation()"><span>DISPLAY CTO</span></md-button></form></div></div><div ng-if="((!$ctrl.isGenericRecord() || $ctrl.isPc()) && !$ctrl.isEmailMode() && $ctrl.showTimer)" role="region" translate-attr="{\'aria-label\': \'nui.aria.actionsFor\'}" translate-values="{\'title\':  \'{{$ctrl.escapeString($ctrl.getRecordTitle())}}\' }" class="result-item-actions" layout="row" ng-keydown="$ctrl.keyDownSupport($event)"><prm-citation-trails-indication-container ng-if="(!$ctrl.isItemDeleted() && !$ctrl.detectMobile() && !$ctrl.isOverlayFullView && !$ctrl.isFullView && $ctrl.isShowCitationTrails())" [record]="::$ctrl.item"></prm-citation-trails-indication-container><md-button ng-repeat="action in ::$ctrl.upFrontActions" aria-label="{{$ctrl.getUpFrontActionsTranslated(action)}}" ng-if="::(!$ctrl.isItemDeleted() && !$ctrl.isFullView)" class="md-icon-button custom-button prm-primary" data-custom-button="action" data-qa="{{\'open_up_front_\'+ action + \'_action\'}}" (click)="$ctrl.openTab($event, action)" hide-xs><md-tooltip md-delay="400"><span translate="{{::(\'fulldisplay.command.\'+$ctrl.getActionLabel(action))}}"></span></md-tooltip><prm-icon class="md-icon-button-custom" icon-type="{{::$ctrl.actionsIcons[$ctrl.getActionIconName(action)].type}}" svg-icon-set="{{::$ctrl.actionsIcons[$ctrl.getActionIconName(action)].iconSet}}" icon-definition="{{::$ctrl.actionsIcons[$ctrl.getActionIconName(action)].icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></md-button><prm-save-to-favorites-button ng-if="!$ctrl.isRapidoSAEnabled" [item]="::$ctrl.item" [index]="::$ctrl.index" [is-favorites]="::$ctrl.isFavorites" [is-overlay-full-view]="$ctrl.isOverlayFullView"></prm-save-to-favorites-button><md-button ng-attr-id="briefResultMoreOptionsButton{{::$ctrl.index}}" ng-if="::(!$ctrl.isItemDeleted() && !$ctrl.isFullView)" class="md-icon-button more-options-button" aria-label="{{$ctrl.getLessMoreOptionsButtonAriaLabel()}}" (click)="$ctrl.closeOpenTabs($event);$ctrl.toggleItemMenu($event);$event.stopPropagation();" hide-xs><md-tooltip md-delay="600" md-autohide="true"><span>{{$ctrl.getLessMoreOptionsButtonText()}}</span></md-tooltip><prm-icon [icon-type]="::$ctrl.actionsIcons.moreActions.type" class="open-icon" [svg-icon-set]="::$ctrl.actionsIcons.moreActions.iconSet" [icon-definition]="::$ctrl.actionsIcons.moreActions.icon" [display-mode]="::$ctrl.displayMode"></prm-icon><prm-icon [icon-type]="::$ctrl.actionsIcons.closeActions.type" class="close-icon" [svg-icon-set]="::$ctrl.actionsIcons.closeActions.iconSet" [icon-definition]="::$ctrl.actionsIcons.closeActions.icon" [display-mode]="::$ctrl.displayMode"></prm-icon></md-button></div><div class="action-list-content" ng-style="{\'padding-top\': $ctrl.itemHeight}" ng-if="::(!$ctrl.isItemDeleted() &&!$ctrl.isFullView && !$ctrl.isEmailMode())" ng-keydown="$ctrl.keyDownSupport($event)"><md-content ng-if="$ctrl.isExpanded" ng-class="::{\'secondary-content-holder\': !$ctrl.isFullView}"><md-divider></md-divider><prm-action-list ng-if="$ctrl.isExpanded2 && !$ctrl.isGenericRecord() || $ctrl.isPc()" ng-class="{ \'visible\': $ctrl.isExpanded3 }" [display-all]="true" [display-close-icon]="false" [item]="::$ctrl.item" [(selected-action)]="$ctrl.selectedAction" (close-modal)="$ctrl.closeOpenTabs($event);$ctrl.toggleItemMenu($event);$event.stopPropagation();$ctrl.focusOnXButton()"></prm-action-list></md-content></div><prm-brief-result-container-after parent-ctrl="$ctrl"></prm-brief-result-container-after>');
$templateCache.put('components/search/browse/browse-search.html','<h2 class="accessible-only" translate="results.title" ng-if="$ctrl.showList()"></h2><prm-spinner ng-if="$ctrl.inProgress" class="half-transparent no-text" layout="row" layout-align="center center" style="padding-top: 5em"></prm-spinner><md-content class="padded-container" ng-class="{\'facet-to-left\': $ctrl.facetToLeft}" layout="row" layout-align="center start" flex><div flex="0" flex-md="0" flex-lg="20" flex-xl="20"></div><div flex><div layout="row" layout-sm="column" layout-align="space-around" ng-show="$ctrl.inProgress"><md-progress-circular class="md-accent" md-diameter="40"></md-progress-circular></div><md-list ng-if="$ctrl.showList()" ng-hide="$ctrl.inProgress" id="mainResults" class="prm-list prm-linkable-list-items prm-dense-list has-list-nav zero-padding" flex><prm-browse-result ng-repeat="obj in $ctrl.browseResult" [browse-result]="obj"></prm-browse-result></md-list></div><div flex="0" flex-md="0" flex-lg="20" flex-xl="20"></div><prm-page-nav-menu ng-if="$ctrl.showList()" (load-prev-results-event)="$ctrl.doPrev()" (load-next-results-event)="$ctrl.doNext()" [current-page]="$ctrl.pageInView" [num-of-results]="$ctrl.searchInfo.total" [show-components]="$ctrl.pagingConfiguration" [mode]="\'browse\'" [show-next-button-predicate]="::$ctrl.showNextButtonPredicate" [show-prev-button-predicate]="::$ctrl.showPrevButtonPredicate"></prm-page-nav-menu></md-content><prm-browse-search-after parent-ctrl="$ctrl"></prm-browse-search-after>');
$templateCache.put('components/search/chaptersAndReviews/chapters-and-reviews-item.html','<md-card tabindex="-1"><md-card-content ng-if="$ctrl.item" layout="column" tabindex="-1"><div class="media-content-type"><span translate="{{$ctrl.resourceType}}"></span></div><h4 class="md-subhead item-title"><a tabindex="0" aria-label="" title="" ng-href="{{::$ctrl.deepLinkPath}}" ng-click="$ctrl.onItemClick($event)"><span>{{$ctrl.title}}</span></a></h4><p title="">{{$ctrl.creatorAndContributor}}</p></md-card-content></md-card><prm-chapters-and-Reviews-item-after parent-ctrl="$ctrl"></prm-chapters-and-Reviews-item-after>');
$templateCache.put('components/search/chaptersAndReviews/chapters-and-reviews.html','<md-toolbar class="default-toolbar"><div class="md-toolbar-tools" layout="row"><div flex="0" flex-md="5" flex-lg="15" flex-gt-lg="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><md-button class="back-button offset-to-left" aria-label="{{\'fulldisplay.deatiles.back\' | translate}}" ui-state="$ctrl.SEARCH_STATE" ui-state-params="$ctrl.savedSearchParams" ui-sref-opts="{reload: true, inherit:false}"><prm-icon class="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><md-tooltip md-delay="400"><span translate="{{::(\'fulldisplay.deatiles.back\'+$ctrl.getActionLabel(action))}}"></span></md-tooltip></md-button><md-divider class="toolbar-divider visible"></md-divider><h2 class="toolbar-title"><span>{{$ctrl.getRelatedItemsHeaderLabel()}}</span></h2></div></md-toolbar><div class="prm-horizontal-content no-scrollbar stacked-items prm-background prm-hue1" layout="row" layout-align="space-between center"><div hide-xs hide-sm flex-md="0" flex-lg="15" flex-gt-lg="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><div class="display-block" flex layout="row"><prm-chapters-and-reviews-item [item]="$ctrl.item"></prm-chapters-and-reviews-item></div><div hide-xs hide-sm flex-md="0" flex-lg="30" flex-gt-lg="30" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div></div><prm-alert-bar flex [alert-object]="::$ctrl.chaptersAlert " ng-if="$ctrl.type === \'chapters\'"></prm-alert-bar><prm-alert-bar flex [alert-object]="::$ctrl.reviewsAlert " ng-if="$ctrl.type === \'reviews\'"></prm-alert-bar><prm-search></prm-search><prm-chapters-and-reviews-after parent-ctrl="$ctrl"></prm-chapters-and-reviews-after>');
$templateCache.put('components/search/citationTrails/citation-trails-breadcrumbs.html','<md-toolbar class="default-toolbar"><div class="md-toolbar-tools" layout="row" ng-hide="citationLimit == 0"><div flex="0" flex-md="5" flex-lg="10" flex-gt-lg="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><md-button class="back-button offset-to-left" aria-label="{{\'fulldisplay.deatiles.back\' | translate}}" ng-click="$ctrl.clearBackToSearchParams()" ui-state="$ctrl.SEARCH_STATE" ui-state-params="$ctrl.savedSearchParams" ui-sref-opts="{reload: true, inherit:false}" ref=""><prm-icon class="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><md-tooltip md-delay="400"><span translate="{{::(\'fulldisplay.deatiles.back\'+$ctrl.getActionLabel(action))}}"></span></md-tooltip></md-button><md-divider class="toolbar-divider visible"></md-divider><h2 class="toolbar-title"><span aria-label="{{\'nui.citation_trail.link.header\' | translate}}" translate="{{\'nui.citation_trail.link.header\' + $ctrl.getActionLabel(action)}}"></span></h2></div></md-toolbar><div class="prm-horizontal-content no-scrollbar stacked-items prm-background prm-hue1" layout="row" aria-label="{{\'nui.aria.current.path\' | translate}}"><div hide-xs hide-sm flex-md="0" flex-lg="10" flex-gt-lg="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div><div flex class="horizontal-content-container citations-container"><md-button class="horizontal-content-control left-button" ng-if="$ctrl.isShowLeftArrow()" tabindex="0" ng-click="$ctrl.onLeftArrowClick()" aria-label="{{\'nui.citation_trail.link.left.tooltip\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon><md-tooltip><span translate="nui.citation_trail.link.left.tooltip"></span></md-tooltip></md-button><div class="horizontal-content-scroller citations-scroller" role="list" layout="row" ng-class="{\'left-button-visible\': $ctrl.isShowLeftArrow(), \'right-button-visible\': $ctrl.isShowRightArrow()}"><div class="horizontal-content-scroll-offseter" layout="row"><prm-citation-trails-item id="citationItem{{$index}}" ng-init="index = $index" tabindex="-1" role="listitem" ng-repeat="seed in $ctrl.seedList" ng-class="{\'active-item\':$index === $ctrl.getActiveLevel()}" aria-label="{{::(\'nui.aria.citation_path_item_number\' | translate)}}{{\' \'}}{{::$index+1}}{{\' \'}}{{$ctrl.isActive($index) | translate}}" [seed]="seed" [active]="$index === $ctrl.getActiveLevel()" [active-level]="$ctrl.getActiveLevel()" [index]="$index" class="{{$ctrl.isActive}} horizontal-content-item" (change-active-seed-event)="$ctrl.onChangeActiveSeedEvent(seed, $index)" [z-order]="$index > $ctrl.getActiveLevel() ? ($ctrl.seedList.length - $index) : \'\' "></prm-citation-trails-item></div></div><md-button class="horizontal-content-control right-button" ng-hide="$ctrl.hideArrows" tabindex="0" ng-if="$ctrl.isShowRightArrow()" ng-click="$ctrl.onRightArrowClick()" aria-label="{{\'nui.citation_trail.link.right.tooltip\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon><md-tooltip><span translate="nui.citation_trail.link.right.tooltip"></span></md-tooltip></md-button></div><div hide-xs hide-sm flex-md="0" flex-lg="10" flex-gt-lg="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div></div><prm-alert-bar flex [alert-object]="::$ctrl.citingAlert " ng-if="$ctrl.citationTraisLength && $ctrl.activeSeedTypeCiting"></prm-alert-bar><prm-alert-bar flex [alert-object]="::$ctrl.citedByAlert " ng-if="$ctrl.citationTraisLength && !$ctrl.activeSeedTypeCiting"></prm-alert-bar><prm-search></prm-search><prm-citation-trails-breadcrumbs-after parent-ctrl="$ctrl"></prm-citation-trails-breadcrumbs-after>');
$templateCache.put('components/search/citationTrails/citation-trails-expand-button.html','<div class="switch-results switch-expand-citation-trail-ctm" ng-class="{\'expand-citation-trail-mobile\': $ctrl.mediaQueries.xs}"><md-switch ng-model="$ctrl.toggleValue" ng-change="$ctrl.changeToggle()" md-no-ink class="tiny-switch zero-margin" aria-label="{{($ctrl.toggleValue ? \'nui.aria.expandresults.active\' : \'nui.aria.expandresults.inactive\') | translate}}" ng-class="$ctrl.toggleValue ? \'active\' : \'inactive\'" layout-align="start start" data-qa="citation_trail_expand_my_results_slider_btn"><span class="slider-text-wrap" translate="expandresults"></span><md-tooltip ng-if="!$ctrl.toggleValue"><span translate="nui.expandresults.tooltip.inactive"></span></md-tooltip><md-tooltip ng-if="$ctrl.toggleValue"><span translate="nui.expandresults.tooltip.active"></span></md-tooltip></md-switch></div><prm-citation-trails-expand-button-after parent-ctrl="$ctrl"></prm-citation-trails-expand-button-after>');
$templateCache.put('components/search/citationTrails/citation-trails-fullview-link.html','<div ng-if="$ctrl.shouldDisplayCitationTrial"><span ng-if="!$ctrl.configurationUtil.isSuprima()" translate="{{\'nui.citation_trail.link.Find\' + $ctrl.getActionLabel(action)}}"></span> <span ng-if="!$ctrl.configurationUtil.isSuprima()" translate="{{\'nui.citation_trail.link.sources\' + $ctrl.getActionLabel(action)}}"></span> <span ng-if="$ctrl.configurationUtil.isSuprima()" translate="{{\'nui.citation_trail.link.findSource\' + $ctrl.getActionLabel(action)}}"></span><prm-citation-trails-indication ng-if="$ctrl.hasCitedby()" [record]="::$ctrl.record" [is-full-view]="true" type="cited_by" class="margin-left-small"></prm-citation-trails-indication><span ng-if="$ctrl.hasCitedby() && $ctrl.hasCiting()" aria-label="{{\'nui.citation_trail.link.or\' | translate}}" translate="{{::(\'nui.citation_trail.link.or\'+$ctrl.getActionLabel(action))}}"></span><prm-citation-trails-indication ng-if="$ctrl.hasCiting()" [record]="::$ctrl.record" [is-full-view]="true" type="citing" class="margin-left-small"></prm-citation-trails-indication></div><prm-times-cited ng-if="$ctrl.shouldDisplayTimesCited" [item]="$ctrl.record"></prm-times-cited><prm-citation-trails-fullview-link-after parent-ctrl="$ctrl"></prm-citation-trails-fullview-link-after>');
$templateCache.put('components/search/citationTrails/citation-trails-indication-container.html','<div ng-if="::$ctrl.record.extras && $ctrl.record.extras.citationTrails" layout="row"><prm-citation-trails-indication ng-if="::$ctrl.citedby.length > 0" [record]="::$ctrl.record" type="cited_by"></prm-citation-trails-indication><prm-citation-trails-indication ng-if="::$ctrl.citing.length > 0" [record]="::$ctrl.record" type="citing"></prm-citation-trails-indication></div><prm-citation-trails-indication-container-after parent-ctrl="$ctrl"></prm-citation-trails-indication-container-after>');
$templateCache.put('components/search/citationTrails/citation-trails-indication.html','<md-button aria-label="{{$ctrl.getLabel() | translate:\'{title: \\\'\'+ $ctrl.escapeString($ctrl.getRecordTitle())+\'\\\'}\'}}" data-custom-button="action" prm-brief-internal-button-marker ui-state="$ctrl.CITATION_TRAILS_STATE" ui-state-params="$ctrl.citationsStateParams" ui-sref-opts="{reload: true, inherit:true}" ng-click="$ctrl.onClick($event, $ctrl.type)" ng-class="::{\'button-with-icon citation-trails-fullview\' : $ctrl.isFullView, \'md-icon-button citation-trails-brief\' : !$ctrl.isFullView}" href=""><md-tooltip md-delay="400" ng-if="::!$ctrl.isFullView"><span translate="{{::($ctrl.isCitationStatTooltip() + $ctrl.getActionLabel(action))}}"></span></md-tooltip><prm-icon svg-icon-set="primo-ui" icon-definition="{{::$ctrl.getIconName()}}"></prm-icon><span ng-if="::$ctrl.isFullView" translate="{{::($ctrl.getLabel())}}"></span></md-button><prm-citation-trails-indication-after parent-ctrl="$ctrl"></prm-citation-trails-indication-after>');
$templateCache.put('components/search/citationTrails/citation-trails-item.html','<md-card tabindex="-1"><md-button ng-attr-id="citationTrail{{::($ctrl.index===0 ? \'\' : $ctrl.index)}}" ng-href="{{::$ctrl.deepLinkPath}}" ng-click="$ctrl.onItemClick($ctrl.index, citation, $event)" tabindex="0" ng-style="{\'z-index\':$ctrl.zOrder}" aria-label="{{::(\'nui.aria.citation_path_item_number\' | translate)}}{{\' \'}}{{::$ctrl.index+1}}{{\' \'}}{{$ctrl.isActiveSeed() ? ($ctrl.activeCitationType() | translate) : \'\'}}{{\' \'}}{{::$ctrl.seed.title}}"><md-card-content layout="column" tabindex="-1"><span class="item-type" ng-show="!$ctrl.isActive()"><prm-icon ng-if="$ctrl.citationType === \'citing\' " class="rotate-180" icon-type="svg" svg-icon-set="primo-ui" icon-definition="citing"></prm-icon><prm-icon ng-if="$ctrl.citationType === \'citedby\' " icon-type="svg" svg-icon-set="primo-ui" icon-definition="citedBy"></prm-icon></span><h3 class="item-type" layout="row" tabindex="-1" ng-show="$ctrl.isActive()"><prm-icon ng-if="$ctrl.citationType === \'citing\' " class="rotate-180" icon-type="svg" svg-icon-set="primo-ui" icon-definition="citing"></prm-icon><prm-icon ng-if="$ctrl.citationType === \'citedby\' " icon-type="svg" svg-icon-set="primo-ui" icon-definition="citedBy"></prm-icon><span>{{$ctrl.activeCitationType()}}</span></h3><h4 class="md-subhead item-title" tabindex="-1" title="{{::$ctrl.seed.title}}"><span>{{::$ctrl.seed.title}}</span></h4><p ng-if="$ctrl.isActive()" title="{{::$ctrl.seed.creator}}">{{::$ctrl.seed.creator}}</p></md-card-content></md-button></md-card><prm-citation-trails-item-after parent-ctrl="$ctrl"></prm-citation-trails-item-after>');
$templateCache.put('components/search/controlledVocabulary/controlled-vocabulary.html','<p class="zero-margin"><span translate="nui.results.controlVocabulary.including" translate-values="$ctrl.getEquivalentTerm()"></span> <a ui-state="$ctrl.STATE" ng-click="$ctrl.goToSearchOnly($ctrl.stateParams)" ui-state-params="$ctrl.stateParams" ui-sref-opts="{reload: true, inherit:false}" translate="nui.results.controlVocabulary.searchOnly" translate-values="$ctrl.getOriginalQuery()"></a></p><prm-controlled-vocabulary-after parent-ctrl="$ctrl"></prm-controlled-vocabulary-after>');
$templateCache.put('components/search/didUMean/did-u-mean.html','<p class="zero-margin"><span translate="nui.results.didumean"></span> <a ui-state="$ctrl.STATE" ui-state-params="$ctrl.stateParams" ui-sref-opts="{reload: true, inherit:false}" aria-label="{{(\'nui.results.didumean\' | translate) + $ctrl.didUMean}}">{{$ctrl.didUMean}} </a>?</p><prm-did-u-mean-after parent-ctrl="$ctrl"></prm-did-u-mean-after>');
$templateCache.put('components/search/facet/facet-group.html','<div data-facet-group="{{$ctrl.facetGroup.name}}"><prm-facet-exact tabindex="-1" ng-if="::($ctrl.displayedType === \'exact\')" [facet-group]="::$ctrl.facetGroup" prm-digest-when-in-view="" in-view="$ctrl.onInView(undefined, $inview, $inviewInfo)" in-view-options="{throttle: 50}"></prm-facet-exact><prm-facet-range tabindex="-1" ng-if="::($ctrl.displayedType === \'range\')" [facet-group]="::$ctrl.facetGroup"></prm-facet-range></div>');
$templateCache.put('components/search/facet/facet.html','<div tabindex="-1" class="primo-scrollbar" sticky sticky-class="is-stuck" disabled-sticky="!$ctrl.mediaQueries.gtsm" ng-class="{\'multifacets-active\': $ctrl.activeMultipleFacets, \'mobile-scrollbar\': $ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm}"><prm-organization-or-facet-toggle ng-if="::$ctrl.isOrgListSearch()"></prm-organization-or-facet-toggle><div tabindex="-1" class="sidebar-inner-wrapper" layout="column" ng-if="$ctrl.showFacetSection()"><div ng-if="::$ctrl.isShowFetchMoreResultButton()" class="sidebar-section compensate-padding-left margin-bottom-large"><h2 class="sidebar-title" translate="nui.facets.remote.title"></h2><p translate="nui.facets.remote.description" class="remote-description"></p><md-button (click)="$ctrl.fetchMoreResults()" translate="nui.facets.remote.button" class="zero-margin button-confirm button-large"></md-button></div><div ng-class="{\'up-z-index\': $ctrl.showUIBlocker}" tabindex="-1" ng-if="::($ctrl.selectedFacets).length || $ctrl.isFiltered()" class="sidebar-section filtered-facets-section animate-chip-section margin-bottom-large"><prm-breadcrumbs></prm-breadcrumbs></div><div ng-if="::($ctrl.showPersonalizationSection() && $ctrl.notLocal() && $ctrl.personalizationToggled())"><div tabindex="-1" class="sidebar-section compensate-padding-left margin-bottom-large personalization-section" ng-class="::{\'is-active\':$ctrl.personalizationToggled()}"><h2 class="sidebar-title prm-personalization" translate="nui.pyr.search.label"></h2><div class="section-content"><md-checkbox ng-model="$ctrl.recentness" md-no-ink="true"><span translate="nui.pyr.search.recent_date"></span></md-checkbox><ul class="sidebar-list margin-bottom-zero margin-top-small" layout="column" layout-align="start start" tabindex="-1"><li ng-repeat="discipline in ::$ctrl.getPersonalization()" layout="row" layout-align="start center"><strong title="{{discipline}}">{{::$ctrl.getDiscipline(discipline)}} </strong><span class="button-container"><md-button class="md-icon-button" ng-click="$ctrl.removeDiscipline(discipline)" translate-attr="{\'aria-label\': $ctrl.getRemoveLabel() + \' \' + $ctrl.getDiscipline(discipline)}"><prm-icon icon-type="svg" svg-icon-set="navigation" icon-definition="ic_close_24px"></prm-icon><md-tooltip md-delay="400"><span>{{::$ctrl.getRemoveLabel() + \' \' + $ctrl.getDiscipline(discipline)}}</span></md-tooltip></md-button></span></li></ul><md-button class="button-as-link link-alt-color zero-margin" ng-click="$ctrl.edit()"><b translate="nui.pyr.search.edit"></b></md-button></div></div></div><div tabindex="-1" ng-if="::($ctrl.totalResults > 1 || $ctrl.showPcAvailability)" class="sidebar-section compensate-padding-left"><h2 class="sidebar-title" translate="{{::$ctrl.isFromEsploro() ? \'nui.facets.ResearchRepository.title\' : \'nui.facets.title\'}}"></h2></div><div class="switch-results switch-results-sliders-ctm" layout="column" layout-align="center start"><div ng-if="::$ctrl.showExpandMyResultsBtn()" class="expand-results-ctm"><md-switch ng-model="$ctrl.pcAvailability" ng-change="$ctrl.changePcAvailability()" md-no-ink class="tiny-switch zero-margin" aria-label="{{($ctrl.pcAvailability ? \'nui.aria.expandresults.active\' : \'nui.aria.expandresults.inactive\') | translate}}" ng-class="$ctrl.pcAvailability ? \'active\' : \'inactive\'" layout-align="start start" data-qa="expand_my_results_slider_btn"><span class="slider-text-wrap" translate="expandresults"></span><md-tooltip ng-if="!$ctrl.pcAvailability"><span translate="nui.expandresults.tooltip.inactive"></span></md-tooltip><md-tooltip ng-if="$ctrl.pcAvailability"><span translate="nui.expandresults.tooltip.active"></span></md-tooltip></md-switch></div><div ng-if="::$ctrl.showSearchInFulltextBtn()" class="search-fulltext-ctm"><md-switch ng-model="$ctrl.searchInFulltext" ng-change="$ctrl.changeSearchInFulltext()" md-no-ink class="tiny-switch zero-margin" aria-label="{{($ctrl.searchInFulltext ? \'nui.aria.cdiFTsearch.active\' : \'nui.aria.cdiFTsearch.inactive\') | translate}}" ng-class="$ctrl.searchInFulltext ? \'active\' : \'inactive\'" layout-align="start start" data-qa="search_in_fulltext_slider_btn"><span class="slider-text-wrap" translate="nui.cdiFTsearch"></span><md-tooltip ng-if="!$ctrl.searchInFulltext"><span translate="nui.cdiFTsearch.tooltip.inactive"></span></md-tooltip><md-tooltip ng-if="$ctrl.searchInFulltext"><span translate="nui.cdiFTsearch.tooltip.active"></span></md-tooltip></md-switch></div></div><div ng-if="::$ctrl.totalResults > 1" class="sidebar-section margin-bottom-small compensate-padding-left" layout="row"><div layout="row" layout-align="start center" class="section-title"><h3 class="section-title-header"><span translate="nui.results.sortby" translate-attr-title="nui.results.sortby.tooltip"></span></h3><prm-search-result-sort-by (sort-by-change)="$ctrl.sortByChange.emit(null)"></prm-search-result-sort-by></div></div><div ng-if="::$ctrl.totalResults > 1" class="sidebar-section available-facets multiselect-facet-group" ng-repeat="facetGroup in $ctrl.facets" ng-class="$ctrl.activeMultipleFacets ? \'multiselect-active\' : \'multiselect-inactive\'"><prm-facet-group [facet-group]="::facetGroup" [displayed-type]="::facetGroup.displayedType"></prm-facet-group></div><div ng-if="::($ctrl.totalResults == 1 && $ctrl.isFiltered())"><span translate="nui.facets.nofacets"></span></div></div><div tabindex="-1" ng-if="(($ctrl.isDBSearch() && $ctrl.isDBCategories)\r\n          || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isConfigJournalCategories && $ctrl.isJournalCategories))\r\n          && $ctrl.isSearchDone()" id="dBcategorizeSearchDone" role="complementary" flex-md="25" flex-lg="25" flex-xl="20" ng-class="{\'flex-order-1\': $ctrl.facetToLeft, \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft, \'flex-xl-20\': $ctrl.mediaQueries.xl && !$ctrl.facetToLeft, \'flex-xl-25\': $ctrl.mediaQueries && $ctrl.facetToLeft,\r\n             \'padding-left-medium\': !$ctrl.pageRtlDirection(), \'padding-right-medium\': $ctrl.pageRtlDirection()}" ng-if="$ctrl.mediaQueries.gtsm || !$ctrl.showMobileFacets"><prm-databases-categorize style="display: block" tabindex="-1" ng-if="(!$ctrl.isShowPartsOnCitationTrails() || $ctrl.searchInProgress) && $ctrl.showTimer" (search-event)="$ctrl.onSearchBarSearchEvent($event)" (close-mobile-facet-event)="$ctrl.closeMobileFacet($event)" [categories-type]="::$ctrl.categoriesType"></prm-databases-categorize></div><div tabindex="-1" ng-if="$ctrl.isOrgListSearch() && $ctrl.isSearchDone() &&  $ctrl.haveOrgListCategories && $ctrl.isShowingOrganizationTree()" id="orgListCategorizeSearchDone" role="complementary" flex-md="25" flex-lg="25" flex-xl="20" ng-class="{\'flex-order-1\': $ctrl.facetToLeft, \'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus && $ctrl.facetToLeft, \'flex-xl-20\': $ctrl.mediaQueries.xl && !$ctrl.facetToLeft, \'flex-xl-25\': $ctrl.mediaQueries && $ctrl.facetToLeft,\r\n             \t\t\t\t\'padding-left-medium\': !$ctrl.pageRtlDirection(), \'padding-right-medium\': $ctrl.pageRtlDirection()}" ng-if="$ctrl.mediaQueries.gtsm || !$ctrl.showMobileFacets"><prm-orgList-categorize style="display: block" tabindex="-1" ng-if="(!$ctrl.isShowPartsOnCitationTrails() || $ctrl.searchInProgress) && $ctrl.showTimer" (search-event)="$ctrl.onSearchBarSearchEvent($event)" (set-have-org-list-categories)="$ctrl.setHaveOrgListCategories($event)" (close-mobile-facet-event)="$ctrl.closeMobileFacet($event)"></prm-orgList-categorize></div><div ng-if="($ctrl.totalResults > 1 && $ctrl.activeMultipleFacets) && !($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm)" class="multiselect-submit" role="alert" ng-class="::{\'is-active\': $ctrl.activeMultipleFacets}"><div flex-md="25" flex-lg="20" class="multiselect-submit-inner" layout="row" ng-class="{\'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus, \'flex-xl-20\': $ctrl.mediaQueries.xl, \'flex-xl-25\': $ctrl.mediaQueries}"><span class="accessible-only" translate="nui.aria.apply.filter.inst"></span><md-button ng-click="$ctrl.clearMultiFacets()" aria-label="{{::(\'nui.aria.facets.filter.clear\' | translate)}}"><span translate="nui.facets.clear"></span></md-button><md-button class="md-primary button-large md-button md-ink-ripple" ng-click="$ctrl.applyMultiFacets()" aria-label="{{::(\'nui.aria.facets.filter.apply\' | translate)}}"><span translate="nui.facets.applyfilters"></span></md-button></div></div><md-toolbar ng-if="($ctrl.totalResults > 1 && $ctrl.activeMultipleFacets)" class="default-toolbar bottom-fixed-toolbar mobile-toolbar" style="z-index: 13;" hide-gt-sm><div flex-md="25" flex-lg="20" layout="row" layout-align="space-between center" style="height: 60px; max-height: 60px" ng-class="{\'flex-lgPlus-20\': $ctrl.mediaQueries.lgPlus, \'flex-xl-20\': $ctrl.mediaQueries.xl, \'flex-xl-25\': $ctrl.mediaQueries}"><md-button ng-click="$ctrl.clearMultiFacets()" aria-label="{{::(\'nui.aria.facets.filter.clear\' | translate)}}" class="mobile-toolbar-text clear-button mobile-action-button"><span translate="nui.facets.clear"></span></md-button><md-button class="button-large md-button md-ink-ripple mobile-toolbar-text" aria-label="{{::(\'nui.aria.facets.filter.apply\' | translate)}}" ng-click="$ctrl.applyMultiFacets()"><span translate="nui.facets.applyfilters"></span></md-button><md-button id="sidebar-trigger" layout-align="end end" class="mobile-toolbar-text close-button mobile-action-button" translate-attr="{\'aria-label\': \'nui.labels.close\'}" (click)="$ctrl.closeMobileFacets()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div></md-toolbar></div><prm-facet-after parent-ctrl="$ctrl"></prm-facet-after>');
$templateCache.put('components/search/fullView/full-view-container.html','<div layout="column" layout-fill class="header topbar-wrapper" ng-if="::$ctrl.displayTopSection()"><prm-topbar></prm-topbar><h1 class="accessible-only" translate="nui.aria.page.fulldisplay"></h1><prm-search-bar class="display-none-print" ng-if="::($ctrl.showSearch  && !$ctrl.isAtozSearch && !$ctrl.isBrowseMode && !$ctrl.isNewspapersSearch && $ctrl.allowSearch())" (search-event)="$ctrl.onSearchBarSearchEvent($event)"></prm-search-bar><prm-atoz-search-bar ng-if="::($ctrl.showSearch  && $ctrl.isAtozSearch)" (search-event)="$ctrl.onSearchBarSearchEvent($event)"></prm-atoz-search-bar><prm-newspapers-search-bar ng-if="::($ctrl.showSearch  && $ctrl.isNewspapersSearch)" (search-event)="$ctrl.onSearchBarSearchEvent($event)"></prm-newspapers-search-bar><prm-browse-search-bar ng-if="$ctrl.isBrowseMode"></prm-browse-search-bar></div><prm-back-to-search-results-button class="display-none-print" ng-if="$ctrl.isShowBackToSearchResults()"></prm-back-to-search-results-button><div ng-if="$ctrl.displayBorInfoAlert()"><prm-alert-bar flex [alert-object]="$ctrl.borInfoAlert" [idp-logout]="true"></prm-alert-bar></div><md-content layout="row" layout-fill class="padded-container" ng-if="$ctrl.isShowFullview()"><h2 class="accessible-only" translate="nui.aria.fullDisResult"></h2><div class="display-none-print" flex="0" flex-md="0" flex-lg="10" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}" flex-xl="20" ng-if="!$ctrl.isRestrictedRecord()"></div><div class="accessible-only" ng-if="$ctrl.isBarcodeSearchSuccessful()" aria-label="{{\'nui.aria.barcodeResultFound\' | translate}}" role="alert" aria-live="assertive"></div><div layout="row" flex><div flex="0"></div><prm-full-view id="fullView" ng-if="$ctrl.item" [item]="$ctrl.item" flex role="dialog"></prm-full-view><div flex="0"></div></div></md-content><div layout="row" class="padded-container"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="$ctrl.mediaQueries.lgPlus ? \'flex-lgPlus-15\' : \'\'"></div><md-card class="default-card zero-margin" ng-if="$ctrl.isBarcodeSearchWithNoResults() && $ctrl.isBarcodeSearchTabSelected()" flex><md-card-title><md-card-title-text><h2 class="md-headline" translate="nui.search-barcode.noResults" translate-values="{searchTerm: $ctrl.getNoResultsBarcodeSearchTerm()}" translate-compile role="alert" aria-live="assertive"></h2></md-card-title-text></md-card-title><md-card-content><p><span translate="nui.search-barcode.noResultsText"></span></p></md-card-content></md-card><div flex="0" flex-md="25" flex-lg="25" flex-xl="30" ng-class="$ctrl.mediaQueries.lgPlus ? \'flex-lgPlus-30\' : \'\'"></div></div><prm-full-view-cont-after parent-ctrl="$ctrl"></prm-full-view-cont-after>');
$templateCache.put('components/search/fullView/full-view-dialog-template.html','<div layout="row" (keydown)="$ctrl.keydownSupport($event)"><md-dialog aria-label="Full Display" class="md-dialog-full prm-full-view-dialog"><md-dialog-content layout="row" style="overflow-y: hidden"><md-toolbar class="default-toolbar is-stuck zero-padding" layout="row" ng-if="!$ctrl.mediaQueries.gtsm"><div class="md-toolbar-tools zero-padding display-block" layout="row"><md-button class="back-button has-text padding-left-right-small" (click)="$ctrl.handleHideDetails()" aria-label="{{\'nui.aria.fulldisplay.closeButton\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><span translate="fulldisplay.deatiles.back"></span></md-button></div><div class="next-prev-buttons" style="display: flex" layout="row" layout-align="center center" hide-gt-md><md-button aria-label="{{::(\'nui.aria.fulldisplay.goToPreviousButton\' | translate)}}" ng-if="!$ctrl.isFirstRecord()" class="md-icon-button md-button md-ink-ripple close-button prev-rec-btn" ng-click="$ctrl.getPreviousRecord()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up"></prm-icon></md-button><md-button aria-label="{{::(\'nui.aria.fulldisplay.goToNextButton\' | translate)}}" ng-if="!$ctrl.isLastRecordByState()" class="md-icon-button md-button md-ink-ripple close-button next-rec-btn" ng-click="$ctrl.getNextRecord()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down"></prm-icon></md-button></div></md-toolbar><sticky-scroll flex="100" style="overflow-y: scroll;"><prm-full-view flex="100" id="fullView" ng-repeat="item in $ctrl.currentStateResults()" ng-if="$ctrl.dialogOpened.val && $index === $ctrl.currentResultIndex()" [load-full-view-additional-services]="$ctrl.loadFullViewAdditionalServices.val" [is-overlay-full-view]="true" [isfavorites]="$ctrl.isfavorites" [item]="::item" [focus-id]="$ctrl.getFocusId()" [originator]="$ctrl.originator" id="fullView" tabindex="-1" role="contentinfo" aria-label="{{\'nui.aria.navigationRegionFullView\' | translate}}" [is-first-item]="$ctrl.isFirstRecord()" [is-last-item]="$ctrl.isLastRecordByState()" ng-class="{\'padding-top-medium\':$ctrl.mediaQueries.xs}" [dialog-hidden]="$ctrl.isDialogHidden()"></prm-full-view></sticky-scroll></md-dialog-content></md-dialog><md-button aria-label="{{::(\'nui.aria.fulldisplay.goToPreviousButton\' | translate)}}" class="md-icon-button md-button md-ink-ripple close-button full-view-navigation" ng-if="$ctrl.mediaQueries.gtsm && !$ctrl.isFirstRecord()" ng-click="$ctrl.getPreviousRecord()" style="position: absolute;\r\n            top: 0;\r\n           /* left: 0;*/\r\ntransform: translateY(-80%);"><md-tooltip md-direction="top"><span translate="nui.results.previous.tooltip"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up"></prm-icon></md-button><md-button class="md-icon-button close-button full-view-navigation" ng-if="$ctrl.mediaQueries.gtsm" (click)="$ctrl.handleHideDetails($ctrl.item)" aria-label="{{\'nui.aria.fulldisplay.closeButton\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button><md-button aria-label="{{::(\'nui.aria.fulldisplay.goToNextButton\' | translate)}}" class="md-icon-button md-button md-ink-ripple close-button full-view-navigation" ng-if="$ctrl.mediaQueries.gtsm && !$ctrl.isLastRecordByState() " ng-click="$ctrl.getNextRecord()" style="position: absolute;\r\n            bottom: 0;\r\n            /*left: 0;*/\r\ntransform: translateY(80%);"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="nui.results.next.tooltip"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down"></prm-icon></md-button></div>');
$templateCache.put('components/search/fullView/full-view.html','<div aria-labelledby="modalTitle" aria-describedby="modalDescription"><div role="document"><div id="modalDescription" ng-if="$ctrl.isSearchResults()" class="accessible-only" translate="{{\'nui.fulldisplay.dialog.description\' | translate:\'{title: \\\'\'+($ctrl.getRecoredTitle($ctrl.firstLine.values[0].text[0]))+\'\\\'}\'}}"></div><h1 class="accessible-only" id="modalTitle" ng-if="$ctrl.isSearchResults()">{{\'nui.aria.page.searchResults\' | translate}}</h1><div ng-if="!$ctrl.isRestrictedRecord()" class="layout-column-print" ng-class="{\'\': $ctrl.isOverlayFullView , \'layout-row\': !$ctrl.isOverlayFullView && $ctrl.mediaQueries.gtsm, \'layout-column\': !$ctrl.isOverlayFullView && $ctrl.mediaQueries.sm}"><div class="full-view-container flex" layout-xs="column" layout-sm="column" layout-gt-sm="row" id="full-view-container" flex><div class="full-view-inner-container" flex ng-class="{\'flex-basis-auto-ie11\': !$ctrl.isOverlayFullView }"><div ng-if="::$ctrl.displayServicesIndex()" class="services-index-under" hide-xs role="navigation" translate-attr="{\'aria-label\': \'nui.aria.items.services\' }"><div id="services-index" layout="column" layout-align="start start" sticky offset="35"><div ng-if="!$ctrl.isOverlayFullView" style="height: 2em;"></div><md-button translate-attr="{\'aria-label\': \'nui.aria.fullView.service\'}" translate-values="{\'service\': $ctrl.translateLabel(\'{{service.title}}\')}" class="zero-margin button-right-align button-link" ng-class="($ctrl.shouldAddSearchWithinClass(service)) ? \'search-within-p-only\' : \'\'" ng-repeat="service in $ctrl.services track by service.scrollId" ng-click="$ctrl.scrollToElementIdWithBeacon(service.scrollId);$ctrl.sendNavigateToTabBeacon(service.scrollId);" ng-if="!service.isDisabled && $ctrl.showConditionalService(service) && !service.isHidden && $ctrl.displayServiceForRapido(service)"><span translate="{{service.title}}"></span><md-tooltip md-delay="400" md-direction="left"><span translate="{{service.title}}"></span></md-tooltip></md-button><div ng-if="::($ctrl.enableSU())" class="accessible-hide"></div><md-button ng-if="::$ctrl.isOverlayFullView && !$ctrl.isLastRecordByState()" class="accessible-close zero-margin button-link" (click)="$ctrl.getNextRecord()" aria-label="{{::(\'nui.aria.fulldisplay.goToNextButton\' | translate)}}"><span translate="nui.aria.fulldisplay.nextButton.short"></span></md-button><md-button ng-if="::$ctrl.isOverlayFullView && !$ctrl.isFirstRecord()" class="accessible-close zero-margin button-link" (click)="$ctrl.getPreviousRecord()" aria-label="{{::(\'nui.aria.fulldisplay.goToPreviousButton\' | translate)}}"><span translate="nui.aria.fulldisplay.previousButton.short"></span></md-button><md-button ng-if="::$ctrl.isOverlayFullView" class="accessible-close zero-margin button-link" (click)="$ctrl.closeDialog()" aria-label="{{::(\'nui.aria.fulldisplay.closeButton\' | translate)}}"><span translate="nui.aria.fulldisplay.closeButton.short"></span></md-button></div></div><div ng-attr-id="{{$ctrl.services[0].scrollId}}" tabindex="-1"><prm-full-view-service-container [load-additional-services]="$ctrl.loadFullViewAdditionalServices || !$ctrl.isOverlayFullView" [item]="::$ctrl.item" [isfavorites]="$ctrl.isfavorites" [service]="$ctrl.services[0]" [is-overlay-full-view]="$ctrl.isOverlayFullView"></prm-full-view-service-container></div><div class="full-view-section" tabindex="-1" ng-class="($ctrl.shouldAddSearchWithinClass(service)) ? \'search-within-p-only\' : \'\'" ng-repeat="service in $ctrl.services.slice(1) track by $index" ng-attr-id="{{service.scrollId}}" ng-if="!service.isDisabled"><div class="full-view-section-content" ng-if="$ctrl.showConditionalService(service) && !service.isHidden && !service.isDisabled"><prm-full-view-service-container [load-additional-services]="$ctrl.loadFullViewAdditionalServices || !$ctrl.isOverlayFullView" [item]="::$ctrl.item" [service]="service" [index]="::$index" [is-overlay-full-view]="::$ctrl.isOverlayFullView"></prm-full-view-service-container></div></div><div ng-if="::($ctrl.enableSU())" class="syndetic-unbound-section"><prm-syndetic-unbound [item]="::$ctrl.item"></prm-syndetic-unbound></div></div><div layout="column" flex-md="30" flex-lg="25" flex-xl="40" flex ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}" ng-if="(($ctrl.bxdisplay || $ctrl.enableSU() || $ctrl.displayLinkedData) && $ctrl.isOverlayFullView)" class="full-view-aside"><div ng-if="($ctrl.displayLinkedData && $ctrl.isOverlayFullView)" layout="row"><prm-linked-data [linked-data]="$ctrl.linkedData" flex-xl="50" flex-sm="90" ng-class="{\'margin-left-large\': $ctrl.mediaQueries.gtsm}" class="width-100"></prm-linked-data><div flex-xl="50" flex-sm="10"></div></div><div ng-if="::(($ctrl.bxdisplay || $ctrl.enableSU()) && $ctrl.isOverlayFullView)" class="display-contents" flex-md="25" flex-lg="25" flex-xl="50" flex><prm-recomendations [item]="::$ctrl.item" [(bxdisplay)]="$ctrl.bxdisplay"></prm-recomendations><div class="unbound_similar"></div></div><div flex-xl="60" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div></div><div class="full-view-spacer" ng-if="(!($ctrl.bxdisplay || $ctrl.enableSU() || $ctrl.displayLinkedData)  && $ctrl.isOverlayFullView)" flex="0" flex-md="0" flex-lg="20" flex-xl="30" ng-class="{\'flex-lgPlus-25\': $ctrl.mediaQueries.lgPlus}"></div></div><div ng-if="(($ctrl.bxdisplay || $ctrl.enableSU() || $ctrl.displayLinkedData) && !$ctrl.isOverlayFullView)" layout="column" flex-md="25" flex-lg="25" flex-xl="35" ng-class="{\'flex-lgPlus-25\': $ctrl.mediaQueries.lgPlus}" flex class="full-view-additional-info-side-bar"><div ng-if="($ctrl.displayLinkedData && !$ctrl.isOverlayFullView)" class="not-full-view-overlay" layout="row"><prm-linked-data [linked-data]="$ctrl.linkedData" flex-xl="60" flex-sm="90" ng-class="{\'margin-left-large\': $ctrl.mediaQueries.gtsm}" class="width-100"></prm-linked-data></div><div ng-if="::(($ctrl.bxdisplay || $ctrl.enableSU()) && !$ctrl.isOverlayFullView)" flex-md="25" flex-lg="25" flex-xl="20" flex><prm-recomendations [item]="::$ctrl.item" [bxenable]="::$ctrl.bxenable" [(bxdisplay)]="::$ctrl.bxdisplay"></prm-recomendations><div class="unbound_similar"></div></div><div flex="0" flex-gt-md="5" flex-xl="20" ng-class="{\'flex-lgPlus-10\': $ctrl.mediaQueries.lgPlus}"></div></div><div class="full-view-spacer" ng-if="(!($ctrl.bxdisplay || $ctrl.enableSU() || $ctrl.displayLinkedData)  && !$ctrl.isOverlayFullView)" flex="0" flex-md="0" flex-lg="20" flex-xl="30" ng-class="{\'flex-lgPlus-25\': $ctrl.mediaQueries.lgPlus}"></div></div><div ng-if="$ctrl.isRestrictedRecord()" class="margin-bottom-medium zero-padding-bottom ng-scope" layout="row" layout-align="center center"><prm-sign-in-to-view flex-sm="50" flex-xs="90" flex-lg="30"></prm-sign-in-to-view></div></div><div tabindex="-1" layout="row" layout-align="center center" hide-gt-xs ng-if="$ctrl.isReportProblem()"><md-button class="button-with-icon report-problem-fullview-mobile" ng-click="$ctrl.openReportFromFullView()" translate-attr="{\'aria-label\': \'nui.aria.openReportProblem\'}" data-qa="open_report_problem_btn_mobile_fullview"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="exclamation-mark"></prm-icon><span translate="report.Title"></span></md-button></div></div><prm-full-view-after parent-ctrl="$ctrl"></prm-full-view-after>');
$templateCache.put('components/search/fullView/sign-in-to-view.html','<div flex-gt-lg="15" flex="0"></div><md-card class="default-card"><md-card-content><h2 class="light-text" translate="nui.search.error.permalink.header"></h2><p><span ng-repeat="message in $ctrl.getMessages()" class="display-block" translate="{{message}}"></span></p><md-card-actions class="md-actions layout-padding layout-align-end-center layout-row" layout="row" layout-align="end center" ng-if="$ctrl.displaySignInButton()"><button ng-click="$ctrl.handleLogin()" class="button-confirm zero-margin button-with-icon md-button md-ink-ripple" type="button" aria-label="{{\'nui.search.error.aria.permalink.signIn\' | translate}}"><prm-icon icon-type="{{$ctrl.signInIcon.signInToViewPermalimk.type}}" svg-icon-set="{{$ctrl.signInIcon.signInToViewPermalimk.iconSet}}" icon-definition="{{$ctrl.signInIcon.signInToViewPermalimk.icon}}"></prm-icon><span class="ng-scope" translate="nui.search.error.permalink.signIn"></span><div class="md-ripple-container"></div></button></md-card-actions></md-card-content></md-card><div flex-gt-lg="15" flex="0" class="flex-gt-lg-15 flex-0"></div><prm-sign-in-to-view-after parent-ctrl="$ctrl"></prm-sign-in-to-view-after>');
$templateCache.put('components/search/moreLikeThis/more-like-this.html','<div class="more-from-the-same-box"><div ng-class="{\'animate-max-height\':$ctrl.externalLinksCollapse}" class="external-links" layout="column" layout-align="center start"><div ng-repeat="item in $ctrl.sameByFields" class="courseLinks" ng-if="$ctrl.sameByField === \'crs\'"><a class="arrow-link padding-bottom-zero" ng-if="item.isLinkable" ng-click="$ctrl.sendLinkToLegantoBeacon()" href="{{item.link}}" target="_BLANK" aria-label="{{item.name}}{{\' \'}}{{item.tooltip}}" title="{{item.tooltip}}"><span>{{item.name}}</span><prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon></a><span title="{{item.name}}" ng-if="!item.isLinkable">{{item.name}}</span></div><div ng-repeat="item in $ctrl.sameByFields" class="collectionsLinks" ng-if="$ctrl.sameByField === \'col\'" (click)="$ctrl.closeDialog()"><prm-collection-navigation-breadcrumbs-item layout="row" class="arrow-link" [path-object]="item" [is-root-object]="false" [institution]="$ctrl.institution" [parent-tab]="\'moreFromTheSame\'"></prm-collection-navigation-breadcrumbs-item></div></div><md-button ng-if="$ctrl.isExternalBtnShown()" class="section-title expend-more-links" layout="row" layout-align="end center" layout-fill hide-xs aria-expanded="{{$ctrl.externalLinksCollapse}}" (click)="$ctrl.toggleFacet($event)" ng-class="{\'collapsed\':  $ctrl.externalLinksCollapse}" aria-label="{{$ctrl.getExpandAriaLabel() | translate}}" translate-attr-title=""><div layout="row" layout-align="start center"><h4 class="all-curses-title" translate="{{$ctrl.getExpandTabType()}}"></h4><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down" ng-class="{\'rotate-180\': $ctrl.externalLinksCollapse}"></prm-icon></div></md-button></div><md-divider flex="" class="md-primoExplore-theme flex" style="margin-top: 1em;"></md-divider><div style="position: relative" class="horizontal-content-scroller"><div tabindex="-1" class="container-nav-controls"><md-button tabindex="0" aria-label="{{\'nui.aria.moreFromTheSame.previous\' | translate}}" ng-disabled="$ctrl.isLeftScrollDisabled" ng-keypress="$ctrl.previous($event)" ng-mousedown="$ctrl.scrollLeftMouseDown();$event.stopPropagation()" ng-mouseup="$ctrl.scrollMouseUp();$event.stopPropagation()" class="nav-control nav-left"><md-tooltip><span ng-bind-html="\'virtualbrowse.button.previous\' | translate"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon></md-button></div><md-virtual-repeat-container dir="ltr" role="application" id="prm-more-like-this" md-top-index="$ctrl.currentIndex" ng-keyup="$ctrl.handleKeyUp($event)" md-orient-horizontal><ul tabindex="-1" layout="row" layout-align="start start" role="presentation"><div id="scrollCourseList"><li in-view="$ctrl.onItemInView($index, $inview, $inviewInfo)" in-view-options="{generateDirection: true, throttle: 50}" md-virtual-repeat="moreInTheSameCourseItem in $ctrl.dynamicMoreLikeThisItems" ng-click="$ctrl.navigateToItemFullView(moreInTheSameCourseItem, $index);$event.stopPropagation();" id="moreFromTheSameID{{$ctrl.sameByField}}{{$index}}" tabindex="0" role="link" ng-focus="$ctrl.focusSupport($event)" ng-blur="$ctrl.focusOutSupport($event)" ng-keydown="$ctrl.keyDownSupport($event,moreInTheSameCourseItem);" md-item-size="110" md-on-demand ng-mouseenter="highlightItem = true" ng-mouseleave="highlightItem = false" ng-class="{\'md-whiteframe-2dp\': highlightItem, \'md-whiteframe-5dp current-item\': $index == $ctrl.focusedIndex}"><a tabindex="-1" ui-state="$ctrl.getStateName()" ui-state-params="$ctrl.getItemFullViewParams(moreInTheSameCourseItem)" ui-sref-opts="{reload: true}"><prm-more-like-this-item ng-style="{\'color\': \'hsl({{(($index+50)*$index)/2}}, 30%, 70%)\'}" [item]="$ctrl.item" [more-in-the-same-course-item]="moreInTheSameCourseItem"></prm-more-like-this-item></a></li></div></ul></md-virtual-repeat-container><div tabindex="-1" class="container-nav-controls"><md-button tabindex="0" aria-label="{{\'nui.aria.moreFromTheSame.next\' | translate}}" ng-disabled="$ctrl.isRightScrollDisabled" ng-keypress="$ctrl.next($event)" ng-mousedown="$ctrl.scrollRightMouseDown();$event.stopPropagation()" ng-mouseup="$ctrl.scrollMouseUp();$event.stopPropagation()" class="nav-control nav-right"><md-tooltip><span ng-bind-html="\'virtualbrowse.button.next\' | translate"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></div></div><prm-more-like-this-after parent-ctrl="$ctrl"></prm-more-like-this-after>');
$templateCache.put('components/search/preFilters/pre-filters.html','<div layout="row" class="container" flex flex-xs="100"><md-input-container ng-repeat="(type, filter) in $ctrl.filters" ng-class="{\'is-active\': $ctrl.isActive(filter)}" ng-if="filter.display"><md-select ng-if="filter.options" ng-model="filter.selection" ng-change="$ctrl.onChanged(type, filter.selection)" translate-attr="{\'aria-label\': $ctrl.preFilterHeader()+\' \'+($ctrl.getLabel(filter.translatePrefix,filter.selection))}"><md-option ng-repeat="option in filter.options" value="{{option}}"><span>{{::$ctrl.getTranslateOptionLabel(filter, option)}}</span></md-option></md-select></md-input-container><md-button class="accessible-close zero-margin md-icon-button" (click)="$ctrl.search()" aria-label="{{\'nui.aria.submitSearch\' | translate}}"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon></md-button></div><div class="accessible-only" ng-if="$ctrl.isPreFiltersAlert()" role="alert" aria-live="assertive">{{$ctrl.getPreFiltersAlert()}}</div><prm-pre-filters-after parent-ctrl="$ctrl"></prm-pre-filters-after>');
$templateCache.put('components/search/quickLink/quick-link.html','<div class="spaced-rows"><span translate="fulldisplay.unpaywall.noLinks" ng-if="$ctrl.showNoLinksErrorlabel && $ctrl.isFullDisplay"></span><div ng-if="$ctrl.hasQuickLink()" layout="{{!$ctrl.isToDisplayIcons() ? \'column\' : \'row\'}}"><a ng-repeat="link in $ctrl.getQuickLinks()" layout="row" role="link" href="{{link.url}}" ng-click="$ctrl.runQuickLinks(link); $event.stopPropagation();" target="_blank" class="neutralized-button arrow-link" ng-style="!$ctrl.isToDisplayIcons() && {\'margin\':\'0\'}" aria-label="{{ ::$ctrl.getLinkAriaLabel(link) }}"><prm-icon class="quick-links-icons" icon-type="svg" svg-icon-set="primo-ui" ng-if="$ctrl.isToDisplayIcons()" icon-definition="{{$ctrl.iconByType(link)}}"></prm-icon><span ng-class="::{\'quick-link-type\': !$ctrl.isToDisplayIcons()}" translate="{{link.label}}"></span><md-tooltip><span translate="{{link.tooltip}}"></span></md-tooltip><prm-icon external-link class="bla" icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon><prm-icon link-arrow icon-type="{{::$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.arrowRight.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></a></div></div><prm-quick-link-after parent-ctrl="$ctrl"></prm-quick-link-after>');
$templateCache.put('components/search/referenceEntry/reference-entry-item.html','<div ng-cloak class="reference-entry-item-inner" ng-if="$ctrl.item"><div class="reference-entry-content" ng-class="{\'is-cropped\': $ctrl.descCropped }" layout="column"><h2 class="reference-entry-type"><span translate="reference_entry.mediatype.about_the_topic"></span></h2><h3 class="item-title">{{$ctrl.item.pnx.display.title[0]}}</h3><div layout="row" class="ref-entry-info-row"><div class="margin-right-large relative-position" flex="75"><p id="reference-entry-description">{{$ctrl.description[0]}}</p><md-button aria-label="{{ $ctrl.getViewMoreLessAriaLabel() }}" class="md-primary" ng-class="{\'text-rtl\': $ctrl.switchToLtrString()}" ng-if="$ctrl.showViewMoreButton" ng-click="$ctrl.toggleDescCropped(); $event.stopPropagation(); $ctrl.sendReferenceEntryBeacon();"><span translate="{{$ctrl.getViewMoreButtonText()}}"/></md-button></div><div class="margin-right-large" flex="25"><p ng-if="$ctrl.sourceString"><span class="bold-text" translate="reference_entry.source"></span> {{$ctrl.sourceString}}</p><p ng-if="$ctrl.createdField"><span class="bold-text" translate="reference_entry.created"></span> {{$ctrl.createdField}}</p></div></div></div><div class="reference-entry-footer" layout="row"><div class="search-result-availability-line-wrapper"><prm-search-result-availability-line tabindex="-1" [result]="::$ctrl.item" ng-click="$event.stopPropagation()" (open-full-display-with-getit1)="$ctrl.openFullViewDialog($event)" ; [is-ref-entry]="true"></prm-search-result-availability-line></div></div></div><prm-reference-entry-item-after parent-ctrl="$ctrl"></prm-reference-entry-item-after>');
$templateCache.put('components/search/resourceRecommender/banner-card-content.html','<a href="{{::$ctrl.banner.url}}" target="_blank" tabindex="0" id="rscBanner" class="banner-container-ctm" ng-click="$ctrl.onBannerClick()" aria-label="{{(\'nui.aria.resRecomm.recommendedRsrc.type.label.banner\' | translate:\'{mainTitle: \\\'\'+ $ctrl.banner.main_title +\'\\\', urlText: \\\'\'+ $ctrl.banner.url_text +\'\\\'}\')}}"><div class="banner-content banner-cover-image" title="{{$ctrl.banner.main_title}}" style="background-image: url({{$ctrl.banner.image_url}}); height: inherit"><md-card-title class="zero-padding"><md-card-title-text md-truncate><md-truncate class="banner-subhead main-text-banner"><span class="banner-display-name">{{::$ctrl.banner.name}}</span></md-truncate><md-truncate class="bigger-title main-text-banner"><h2 class="banner-title bold-text" role="alert" aria-label="{{\'nui.aria.resRecomm.recommendedRsrc.type.label.bannerAlert\' | translate}}">{{::$ctrl.banner.main_title}}</h2></md-truncate><md-truncate class="banner-subhead main-text-banner"><span class="banner-description">{{::$ctrl.banner.description}}</span></md-truncate></md-card-title-text></md-card-title><md-card-content layout="row" layout-align="center center" class="url-text" title="{{::$ctrl.banner.url_text}}"><md-truncate><span class="bold-text">{{::$ctrl.banner.url_text}}</span></md-truncate><prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon></md-card-content></div></a><prm-banner-card-content-after parent-ctrl="$ctrl"></prm-banner-card-content-after>');
$templateCache.put('components/search/resourceRecommender/resource-recommender-card-content.html','<div ng-class="::{\'layout-row\': $ctrl.resource.resourceType != \'library_information\'}"><div class="resource-image" ng-if="::$ctrl.resource.image_url"><div class="resource-image-inner" ng-class="::{\'person-image\': $ctrl.resource.resourceType===\'person\', \'normlized-resource-image\': $ctrl.resource.resourceType!=\'library_information\'}"><img class="md-card-image" ng-src="{{::$ctrl.resource.image_url}}" alt="{{::$ctrl.resource.name}} {{(\'nui.mediatype.image\' | translate)}}"/></div></div><div class="resource-content" layout-fill><div class="normal-text resource-title resource-texts-row"><div><span ng-if="::(!$ctrl.resource.url_text && !$ctrl.resource.url) || $ctrl.resource.url_text">{{::$ctrl.resource.name}}</span></div><a md-autofocus="$ctrl.index===0" ng-if="::$ctrl.resource.url" ng-href="{{::$ctrl.resource.url}}" target="_blank" ng-click="$ctrl.handle_click()" aria-label="{{((\'nui.aria.resRecomm.recommendedRsrc.type.label.\'+$ctrl.resource.resourceType) | translate)}}{{::($ctrl.resource.url_text|| $ctrl.resource.name || $ctrl.resource.url)}}">{{::($ctrl.resource.url_text|| $ctrl.resource.name || $ctrl.resource.url)}}</a></div><div ng-if="::$ctrl.resource.description"><p ng-if="::$ctrl.resource.description" style="word-wrap: break-word">{{::$ctrl.resource.description}}</p></div><div ng-if="::$ctrl.resource.email"><p ng-if="::$ctrl.resource.email" style="word-wrap: break-word"><a ng-if="::$ctrl.resource.email" ng-href="mailto:{{::$ctrl.resource.email}}" ng-click="$ctrl.handle_click()" aria-label="{{((\'nui.aria.resRecomm.recommendedRsrc.type.label.\'+$ctrl.resource.resourceType) | translate)}}{{::$ctrl.resource.email_text||$ctrl.resource.email}}"><prm-icon class="md-icon-button-custom" icon-type="svg" svg-icon-set="primo-actions" icon-definition="email"></prm-icon>{{::$ctrl.resource.email_text||$ctrl.resource.email}}</a></p></div></div></div><prm-resource-recommender-card-content-after parent-ctrl="$ctrl"></prm-resource-recommender-card-content-after>');
$templateCache.put('components/search/resourceRecommender/resource-recommender-dialog-template.html','<div layout="row"><md-dialog aria-label="Full Display" class="prm-resource-recommendations-fullview md-dialog-full prm-full-view-dialog"><md-dialog-content layout="row" style="overflow-y: hidden; height: 100%;"><md-toolbar class="default-toolbar is-stuck zero-padding" ng-if="!$ctrl.mediaQueries.gtsm"><div class="md-toolbar-tools zero-padding" layout="row"><md-button class="back-button has-text padding-left-medium" (click)="$ctrl.dialog.hide()" aria-label="{{\'nui.aria.fulldisplay.closeButton\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><span translate="fulldisplay.deatiles.back"></span></md-button></div></md-toolbar><sticky-scroll flex="100" style="overflow-y: scroll;"><prm-resource-recommender-full-view [query]="$ctrl.query" [resources]="$ctrl.resources"></prm-resource-recommender-full-view></sticky-scroll></md-dialog-content></md-dialog><md-button class="md-icon-button close-button" ng-click="$ctrl.dialog.hide()" ng-if="$ctrl.mediaQueries.gtsm" aria-label="{{\'nui.aria.resRecomm.closeButton\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div>');
$templateCache.put('components/search/resourceRecommender/resource-recommender-full-view.html','<div class="padding-large prm-recommendations-fullview" layout="column"><div class="padding-medium"><h2 translate="nui.resRecomm.full.title" class="zero-margin-bottom"></h2><span translate="nui.resRecomm.full.description"></span> <span class="bold-text italic-text">{{$ctrl.query}}</span></div><div class="padding-medium padding-left-large" layout="row" ng-class="{\'margin-left-small\': $ctrl.mediaQueries.gtxs}"><div flex="60" layout="column"><div class="resource-item" ng-repeat="resource in $ctrl.otherResources"><span class="resource-count ng-binding">{{$index + 1}}</span><div class="resource-type" translate="{{::(\'nui.resRecomm.type.label.\'+resource.resourceType)}}"></div><prm-resource-recommender-card-content [resource]="resource" [index]="$index"></prm-resource-recommender-card-content></div></div><div class="max-width-100" layout="column" flex="40" ng-class="{\'padding-left-large\': $ctrl.mediaQueries.gtxs}"><md-card ng-repeat="resource in $ctrl.libraryResources"><md-card-title><md-card-title-text translate="{{::(\'nui.resRecomm.type.label.\'+resource.resourceType)}}"><br></md-card-title-text></md-card-title><md-card-content layout="row"><prm-resource-recommender-card-content [resource]="resource"></prm-resource-recommender-card-content></md-card-content></md-card></div></div><div><md-button class="accessible-close zero-margin button-link" (click)="$ctrl.closeDialog()" aria-label="{{::(\'nui.aria.resRecomm.closeButton\' | translate)}}"><span translate="nui.aria.fulldisplay.closeButton.short"></span></md-button></div></div><prm-resource-recommender-full-view-after parent-ctrl="$ctrl"></prm-resource-recommender-full-view-after>');
$templateCache.put('components/search/resourceRecommender/resource-recommender.html','<div ng-if="$ctrl.displayBanner()" class="main-banner-content margin-bottom-medium"><md-card><prm-banner-card-content [banner]="$ctrl.banner"></prm-banner-card-content></md-card><md-button class="zero-margin md-icon-button" ng-click="$ctrl.closeBanner()" translate-attr="{\'aria-label\': \'nui.aria.resRecomm.recommendedRsrc.type.label.closeBanner\'}" data-qa="close_banner_btn"><md-tooltip md-delay="400"><span translate="results.banner.closeBanner"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div><div layout="column" layout-sm="column" ng-if="$ctrl.previewResources && $ctrl.previewResources.length"><h2 class="accessible-only"><span translate="nui.aria.resource.resourceRecommender"></span></h2><div layout="row"><div layout="row" flex><md-card ng-repeat="resource in $ctrl.previewResources| limitTo:$ctrl.resourceRecommenderLimit()" ng-class="$ctrl.previewClass" class="one-slot"><h2 class="resource-header" layout="column" layout-align="center start" translate="{{::(\'nui.resRecomm.type.label.\'+resource.resourceType)}}"></h2><md-card-content layout="row"><prm-resource-recommender-card-content [resource]="::resource" class="max-width-100"></prm-resource-recommender-card-content></md-card-content></md-card></div></div><div layout="column" layout-align="center end"><md-button class="button-as-link link-alt-color zero-margin" ng-click="$ctrl.openFullView()" ng-if="$ctrl.showAdditionalResourcesLink()"><span class="bold-text ng-binding ng-scope" translate="nui.resRecomm.brief.fullviewLink" translate-values="{\'idx_0\' : $ctrl.numOfResources()}"></span></md-button></div></div><prm-resource-recommender-after parent-ctrl="$ctrl"></prm-resource-recommender-after>');
$templateCache.put('components/search/resourceTypeFilterBar/resource-type-filter-bar.html','<div layout="row" class="container" flex flex-xs="100"><div layout="row" class="box"><md-button class="resource-type-option" ng-class="{\'selectedResourceTypeOption\' : $ctrl.filterSelection == resource }" ng-repeat="resource in $ctrl.resourceTypesFilter" ng-click="$ctrl.onChanged(resource); $ctrl.sendResourceTypeBeacon(resource)" aria-label="{{$ctrl.getAriaLabel(resource)}}" data-qa="{{\'resource_type_filter_\'+ $index + \'_button\'}}"><div><prm-icon icon-type="svg" svg-icon-set="primo-resource-type" icon-definition="{{resource}}" fall-back-definition="other"></prm-icon><span>{{::$ctrl.getTranslatedOptionLabel(resource)}}</span></div></md-button><md-input-container ng-if="$ctrl.enableMoreResourceDropDown" ng-class="{\'is-active\': $ctrl.isActive(filter)}"><md-select aria-label="{{\'nui.aria.resourcesFiltersBar.More\' | translate}}" placeholder="{{\'nui.results.resourcesFiltersBar.More\' | translate}}" ng-if=" $ctrl.MoreResourceTypes" ng-model="$ctrl.morefilterSelection" ng-change="$ctrl.onChanged($ctrl.morefilterSelection);$ctrl.sendResourceTypeBeacon($ctrl.morefilterSelection)" ng-click="$ctrl.sendMoreResourceTypeBeacon()" data-qa="resource_type_filter_dropdown"><md-option ng-repeat="resource in $ctrl.MoreResourceTypes" aria-label="{{$ctrl.getAriaLabel(resource)}}" value="{{resource}}"><prm-icon icon-type="svg" svg-icon-set="primo-resource-type" icon-definition="{{resource}}" class="margin-right-small-multi-language" fall-back-definition="other"></prm-icon><span class="DropdownResource">{{::$ctrl.getTranslatedOptionLabel(resource)}}</span></md-option></md-select></md-input-container></div></div><prm-resource-type-filter-bar-after parent-ctrl="$ctrl"></prm-resource-type-filter-bar-after>');
$templateCache.put('components/search/scroller/scroll.html','<prm-scroll-after parent-ctrl="$ctrl"></prm-scroll-after>');
$templateCache.put('components/search/searchBar/advanced-search-header.html','<div layout="row" class="form-focus display-block"><md-tabs md-selected="$ctrl.selectedTabIndex" md-dynamic-height md-border-bottom class="default-tabs" flex md-no-ink="true" role="region"><md-tab id="advanced-search-tab1" data-qa="search_criteria_tab" md-on-select="$ctrl.onTabSelect(\'searchCriteria\')"><md-tab-label><span translate="nui.search-advanced.searchCriteria"></span></md-tab-label><md-tab-body><form class="search-element layout-full-width" name="advancedSearch" (submit)="advancedSearch.$valid && $ctrl.search()"><div layout="column" flex layout-xs="column" class="advanced-search-tabs" id="advancedSearchTabs" ng-class="{\'flex-basis-auto\': $ctrl.isIe} && {\'shrink-content\': !$ctrl.openCloseSearchFilterButton}"><md-card class="zero-margin marginless-inputs padded-container" layout="{{$ctrl.mediaQueries.gtmd ? \'row\' : \'column\'}}" layout-align="{{$ctrl.mediaQueries.gtmd ? \'space-between center\' : \'start start\'}}"><div class="input-cell" ng-if="$ctrl.searchTabs.length > 1" layout="row" layout-wrap layout-align="start center"><span id="searchFieldsGroupAdvancedSearch" translate="search-advanced.search.title" class="bold-text"></span><md-radio-group aria-labelledby="searchFieldsGroupAdvancedSearch" ng-model="$ctrl.selectedSearchTab" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" layout="row" ng-change="$ctrl.changeSearchFields()" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" layout-wrap><md-radio-button ng-repeat="tab in $ctrl.searchTabs" value="{{tab}}" class="md-primary" aria-label="{{\'tabbedmenu.\'+tab+\'.label\' | translate}}"><span translate="tabbedmenu.{{tab}}.label"></span><md-tooltip md-delay="400"><span translate="tabbedmenu.{{tab}}.tooltip"></span></md-tooltip></md-radio-button></md-radio-group></div><div class="input-cell"><md-input-container ng-if="$ctrl.scopesOptions.length > 1" class="underlined-input zero-margin" layout="row" layout-align="start center"><label translate="search-advanced.scopes.label" class="bold-text width-auto"></label><md-select ng-model="$ctrl.scope" ng-change="$ctrl.onChange()" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}"><md-option ng-repeat="scope in $ctrl.scopesOptions" value="{{scope}}"><span translate="scopes.option.{{scope}}" role="button" alt="{{\'search-advanced.scopes.label\' | translate}}"></span></md-option></md-select></md-input-container></div></md-card><md-divider tabindex="-1"></md-divider><div layout="row" flex layout-xs="column" ng-class="{\'flex-basis-auto\': $ctrl.isIe}"><md-card layout="column" layout-align="start start" flex class="zero-margin marginless-inputs padded-container" role="region" translate-attr="{\'aria-label\': \'nui.aria.queryParts\'}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}"><div layout="column" layout-align="start start" class="layout-full-width"><fieldset><legend translate="nui.search-advanced.searchFilters"></legend><div layout="row" ng-repeat="row in $ctrl.rowArray | limitTo: $ctrl.limit" class="inputs-row animate-input layout-full-width" ng-class="{\'display-inline\': $ctrl.mediaQueries.xs}"><md-input-container class="underlined-input tiny-bold uppercase" ng-if="!$first && $ctrl.boolOptions.length > 0"><md-select tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" translate-attr="{\'aria-label\': \'{{\'nui.aria.advanced.boolean\' | translate:\'{number: \\\'\'+($index+1)+\'\\\'}\'}}\'}" ng-model="row.boolOperator " ng-change="$ctrl.onChange()"><md-option ng-repeat="bool in $ctrl.boolOptions" ng-value="bool"><span translate="search-advanced.boolOperator.option.{{bool}}" role="button"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input" ng-if="$ctrl.searchCategoryOptions.length > 0"><md-select tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" aria-live="{{$ctrl.isBarcodeSearchTabSelected() ? \'\' : \'assertive\' }}" translate-attr="{\'aria-label\': \'{{\'nui.aria.advanced.field\' | translate:\'{number: \\\'\'+($index+1)+\'\\\'}\'}}\'}" ng-disabled="row.searchOperator == \'startswith\' && $ctrl.disableCategoryField" ng-model="row.searchCategory" ng-change="$ctrl.onChange()"><md-option ng-repeat="category in $ctrl.getSearchCategoryOptions($index)" ng-value="category"><span translate="search-advanced.scope.option.nui.advanced.index.{{category}}" role="button"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input" ng-if="$ctrl.serachOptions.length > 0"><md-select tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" translate-attr="{\'aria-label\': \'{{\'nui.aria.advanced.percision\' | translate:\'{number: \\\'\'+($index+1)+\'\\\'}\'}}\'}" ng-model="row.searchOperator" ng-change="$ctrl.changeOperator($index)"><md-option ng-repeat="operator in $ctrl.serachOptions" ng-value="operator" title="{{$ctrl.getOperatorTitle(operator)}}" aria-label="{{$ctrl.getOperatorAria(operator)}}"><span translate="search-advanced.precisionOperator.option.{{operator}}" role="button"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input bold-text" flex ng-if="$ctrl.boolOptions.length > 0 || $ctrl.searchCategoryOptions.length > 0|| $ctrl.serachOptions.length > 0 " md-no-float="" ng-class="{\'width-100\': $ctrl.mediaQueries.xs}"><input ng-hide="!$ctrl.openCloseSearchFilterButton" placeholder="{{\'nui.search-advanced.searchTerm\' | translate}}" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" translate-attr="{\'aria-label\': \'{{\'nui.aria.advanced.query\' | translate:\'{number: \\\'\'+($index+1)+\'\\\'}\'}}\'}" name="textField" ng-model="row.searchQuery"/></md-input-container></div></fieldset></div><md-divider class="margin-top-small margin-bottom-small"></md-divider><div layout="row" layout-align="start center" class="margin-top-small"><md-button aria-label="{{\'nui.search-advanced.add\' | translate}}" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" class="button-with-icon md-primary zero-margin button-with-icon" ng-click="$ctrl.incrementLimit()" ng-hide="$ctrl.limit >= 7" ng-if="$ctrl.boolOptions.length > 0 || $ctrl.searchCategoryOptions.length > 0|| $ctrl.serachOptions.length > 0 "><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="plus"></prm-icon><span translate="nui.search-advanced.add"></span></md-button><span class="margin-right-small"></span><md-button class="button-with-icon zero-margin button-notice button-with-icon" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" translate-attr="{\'aria-label\': \'nui.aria.searchBar.clear.filters\'}" ng-click="$ctrl.clearSearchForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="replay"></prm-icon><span translate="link.title.search.clear"></span></md-button></div></md-card><md-card flex-gt-sm="30" flex class="advanced-drop-downs zero-margin marginless-inputs padded-container" layout="column" role="region" translate-attr="{\'aria-label\': \'nui.aria.searchFilters\'}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}"><div layout="column"><md-input-container class="underlined-input" ng-if="$ctrl.materialType.label && $ctrl.materialType.displayOptions.length > 0"><label id="advancedSearchMaterialType" translate="search-advanced.label.material_type"></label><md-select ng-disabled="$ctrl.materialType.displayOptions.length == 1" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" ng-model="$ctrl.materialType.selection" ng-change="$ctrl.onChange()"><md-option ng-repeat="material in $ctrl.materialType.displayOptions" ng-value="material"><span translate="search-advanced.mediaType.option.{{material}}" role="button" alt="{{\'search-advanced.label.material_type\' | translate}}"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input" ng-if="$ctrl.language.label && $ctrl.language.displayOptions.length > 0"><label id="advancedSearchLanguage" translate="search-advanced.label.language"></label><md-select ng-disabled="$ctrl.language.displayOptions.length == 1" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" ng-model="$ctrl.language.selection" ng-change="$ctrl.onChange()"><md-option ng-repeat="language in $ctrl.langsList track by $index" ng-value="$ctrl.getLangCode(language)"><span role="button" alt="{{\'search-advanced.label.language\' | translate}}">{{language}}</span></md-option></md-select></md-input-container><md-input-container class="underlined-input" ng-if="$ctrl.publicationData.label && $ctrl.publicationData.displayOptions.length > 0"><label translate="search-advanced.label.publication_date"></label><md-select ng-disabled="$ctrl.publicationData.displayOptions.length == 1" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" ng-model="$ctrl.publicationData.selection" ng-change="$ctrl.onChange()"><md-option ng-repeat="publication in $ctrl.publicationData.displayOptions" ng-value="publication"><span translate="{{$ctrl.getCodeForPublicationDate(publication)}}{{publication}}" role="button" alt="{{\'search-advanced.label.publication_date\' | translate}}"></span></md-option></md-select></md-input-container><div role="group"><div layout="row" ng-if="$ctrl.specificDate()" class="date-range-inputs animate-input"><md-input-container class="underlined-input"><label translate="search-advanced.DateRange.label.DateRangeStart" id="dayStartListBox"></label><md-select ng-model="$ctrl.startDay.selection" md-on-open="$ctrl.onOpen(); $ctrl.setSelectedCompStr(\'days\')" md-on-close="$ctrl.onClose()" ng-change="$ctrl.onChange()" translate-attr="{\'aria-label\': $ctrl.getAriaLabel(\'startDay\')}" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}"><md-option ng-repeat="day in $ctrl.startDay.displayOptions" ng-value="day" translate-attr="{\'aria-label\': $ctrl.getAriaLabelForList(true, \'day\', day)}"><span ng-attr-id="{{\'advancedSearchDateRangeStartOption_\' + day}}" translate-default="{{day}}" role="button" translate="search-advanced.drStartDay.option.{{day}}"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input"><md-select ng-model="$ctrl.startMonth.selection" md-on-open="$ctrl.onOpen(true); $ctrl.setSelectedCompStr(\'months\')" md-on-close="$ctrl.onClose()" ng-change="$ctrl.onChange()" translate-attr="{\'aria-label\': $ctrl.getAriaLabel(\'startMonth\')}" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}"><md-option ng-repeat="month in $ctrl.startMonth.displayOptions" ng-value="month" translate-attr="{\'aria-label\': $ctrl.getAriaLabelForList(true, \'month\', month)}"><span ng-attr-id="{{\'advancedSearchDateRangeStartOption_\' + month}}" translate-default="{{month}}" role="button" translate="search-advanced.drStartMonth.option.{{month}}"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input hidden-label"><label></label> <input placeholder="{{\'search-advanced.DateRange.label.start_Year\' | translate}}" type="text" ng-model="$ctrl.startYear" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" maxlength="5" size="5" name="startYear" ng-pattern="$ctrl.yearRegex"/></md-input-container></div><div ng-messages="advancedSearch.startYear.$error" class="warning-message tab-description"><div ng-message="pattern"><span translate="search.search.error.yearInvalidCharacters"></span></div></div><div layout="row" ng-if="$ctrl.specificDate()" class="date-range-inputs animate-input"><md-input-container class="underlined-input"><label translate="search-advanced.DateRange.label.DateRangeEnd" id="dayEndListBox"></label><md-select ng-model="$ctrl.endDay.selection" md-on-open="$ctrl.onOpen(); $ctrl.setSelectedCompStr(\'days\')" md-on-close="$ctrl.onClose()" ng-change="$ctrl.onChange()" translate-attr="{\'aria-label\': $ctrl.getAriaLabel(\'endDay\')}" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}"><md-option ng-repeat="day in $ctrl.endDay.displayOptions" ng-value="day" translate-attr="{\'aria-label\': $ctrl.getAriaLabelForList(false, \'day\', day)}"><span ng-attr-id="{{\'advancedSearchDateRangeEndOption_\' + day}}" translate-default="{{day}}" role="button" translate="search-advanced.drEndDay.option.{{day}}"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input"><md-select ng-model="$ctrl.endMonth.selection" md-on-open="$ctrl.onOpen(); $ctrl.setSelectedCompStr(\'months\')" md-on-close="$ctrl.onClose()" ng-change="$ctrl.onChange()" translate-attr="{\'aria-label\': $ctrl.getAriaLabel(\'endMonth\')}" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}"><md-option ng-repeat="month in $ctrl.endMonth.displayOptions" ng-value="month" aria-label="Start Month {{month}}" translate-attr="{\'aria-label\': $ctrl.getAriaLabelForList(false, \'month\', month)}"><span ng-attr-id="{{\'advancedSearchDateRangeEndOption_\' + month}}" translate-default="{{month}}" role="button" translate="search-advanced.drEndMonth.option.{{month}}"></span></md-option></md-select></md-input-container><md-input-container class="underlined-input hidden-label"><label></label> <input placeholder="{{\'search-advanced.DateRange.label.end_Year\' | translate}}" type="text" ng-model="$ctrl.endYear" tabindex="{{$ctrl.openCloseSearchFilterButton ? 0 : -1 }}" aria-hidden="{{$ctrl.openCloseSearchFilterButton ? false : true }}" maxlength="5" size="5" name="endYear" ng-pattern="$ctrl.yearRegex"></md-input-container></div><div ng-messages="advancedSearch.endYear.$error" class="warning-message"><div ng-message="pattern"><span translate="search.search.error.yearInvalidCharacters"></span></div></div><span translate="{{$ctrl.errorCode}}" ng-if="$ctrl.errorCode && $ctrl.specificDate()" style="color:tomato"></span><span ng-if="$ctrl.specificDate()" role="alert" class="accessible-only" translate="{{$ctrl.isDayOrMonthListIsOpen ? \'nui.aria.advancedSearch.DayMonthListOpened\' :\'nui.aria.advancedSearch.DayMonthListClosed\'}}" translate-values="$ctrl.getPlaceHolders()"></span></div></div></md-card></div></div><div layout="row" class="advanced-search-output" flex ng-class="{\'flex-basis-auto\': $ctrl.isIe}"><md-card class="marginless-inputs layout-full-width" layout-align="center start"><div layout="row" layout-align="start center" layout-align-xs="center" class="layout-full-width"><div class="search-string padding-right-medium" layout="column" flex hide-xs><div><div ng-repeat="row in $ctrl.rowArray | limitTo: $ctrl.limit" class="string-block animate-scale middle" ng-class="{\'clear-row\': row.boolOperator == \'OR\'}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="keyboard-return" ng-if="$first" class="prm-positive h-flipped"></prm-icon><span ng-hide="$first" ng-if="$ctrl.boolOptions.length > 0"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="keyboard-return" ng-if="$ctrl.rowArray[$index].boolOperator == \'OR\'" class="prm-positive h-flipped"></prm-icon><md-input-container class="tiny-bold uppercase string-field"><md-select aria-label="{{\'nui.aria.advanced.boolean\' | translate}}" ng-model="row.boolOperator " ng-change="$ctrl.onChange()"><md-option ng-repeat="bool in $ctrl.boolOptions" ng-value="bool"><span translate="search-advanced.boolOperator.option.{{bool}}" role="button"></span></md-option></md-select></md-input-container></span><span><md-input-container class="string-field" ng-if="$ctrl.searchCategoryOptions.length > 0"><md-select ng-disabled="row.searchOperator == \'startswith\' && $ctrl.disableCategoryField" ng-model="row.searchCategory" ng-change="$ctrl.onChange()" translate-attr="{\'aria-label\': \'{{\'nui.aria.advanced.field\' | translate:\'{number: \\\'\'+($index+1)+\'\\\'}\'}}\'}"><md-option ng-repeat="category in $ctrl.getSearchCategoryOptions($index)" ng-value="category"><span role="button" translate="search-advanced.scope.option.nui.advanced.index.{{category}}"></span></md-option></md-select></md-input-container></span><span><md-input-container class="string-field" ng-if="$ctrl.serachOptions.length > 0"><md-select ng-model="row.searchOperator" ng-change="$ctrl.changeOperator($index)" translate-attr="{\'aria-label\': \'{{\'nui.aria.advanced.percision\' | translate:\'{number: \\\'\'+($index+1)+\'\\\'}\'}}\'}"><md-option ng-repeat="operator in $ctrl.serachOptions" ng-value="operator" title="{{$ctrl.getOperatorTitle(operator)}}" aria-label="{{$ctrl.getOperatorAria(operator)}}"><span translate="search-advanced.precisionOperator.option.{{operator}}" role="button"></span></md-option></md-select></md-input-container></span><span class="string-field bold-text" ng-class="{\'complex-rows\': !row.searchQuery}"><input type="text" ng-model="row.searchQuery" title="{{row.searchQuery}}" class="input-complex-rows" pu-elastic-input pu-elastic-input-maxwidth="none" ng-readonly="$ctrl.isEdgeOrIE" ng-focus="$ctrl.removeReadonly($event)" ng-blur="$ctrl.addReadonly($event)"/></span></div></div></div><div layout="row"><md-button type="submit" class="button-confirm button-large button-with-icon" aria-label="{{\'nui.aria.submitSearch\' | translate}}" data-qa="advanced-search-btn"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="magnifying-glass"></prm-icon><span translate="link.title.search.search"></span></md-button></div></div></md-card></div></form></md-tab-body></md-tab><md-tab ng-if="$ctrl.isBarcodeSearchEnabled()" id="advanced-search-tab2" data-qa="barcode_search_tab" md-on-select="$ctrl.onTabSelect(\'barcodeSearch\')"><md-tab-label><span translate="nui.search-barcode.barcodeSearch"></span></md-tab-label><md-tab-body><div layout="row" flex layout-xs="column" class="advanced-search-tabs" id="advancedSearchTabsTab2" ng-class="{\'flex-basis-auto\': $ctrl.isIe}"><md-card flex class="zero-margin marginless-inputs padded-container" layout="column"><prm-barcode-search></prm-barcode-search></md-card></div></md-tab-body></md-tab></md-tabs></div><md-button class="collapsed-button" ng-class="{\'collapsed-button-mobile\': $ctrl.mediaQueries.xs}" layout="row" layout-align="end center" aria-expanded="{{$ctrl.openCloseSearchFilterButton}}" translate-attr="::{\'aria-label\': \'nui.aria.search.searchCriteria\'}" ng-click="$ctrl.toggleFilters(false)" ng-if="$ctrl.selectedTabIndex==0"><md-tooltip md-delay="400"><span ng-if="$ctrl.openCloseSearchFilterButton" translate="{{\'nui.search-advanced.collapseArrowTooltip\'}}"></span> <span ng-if="!$ctrl.openCloseSearchFilterButton" translate="{{\'nui.search-advanced.expandArrowTooltip\'}}"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" ng-class="{\'rotate-180\': !$ctrl.openCloseSearchFilterButton}"></prm-icon></md-button><div ng-if="$ctrl.showSignIn"><prm-alert-bar flex [alert-object]="$ctrl.signInAlert"></prm-alert-bar></div><prm-advanced-search-after parent-ctrl="$ctrl"></prm-advanced-search-after>');
$templateCache.put('components/search/searchBar/search-bar.html','<div layout="column" layout-fill tabindex="-1" role="search" aria-label="{{\'nui.aria.navigationRegionSearchBar\' | translate}}" ng-class="{\'zero-padding\': $ctrl.showTabsAndScopesVal()}"><div class="search-wrapper dark-toolbar prm-top-bar-container main-header-row" div layout="row" ng-class="{\'facet-to-left\': $ctrl.facetToLeft && !$ctrl.mediaQueries.xs && !$ctrl.mediaQueries.sm && !$ctrl.mediaQueries.md}"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20" ng-class="{\'facet-to-left-spacer\': $ctrl.facetToLeft && !$ctrl.mediaQueries.xl && !$ctrl.mediaQueries.md && !$ctrl.mediaQueries.sm && !$ctrl.mediaQueries.xs, \'flex-xl-25\': $ctrl.facetToLeft}"></div><div class="search-elements-wrapper" id="searchElementsWrapper" ng-style="$ctrl.advancedSearchCollapsed ? {\'min-height\' : \'auto\'} : {\'min-height\' : \'\'}" layout="column" flex flex-sm="90" flex-md="75" flex-lg="65" flex-xl="50" ng-class="(!$ctrl.advancedSearch ?\'simple-mode\' : \'advanced-mode\')  + \' \' + ($ctrl.mediaQueries.lgPlus ? \'flex-lgPlus-55\' : \'\') + \' \' + ($ctrl.facetToLeft? \'facet-to-left-search-bar\' : \'\') + \' \' + ($ctrl.isBarcodeSearchTab() ? \'barcodeSearchTab\' : \'\')"><div class="simple-search-wrapper layout-full-width" ng-if="!$ctrl.advancedSearch"><form class="layout-full-height" layout="column" name="search-form" ng-submit="$ctrl.onSubmit()"><input type="submit" class="accessible-only" tabindex="-1" aria-hidden="true" aria-label="{{$ctrl.getSubmitAriaLabelCode() | translate}}"/><div class="layout-full-width"><div class="search-element-inner layout-full-width"><div class="search-input" ng-class="{\'flex-sm-40\': ($ctrl.isLandscapeView && $ctrl.showTabsAndScopesVal() && !$ctrl.scopeField)}"><prm-autocomplete class="search-input-container EXLPRMHeaderAutoComplete" md-input-id="searchBar" md-search-text="$ctrl.mainSearchField" md-search-text-change="$ctrl.autocompleteQuery($ctrl.mainSearchField)" md-selected-item="$ctrl.selectedItem" md-selected-item-change="$ctrl.onSelectItem()" md-item-text="item.display || $ctrl.typedQuery " md-min-length="2" md-delay="400" md-autofocus="false" md-no-cache="true" md-items="item in ::$ctrl.autoCompleteItems" md-item-text="item" placeholder="{{::$ctrl.placeHolderText}}" clear="{{::$ctrl.clearButtonText}}" search-field="{{::$ctrl.searchFieldText}}" flex><md-item-template><div ng-if="::item.queryType===\'recentSearches\'"><span md-highlight-text="$ctrl.mainSearchField">{{::item.shortDisplay}}</span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="time"></prm-icon><span class="suggestion-scope" translate="{{::\'tabbedmenu.\'+item.tab+\'.label\'}}"></span><md-divider style="position:absolute; width: 100%; left: 0;"></md-divider></div><div ng-if="::item.tab && item.queryType != \'recentSearches\'"><span md-highlight-text="$ctrl.mainSearchField">{{$ctrl.mainSearchField}}</span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="magnifying-glass"></prm-icon><span class="suggestion-scope" translate="{{::\'tabbedmenu.\'+item.tab+\'.label\'}}"></span></div><div ng-if="::!item.tab && item.queryType != \'recentSearches\'" md-highlight-text="$ctrl.mainSearchField">{{::item.shortDisplay}}</div></md-item-template></prm-autocomplete></div><div class="search-options" ng-class="::{\'flex-sm-0 flex-0 hide-on-xs\':!$ctrl.showTabsAndScopesVal(), \'flex-sm-40 visible\':($ctrl.showTabsAndScopesVal() && !$ctrl.scopeField)}"><prm-tabs-and-scopes-selector ng-if="::$ctrl.showTabsAndScopesVal()" [(selected-scope)]="$ctrl.scopeField" [(selected-tab)]="$ctrl.selectedTab" ng-class="::{\'is-displayed\':$ctrl.showTabsAndScopesVal()}" (update-find-in-db-event)="$ctrl.updateShowFindDBButton($event)" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></prm-tabs-and-scopes-selector></div><div class="search-actions" ng-if="::(!$ctrl.scopesDialerConfiguration.display)" layout-align-xs="start center"><md-button ng-if="::$ctrl.showVoiceSearchButton" id="voiceSearchButton" translate-attr="{\'aria-label\': \'nui.aria.voiceSearch.open\'}" class="zero-margin button-link large-icon" (click)="$ctrl.onVoiceSearchStart()"><md-tooltip md-delay="400"><span translate="nui.voice_search.tooltip"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="voice-search"></prm-icon></md-button><md-button class="zero-margin button-confirm large-icon" aria-label="{{$ctrl.getSubmitAriaLabelCode() | translate}}" (click)="$ctrl.onSubmit()"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon></md-button></div></div></div></form></div><div class="advanced-search-wrapper layout-full-width" layout="row" ng-if="$ctrl.advancedSearch" ng-cloak><prm-advanced-search id="advanced-search" [(selected-scope)]="$ctrl.scopeField" [(selected-tab)]="$ctrl.selectedTab" [(show-tab-and-scopes)]="$ctrl.showTabsAndScopes" [(switched-from-simple-to-advanced)]="$ctrl.switchedFromSimpleToAdvanced" [(advanced-search-collapsed)]="$ctrl.advancedSearchCollapsed" [(typed-query)]="$ctrl.mainSearchField" (update-advanced-search-params)="$ctrl.updateAdvancedSearchParams($event)" (update-find-in-db-event)="$ctrl.updateShowFindDBButton($event)"></prm-advanced-search><md-button class="switch-to-simple zero-margin md-icon-button" ng-click="$ctrl.switchAdvancedSearch()" hide-gt-xs><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div><div ng-if="$ctrl.isShowFindDBButton || $ctrl.isPreFilterEnable" class="search-extras layout-full-width"><div layout="row" class="pre-filters-container"><prm-pre-filters ng-if="$ctrl.isPreFilterEnable" [(selected-tab)]="$ctrl.selectedTab" [pre-filters]="$ctrl.pFilters" (search-event)="$ctrl.search($event)" flex="" class="ng-scope ng-isolate-scope flex"></prm-pre-filters><span flex ng-if="!$ctrl.isPreFilterEnable"></span><md-button ng-if="$ctrl.isShowFindDBButton" class="button-with-icon" ng-class="{\'button-over-dark\': !$ctrl.advancedSearch}" (click)="::$ctrl.openFdbIframe();" translate-attr-title="mainmenu.label.moreoptions" aria-label="{{::(\'finddb.sb.title\' | translate)}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="database"></prm-icon><span translate="finddb.sb.title"></span></md-button></div></div><div ng-if="$ctrl.isResourceTypeFilterBarEnable" class="search-extras layout-full-width"><div layout="row" class="resource-type-filter-bar-container"><prm-resource-type-filter-bar ng-if="$ctrl.isResourceTypeFilterBarEnable" [(selected-tab)]="$ctrl.selectedTab" [resource-type-filter]="$ctrl.pFilters" (search-event)="$ctrl.search($event)" class="ng-scope ng-isolate-scope flex" flex=""></prm-resource-type-filter-bar></div></div></div><div class="search-switch-buttons" layout-sm="column" layout-align-sm="start stretch" hide-xs ng-class="{\'facet-to-left-advanced-search\': $ctrl.facetToLeft}"><md-button translate-attr="{\'aria-label\': \'nui.aria.searchBar.advancedLink\'}" class="switch-to-advanced zero-margin button-with-icon button-over-dark" ng-if="!$ctrl.advancedSearch" ng-click="$ctrl.switchAdvancedSearch()"><span layout="row" layout-align="start center"><span translate="label.advanced_search"></span></span></md-button><md-button translate-attr="{\'aria-label\': \'nui.aria.searchBar.simple.search\'}" class="switch-to-simple zero-margin button-with-icon" ng-if="$ctrl.advancedSearch" ng-click="$ctrl.switchAdvancedSearch()"><span layout="row" layout-align="start center"><span translate="label.simple_search"></span></span></md-button></div><div flex="0" flex-md="0" flex-sm="0" flex-lg="15" flex-xl="15" ng-class="{\'flex-lgPlus-10\': $ctrl.facetToLeft && !$ctrl.mediaQueries.xs}"></div></div><div layout="row" ng-if="!$ctrl.advancedSearch && $ctrl.showSignIn"><div flex="0" flex-md="0" flex-lg="15" flex-xl="20"></div><prm-alert-bar flex [alert-object]="$ctrl.signInAlert"></prm-alert-bar><div class="padding-left-medium" flex="0" flex-md="25" flex-lg="10" flex-xl="15" hide-xs></div><div flex="0" flex-md="0" flex-sm="10" flex-lg="20" flex-xl="20"></div></div></div><div class="advanced-search-backdrop" ng-class="{\'visible\': $ctrl.advancedSearch}"></div><prm-search-bar-after parent-ctrl="$ctrl"></prm-search-bar-after>');
$templateCache.put('components/search/searchBar/voice-search-toast.html','<md-toast ng-class="{\'mobile-define\':$ctrl.detectMobile(),\'layout-column\':$ctrl.detectMobile()}" id="voiceSearchToast" class="md-toast-content voice-search-toast relative-position"><span role="alert" class="accessible-only" translate="{{$ctrl.isVoiceSearchToastOpen ? \'nui.aria.voiceSearch.voiceSearch.Listening\' :\'nui.aria.voiceSearch.voiceSearch.closed\'}}"></span><div layout="column" layout-align="center center" style="height: 100%" class="md-toast-content voice-mobile-view"><div layout="row" layout-align="start center" class="voice-search-mobile-layout"><span class="md-toast-text" ng-if="true" aria-live="assertive">{{$ctrl.voiceSearchTitle}}</span><div class="voice-search-button-big blink-icon"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="voice-search"></prm-icon></div></div><div layout="row" layout-align="end start" class="md-toast-content change-lang-content" ng-class="{\'start-content\':!$ctrl.detectMobile()}"><label class="bold-text"><span translate="nui.voice_language"></span></label><md-input-container ng-if="$ctrl.showVoiceSearchLanguages" class="static-select empty-select-on-init" layout="row"><md-select id="voiceSearchLanguageButton" (keydown)="$ctrl.keydownSupportVoiceSearchLanguage($event)" ng-model="$ctrl.voiceSearchLanguage" ng-change="$ctrl.changeVoiceSearchLanguage(); $ctrl.voiceSearchChangeLanguageBeacon();" translate-attr="{\'aria-label\': \'nui.aria.voiceSearch.changeLanguage\'}"><md-option ng-repeat="language in ::$ctrl.languages" value="{{::language}}"><span translate="{{::language}}"></span></md-option></md-select></md-input-container><span class="margin-left-small" ng-if="!$ctrl.showVoiceSearchLanguages" translate="{{::$ctrl.languages[0]}}"></span></div></div><md-button class="md-icon-button absolute-position" (keydown)="$ctrl.keydownSupportVoiceCloseButton($event)" id="voiceSearchCloseButton" aria-label="{{\'nui.aria.voiceSearch.close\' | translate}}" ng-click="$ctrl.onDismiss()"><prm-icon class="close-icon" [icon-type]="::$ctrl.actionsIcons.closeActions.type" [svg-icon-set]="::$ctrl.actionsIcons.closeActions.iconSet" [icon-definition]="::$ctrl.actionsIcons.closeActions.icon"></prm-icon></md-button></md-toast><prm-voice-search-toast-after parent-ctrl="$ctrl"></prm-voice-search-toast-after>');
$templateCache.put('components/search/snippet/snippet.html','<span ng-if="::$ctrl.getSnippet()"><prm-icon ng-style="($ctrl.isEmail() && {\'display\' : \'inline-block\', \'height\' : \'12px\', \'width\' : \'15px\'})" class="open-quote" icon-type="{{::$ctrl.actionIcons.citations.type}}" svg-icon-set="{{::$ctrl.actionIcons.citations.iconSet}}" icon-definition="{{::$ctrl.actionIcons.citations.icon}}"></prm-icon><prm-highlight ng-style="($ctrl.isEmail() && {\'font-style\' : \'italic\'})" class="italic-text" terms="$ctrl.highlights()" text="::$ctrl.getSnippet()"></prm-highlight><prm-icon ng-style="($ctrl.isEmail() && {\'display\' : \'inline-block\', \'height\' : \'12px\', \'width\' : \'15px\'})" class="open-quote" icon-type="{{::$ctrl.actionIcons.citations.type}}" class="close-quote" icon-type="{{::$ctrl.actionIcons.citations.type}}" svg-icon-set="{{::$ctrl.actionIcons.citations.iconSet}}" icon-definition="{{::$ctrl.actionIcons.citations.icon}}"></prm-icon></span><prm-snippet-after parent-ctrl="$ctrl"></prm-snippet-after>');
$templateCache.put('components/search/timesCited/times-cited.html','<div id="timesCited" class="margin-top-small" ng-if="$ctrl.shouldDisplayTimesCited"><div ng-if="$ctrl.isTimesCitedExists()" ng-repeat="item in $ctrl.citedData" layout="row"><div class="logo-item" layout="column" style="width: 100px;"><img src="{{$ctrl.vendorLogo(item)}}" alt="" class="cited_logo"></div><div><div><a ng-href="{{$ctrl.citedLink(item)}}" (click)="$ctrl.reportBeacon()" target="_blank" class="arrow-link" style="line-height: 2.7em; padding: 0px 40px 0px 0px;" aria-label="{{$ctrl.getAraiaLabelForTimeCited(item)}}{{\' \'}}{{\'results.scopes.for\' | translate}}{{\' \'}}{{$ctrl.getTimeCitedType(item) | translate}}" title="{{$ctrl.getAraiaLabelForTimeCited(item)}}{{\' \'}}{{\'results.scopes.for\' | translate}}{{\' \'}}{{$ctrl.getTimeCitedType(item) | translate}}"><span ng-if="$ctrl.extensionVal(item)>1" translate="nui.citation.multicited" translate-values="{\'idx_0\' : $ctrl.extensionVal(item)}"></span> <span ng-if="$ctrl.extensionVal(item) ==1" translate="nui.citation.singlecited"></span> <strong>{{$ctrl.scopOrWosTrans(item)}}</strong><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon><prm-icon link-arrow icon-type="{{$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.arrowRight.icon}}"></prm-icon></a></div><br></div></div></div><prm-times-cited-after parent-ctrl="$ctrl"></prm-times-cited-after>');
$templateCache.put('components/search/topbar/topbar.html','<prm-top-bar-before parent-ctrl="$ctrl"></prm-top-bar-before><div class="top-nav-bar" layout="row" tabindex="-1" role="banner" aria-label="{{\'nui.aria.navigationRegionTopBar\' | translate}}"><prm-skip-to tabindex="-1"></prm-skip-to><prm-logo></prm-logo><div ng-if="$ctrl.isDeposit()" flex-xs="50"><div class="layout-column layout-align-center-center institution-name"><header><span translate="repDeliveryViewer.alma" class="md-headline institution-style"></span></header></div></div><div flex="50" hide-xs></div><prm-main-menu role="navigation" aria-label="{{\'nui.aria.navigationRegionMainMenu\' | translate}}" ng-class="{\'isServicePage\': $ctrl.isServicePage(), \'isSummonOverAlma\': $ctrl.isSummonOverAlma(), \'isDeposit\': $ctrl.isDeposit(), \'isDiscoveryServicesPage\': $ctrl.isDiscoveryServicesPage()}" menu-type="menu" flex="50" hide-xs></prm-main-menu><div flex="50" flex-xs="100"></div><prm-search-bookmark-filter ng-show="$ctrl.displayFavorites && !$ctrl.isRapidoSAEnabled" class="view-switcher" layout-align="end center" layout="row" flex="noshrink"></prm-search-bookmark-filter><prm-user-area hide-gt-xs ng-if="$ctrl.mediaQueries.xs"></prm-user-area><prm-user-area-expandable hide-xs ng-show="!$ctrl.mediaQueries.xs"></prm-user-area-expandable></div><prm-topbar-after parent-ctrl="$ctrl"></prm-topbar-after>');
$templateCache.put('components/search/virtualBrowse/virtual-browse.html','<div tabindex="-1" class="container-nav-controls"><md-button tabindex="0" aria-label="{{\'nui.aria.vbrowse.previous\' | translate}}" ng-disabled="$ctrl.isLeftScrollDisabled" ng-keypress="$ctrl.previous($event)" ng-mousedown="$ctrl.scrollLeftMouseDown();$event.stopPropagation()" ng-mouseup="$ctrl.scrollMouseUp();$event.stopPropagation()" class="nav-control nav-left"><md-tooltip><span ng-bind-html="\'virtualbrowse.button.previous\' | translate"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon></md-button></div><md-virtual-repeat-container role="application" dir="ltr" id="prm-virtual-browse" md-top-index="$ctrl.currentIndex" ng-keyup="$ctrl.handleKeyUp($event)" md-orient-horizontal><ul tabindex="-1" role="presentation" layout="row" layout-align="start start" style="min-width:100%"><li in-view="$ctrl.onItemInView($index, $inview, $inviewInfo)" in-view-options="{generateDirection: true, throttle: 50, threshold: 1}" md-virtual-repeat="virtualBrowseItem in $ctrl.dynamicVirtualBrowseItems" ng-click="$ctrl.navigateToItemFullView(virtualBrowseItem, $index);$event.stopPropagation();" id="vBrowseid{{$index}}" role="link" tabindex="0" ng-focus="$ctrl.focusSupport($event)" ng-blur="$ctrl.focusOutSupport($event)" ng-keydown="$ctrl.keyDownSupport($event,virtualBrowseItem);" md-item-size="110" md-on-demand ng-mouseenter="highlightItem = true" ng-mouseleave="highlightItem = false" ng-class="{\'md-whiteframe-2dp\': highlightItem, \'md-whiteframe-5dp current-item\': $index == $ctrl.focusedIndex}"><a tabindex="-1" ui-state="$ctrl.getStateName()" ui-state-params="$ctrl.getItemFullViewParams(virtualBrowseItem)" ui-sref-opts="{reload: true}" aria-label="{{virtualBrowseItem.title}}"><prm-virtual-browse-item ng-style="{\'color\': \'hsl({{($index*$index)/2}}, 30%, 70%)\'}" ng-class="{\'hide-disabled-virtual-browse-items\': $index < $ctrl.leftFinalIndex || $index > $ctrl.rightFinalIndex}" [virtual-browse-item]="virtualBrowseItem"></prm-virtual-browse-item></a></li></ul></md-virtual-repeat-container><div tabindex="-1" class="container-nav-controls"><md-button tabindex="0" aria-label="{{\'nui.aria.vbrowse.next\' | translate}}" ng-disabled="$ctrl.isRightScrollDisabled" ng-keypress="$ctrl.next($event)" ng-mousedown="$ctrl.scrollRightMouseDown();$event.stopPropagation()" ng-mouseup="$ctrl.scrollMouseUp();$event.stopPropagation()" class="nav-control nav-right"><md-tooltip><span ng-bind-html="\'virtualbrowse.button.next\' | translate"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></div><prm-virtual-browse-after parent-ctrl="$ctrl"></prm-virtual-browse-after>');
$templateCache.put('components/security/login/login.html','<prm-spinner ng-if="showLoader" class="light-on-dark no-text overlay-cover" layout="row" layout-align="center center"></prm-spinner><form class="layout-full-width" layout="column" ng-submit="$ctrl.login()" ng-if="!$ctrl.showSelfRegistrationForm"><div layout="row" layout-align="center center" style="margin-top: 1.5em; min-height: 40px;"><div class="animate-enter-leave-scale-bounce" style="width: 0;position: absolute; top: 1em; z-index: 10; left: 0" ng-if="$ctrl.showBackButton()"><md-button class="md-icon-button icon-button-large" aria-label="{{\'nui.aria.login.backBtn\' | translate}}" ng-click="$ctrl.handleBackButtonClick()"><prm-icon [icon-type]="::$ctrl.loginIcons.backIcon.type" [svg-icon-set]="::$ctrl.loginIcons.backIcon.iconSet" [icon-definition]="::$ctrl.loginIcons.backIcon.icon"></prm-icon></md-button></div><h2 class="md-headline light-text" layout="row" layout-align="center center" flex><span translate="{{$ctrl.getLoginTitleForDisplay()}}"></span></h2></div><md-dialog-content (keydown)="$ctrl.keydownSupportGustLogin($event)"><md-tabs md-dynamic-height md-border-bottom md-selected="$ctrl.selectedTab" class="hidden-tabs"><md-tab label="one"><md-content><md-list role="list" class="padded-container"><md-list-item ng-repeat="authenticationMethod in $ctrl.authenticationMethods" class="md-2-line md-long-text disable-hover list-login" ng-click="$ctrl.handleLoginClick( authenticationMethod )" ng-class="{\'login-brighter-dialog\': $ctrl.isLoginState()}" aria-label="{{($ctrl.getProfileLinkForDisplay($index) | translate)}}{{\' \'}}{{($ctrl.getProfileLinkDescriptionForDisplay($index) | translate)}}"><prm-login-item ng-click="$ctrl.handleLoginClick( authenticationMethod )" tabindex="-1" [authentication-method]="authenticationMethod"></prm-login-item><div class="md-secondary"><prm-icon [icon-type]="::$ctrl.loginIcons.gotoLinkIcon.type" [svg-icon-set]="::$ctrl.loginIcons.gotoLinkIcon.iconSet" [icon-definition]="::$ctrl.loginIcons.gotoLinkIcon.icon" ng-class="{\'login-brighter-dialog\': $ctrl.isLoginState()}"></prm-icon></div></md-list-item></md-list></md-content></md-tab><md-tab label="two" md-on-select="showBackButton()"><md-content class="md-padding"><span ng-if="$ctrl.showError" role="alert" class="error-warning-message error-color"><prm-icon [icon-type]="::$ctrl.loginIcons.errorIcon.type" [svg-icon-set]="::$ctrl.loginIcons.errorIcon.iconSet" [icon-definition]="::$ctrl.loginIcons.errorIcon.icon"></prm-icon><span translate="{{ $ctrl.getErrorForDisplay() }}" translate-values="$ctrl.getPlaceHolders()" translate-compile></span></span><div class="dialog-inputs overflow-hidden" layout="column" layout-align="start center"><md-input-container class="centered-input"><label translate="login.userid" class="text-uppercase"></label> <input type="text" ng-model="$ctrl.username" id="LoginUserName" autocomplete="username"/></md-input-container><md-input-container class="centered-input"><label translate="login.password" class="text-uppercase"></label> <input type="password" ng-model="$ctrl.password" id="LoginPassword" autocomplete="current-password"/></md-input-container></div><div class="dialog-divider transparent-divider"></div><prm-login-help ng-if="$ctrl.displaySigninHelp" [authentication-method]="$ctrl.selectedAuthenticationMethod"></prm-login-help></md-content></md-tab></md-tabs><div layout="column" layout-align="center center"><md-button class="button-as-link" ng-click="$ctrl.showSelfRegistrationFormClicked()" tabindex="0" ng-if="$ctrl.showSelfRegistrationLink"><span translate="nui.login.self_registration"></span></md-button></div></md-dialog-content><md-dialog-actions class="animate-enter-leave-scale-bounce" layout="row" layout-align="center center" ng-if="!hideActionsBar"><md-button ng-if="!$ctrl.standAlone() || $ctrl.isUnionCatalogLogin()" class="button-large" ng-click="$ctrl.cancelLogin()" aria-label="{{\'nui.aria.login.cancel\' | translate}}"><span translate="login.cancel"></span></md-button><md-button ng-if="$ctrl.showSubmitButton()" class="button-large button-confirm animate-scale animate-enter-leave-scale-bounce" type="submit" style="margin-right:20px;"><span translate="login.login"></span></md-button></md-dialog-actions></form><prm-self-registration ng-if="$ctrl.showSelfRegistrationForm" (cancel-registration)="$ctrl.cancelRegistration()" (login-user-details)="$ctrl.loginAfterSelfRegistration($event)"></prm-self-registration><prm-login-after parent-ctrl="$ctrl"></prm-login-after>');
$templateCache.put('components/security/login/stand-alone-login.html','<body><prm-spinner ng-if="$ctrl.isSingleAuthenticationMethodExternal()" class="light-on-dark no-text overlay-cover" layout="row" layout-align="center center"></prm-spinner><div ng-hide="$ctrl.isSingleAuthenticationMethodExternal()" layout="column" layout-fill layout-align="start center"><div flex="5"></div><div class="login-header"><prm-logo></prm-logo></div><md-card class="login-card login-dialog"><md-card-content><prm-login [authentication-methods]="$ctrl.getAuthenticationMethods()" [is-stand-alone]="true"></prm-login></md-card-content></md-card><div flex="10"></div></div></body><prm-stand-alone-login-after parent-ctrl="$ctrl"></prm-stand-alone-login-after>');
$templateCache.put('components/security/timeoutToast/timeout-toast.html','<md-toast ng-class="{\'mobile-define\':$ctrl.detectMobile(),\'layout-column\':$ctrl.detectMobile()}" class="md-toast-content" ng-if="$ctrl.showToastMessage()"><div layout="row" layout-align="center center" class="md-toast-content" ng-class="{\'end-content\':!$ctrl.detectMobile()}"><span class="md-toast-text" ng-class="{\'auto-extend-session\':$ctrl.isKeepMeSignInEnabled() && $ctrl.isAutoExtendMySessionEnable()}"><span translate="session.timeout.redirectMessage" ng-if="!$ctrl.isKeepMeSignInEnabled()"></span> <span translate="nui.login.sessionTimedOut" class="bold-text" ng-if="$ctrl.isKeepMeSignInEnabled() && (!$ctrl.isAutoExtendMySessionEnable() || ($ctrl.isAutoExtendMySessionEnable() && $ctrl.isAutoExtendMySessionEnabledByUser()))"></span> <span translate="nui.login.sessionTimedOutPersonalSettings" class="bold-text" ng-if="$ctrl.isKeepMeSignInEnabled() && $ctrl.isAutoExtendMySessionEnable() && !$ctrl.isAutoExtendMySessionEnabledByUser()"></span></span></div><div layout="row" layout-align="start start" class="md-toast-content" ng-class="{\'start-content\':!$ctrl.detectMobile()}"><md-button ng-click="$ctrl.handleLogin()" ng-if="!$ctrl.isSearchDone()" ng-class="{\'mobile-size\':$ctrl.detectMobile()}" md-no-ink="true" class="md-higlight settings-button" aria-label="refresh the application"><div layout="row"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="sign-in"></prm-icon><span translate="eshelf.signin.title"></span></div></md-button><md-button class="dismiss-alert-button button-with-icon" ng-click="$ctrl.onDismiss()" aria-label="{{::(\'nui.message.dismiss\' | translate)}}"><prm-icon icon-type="{{::$ctrl.favoritesIcons.removeLabel.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.removeLabel.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.removeLabel.icon}}"></prm-icon><span class="ng-scope" translate="nui.message.dismiss"></span></md-button></div></md-toast><prm-timeout-toast-after parent-ctrl="$ctrl"></prm-timeout-toast-after>');
$templateCache.put('components/security/popupMessage/popup-message.html','<dialog id="popupDialog" aria-label="{{\'nui.aria.session.timeoutWarningTitle\' | translate}}"><div class="session-timeout-alert-cont padded-container" layout="column" layout-align="center center"><div class="bar-text-warning" layout="column" layout-align="center center"><h2 translate="nui.eshelf.signin.timeoutWarningTitle" class="warning-text-header" data-qa="session_popup_message_title"></h2><span class="" translate="nui.eshelf.signin.timeoutWarning" data-qa="session_popup_message_text"></span></div><div class="yes-no-alert-buttons" layout="column" layout-align="center center"><md-button class="button-confirm" id="popupMessageConfirmBtn" ng-click="$ctrl.confirmPopupMessage()" translate-attr="{\'aria-label\': \'nui.aria.session.keepMeSigndIn\'}" data-qa="session_popup_message_confirm"><span translate="nui.eshelf.signin.timeoutExtendSession"></span></md-button><md-divider></md-divider><md-button class="animate-scale animate-enter-leave-scale-bounce" ng-click="$ctrl.closePopupMessage()" ng-keydown="$ctrl.keyDownSupportGoToFirstButton($event)" translate-attr="{\'aria-label\': \'nui.aria.session.signMeOut\'}" data-qa="session_popup_message_close"><span translate="nui.eshelf.signin.timeoutExtendSessionNo"></span></md-button></div></div></dialog><prm-popup-message-after parent-ctrl="$ctrl"></prm-popup-message-after>');
$templateCache.put('components/tags/tagsList/tags-list.html','<div layout="column" layout-align="start start"><div ng-if="$ctrl.tagslist.length > 0"><md-chips ng-model="$ctrl.tagslist" name="{{$chip.tagName}}" readonly="true" md-removable="false"><md-chip-template><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="tag-outline"></prm-icon><a (click)="$ctrl.closeDialog()" ui-sref="exploreMain.search({{::$ctrl.resultSearchUrl($chip.tagName)}})" ui-sref-opts="{reload: true}"><strong>{{$chip.tagName}}</strong> </a><em class="tagNameRTL" ng-if="$chip.count > 0">({{$chip.count}})</em></md-chip-template></md-chips><md-button class="button-as-link link-alt-color zero-margin" ng-if="$ctrl.isFullDisplay && !$ctrl.showAllNonUserTags" (click)="$ctrl.showAllRecordNonUserTags()"><span class="bold-text" translate="nui.facets.showmore"></span></md-button></div><div ng-if="$ctrl.editable && $ctrl.userLoggedIn()"><form name="chipsAutocompleteForm"><md-chips ng-model="$ctrl.usertagslist" md-require-match="false" md-transform-chip="$ctrl.addTag($chip)" md-enable-chip-edit="true" delete-button-label="Remove Tag" delete-hint="Press delete to remove tag" md-on-add="$ctrl.onTagAdd($chip)" md-on-remove="$ctrl.onTagRemove($chip)" container-empty-hint="{{\'nui.aria.add.tags.instructions.empty\' | translate}}" container-hint="{{\'nui.aria.add.tags.instructions\' | translate}}" input-aria-label="{{\'nui.aria.add.tags.input\' | translate}}"><md-autocomplete ng-show="$ctrl.usertagslist.length>0 || $ctrl.editTagsMode" md-selected-item="$ctrl.selectedItem" md-search-text="$ctrl.searchText" md-dropdown-items="5" md-input-name="autocompleteTagField" md-items="item in $ctrl.querySearch($ctrl.searchText)" md-item-text="item.tagName" placeholder="{{\'nui.tags.add.more\' | translate}}" md-min-length="0" md-input-minlength="0" md-autocomplete-snap="width" md-input-id="own-tags-input" md-floating-label="{{\'nui.tags.add.more\' | translate}}"><md-item-template><span md-highlight-text="$ctrl.searchText">{{item.tagName}}</span></md-item-template></md-autocomplete><md-chip-template><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="tag-outline"></prm-icon><md-tooltip><span translate="nui.tags.delete.tooltip"></span></md-tooltip><a (click)="$ctrl.closeDialog()" ui-sref="exploreMain.search({{::$ctrl.resultSearchUrl($chip.tagName)}})" ui-sref-opts="{reload: true}"><strong>{{$chip.tagName}}</strong> </a><em class="tagNameRTL" ng-if="$chip.count > 0">({{$chip.count}})</em></md-chip-template></md-chips><span translate="nui.tags.search.invalidtag" ng-if="!$ctrl.isSearchTextValid" class="error-response"></span></form><md-button class="button-link button-with-icon margin-left-zero" ng-if="!$ctrl.editTagsMode && $ctrl.usertagslist.length===0" ng-click="$ctrl.editTags()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil"></prm-icon><span translate="nui.tags.add"></span></md-button></div><md-button class="button-link button-with-icon margin-left-zero" ng-if="$ctrl.editable && !$ctrl.userLoggedIn()" ng-click="$ctrl.handleLoginClick()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil"></prm-icon><span translate="nui.tags.add"></span></md-button></div><prm-tags-list-after parent-ctrl="$ctrl"></prm-tags-list-after>');
$templateCache.put('components/tags/tagsResults/tags-results.html','<md-content class="padded-container" layout="row" layout-align="center start" flex><div flex="0" flex-md="0" flex-lg="20" flex-xl="30"></div><div flex><prm-tags-results-list><h2 class="accessible-only" translate="results.title" ng-if="$ctrl.tagsSearchResult.length > 0"></h2><div class="results-title" layout="row" layout-align="start center" aria-hidden="false"><i class="results-count" ng-if="$ctrl.tagsSearchResult.length === 1">1 {{\'nui.tags.search.tagFound\'| translate}}</i> <i class="results-count" ng-if="$ctrl.tagsSearchResult.length > 1">{{$ctrl.tagsSearchResult.length}} {{\'nui.tags.search.tagsFound\'| translate}}</i> <span flex></span><md-button class="margin-zero" ng-click="$ctrl.setToDefaultView()" ng-class="{\'prm-selected-view\': $ctrl.isTagsGridView()}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="toggle-items"></prm-icon></md-button><md-button class="margin-zero" ng-click="$ctrl.setToGridView()" ng-class="{\'prm-selected-view\': !$ctrl.isTagsGridView()}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="toggle-list"></prm-icon></md-button></div><prm-spinner ng-if="$ctrl.searchInProgress" class="half-transparent no-text" layout="row" layout-align="center center" style="padding-top: 5em"></prm-spinner><md-list class="prm-list prm-linkable-list-items prm-dense-list has-list-nav zero-padding" ng-class="{\'prm-bricks-list\': $ctrl.isTagsGridView()}" flex><span translate="nui.tags.search.noresults" ng-if="$ctrl.tagsSearchResult.length===0"></span><md-list-item class="md-2-line" ng-repeat="tag in $ctrl.tagsSearchResult | orderBy: \'tagName\'  | limitTo:$ctrl.tagsResultsLimit" ng-href="{{::$ctrl.resultSearchUrl(tag.tagName)}}"><div class="md-list-item-text" layout="row"><div layout="column" layout-align="center start" flex><h3 class="item-title bold-text"><span>{{tag.tagName}}</span> <span ng-if="$ctrl.isTagsGridView()">({{tag.count}})</span></h3></div><div ng-if="!$ctrl.isTagsGridView()" flex="20" layout-align="center start" layout="column"><span ng-if="tag.count === 1">1 {{\'nui.tags.search.record\'| translate}}</span> <span ng-if="tag.count > 1">{{tag.count}} {{\'nui.tags.search.records\'| translate}}</span></div></div></md-list-item></md-list></prm-tags-results-list></div><div flex="0" flex-md="0" flex-lg="20" flex-xl="30"></div></md-content><prm-tags-results-after parent-ctrl="$ctrl"></prm-tags-results-after>');
$templateCache.put('components/tags/tagsSearchBar/tags-search-bar.html','<div tabindex="-1" role="search" layout="row" aria-label="{{\'nui.aria.navigationRegionTagsSearch\' | translate}}"><div flex="0" flex-md="15" flex-lg="20" flex-xl="30"></div><div layout="column" flex><div class="search-elements-wrapper" layout="row"><form name="search-form" ng-submit="$ctrl.doTagsSearch()" class="layout-full-width"><div class="classic-input" layout="row" layout-fill><div class="search-scope" layout="column" layout-align="center start"><div layout="row" layout-align="center center"><span class="static-text bold-text" layout="column" layout-align="center start" style="font-size: .8em; text-transform: uppercase;letter-spacing: 0.03em"><span class="bold-text" translate="nui.tags.yellow1"></span> <span class="bold-text" translate="nui.tags.yellow2"></span></span></div></div><md-input-container flex md-no-float><input id="searchBarTags" tabindex="0" ng-model="$ctrl.mainSearchField" placeholder="{{\'nui.tags.search.text\' | translate}}" autocomplete="off"></md-input-container><md-button class="submit-button button-confirm" aria-label="Search" ng-click="$ctrl.doTagsSearch()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="magnifying-glass"></prm-icon></md-button></div></form></div></div><div flex="0" flex-md="15" flex-lg="20" flex-xl="30"></div></div><div ng-if="$ctrl.withAlphabet === \'true\'" tabindex="0" layout="row"><div flex="0" flex-md="0" flex-lg="10" flex-xl="20"></div><prm-alphabet-toolbar flex></prm-alphabet-toolbar><div flex="0" flex-md="0" flex-lg="10" flex-xl="20"></div></div><prm-tags-search-bar-after parent-ctrl="$ctrl"></prm-tags-search-bar-after>');
$templateCache.put('components/account/overview/depositsOverview/deposits-overview.html','<div class="tiles-grid-tile"><div class="tile-content" layout="column"><div class="tile-header" layout="column"><div layout="row" layout-align="space-between"><h2 class="header-link light-text" (click)="$ctrl.triggerLinkToDepositsSection()"><span translate="nui.deposits.header"></span><prm-icon class="arrow-icon" icon-type="{{::$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></h2></div></div><md-list layout="column"><prm-spinner ng-if="$ctrl.inProgress" class="default-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><md-list-item class="md-3-line" ng-repeat="deposit in $ctrl.depositsOverviewDisplay" ng-click="$ctrl.triggerLinkToDepositsSection(deposit.depositId)"><span class="item-index">{{$index + 1}}</span><div class="md-list-item-text" layout-fill><h3 ng-if="::deposit.firstLineLeft"><span>{{::deposit.firstLineLeft}}</span></h3><h4 ng-if="::deposit.secondLineLeft"><span>{{::deposit.secondLineLeft}}</span></h4><p class="no-wrap-line" ng-if="::deposit.firstLineRight" ng-class="{\'has-icon-on-left prm-positive\':deposit.isAlert}"><prm-icon ng-if="::deposit.isAlert" icon-type="{{::$ctrl.accountIcons.depositsAlertIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.depositsAlertIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.depositsAlertIcon.icon}}"></prm-icon><span>{{::deposit.firstLineRight}}</span></p><p ng-if="::deposit.secondLineRight" class="weak-text"><span translate="nui.deposits.updatedOn"></span> <span>{{::deposit.secondLineRight}}</span></p></div><div class="tile-item-arrow"><prm-icon icon-type="{{::$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></div></md-list-item></md-list><div ng-if="!$ctrl.numOfDeposits || $ctrl.numOfDeposits === \'0\'" ng-cloak class="message-with-icon" layout="column" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.sun.type}}" svg-icon-set="{{$ctrl.accountIcons.sun.iconSet}}" icon-definition="{{$ctrl.accountIcons.sun.icon}}"></prm-icon><div><span translate="nui.overview.nodeposits"></span></div></div><md-button class="button-with-icon prm-links overflow-visible" layout="row" layout-align="center center" ng-if="$ctrl.numOfDeposits > 3" (click)="$ctrl.triggerLinkToDepositsSection()" aria-label="View all"><span translate="nui.overview.deposits.viewall" translate-values="{placeholders:$ctrl.getViewAllPlaceHolder()}" translate-compile></span><prm-icon class="arrow-icon" icon-type="{{::$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></md-button></div></div><prm-deposits-overview-after parent-ctrl="$ctrl"></prm-deposits-overview-after>');
$templateCache.put('components/account/overview/finesOverview/fines-overview.html','<div class="tiles-grid-tile"><div class="tile-content" layout="column"><div class="tile-header" layout="column"><div layout="row" layout-align="space-between"><h2 data-qa="finesfees_overview_header_btn" class="header-link light-text" ng-click="$ctrl.triggerLinkToFinesSection()" tabindex="0"><span translate="nui.fines.header"></span><prm-icon class="arrow-icon" icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></h2><md-button ng-if="$ctrl.payFinesLink" referrerpolicy="no-referrer-when-downgrade" class="button-link" ng-href="{{$ctrl.payFinesLink}}" target="_blank" aria-label="Pay fines button"><span translate="fines.payfinelink"></span><prm-icon icon-type="{{$ctrl.accountIcons.externalLinkIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.externalLinkIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.externalLinkIcon.icon}}"></prm-icon></md-button></div><div layout="row" ng-if="$ctrl.finesBalance"><em><span translate="nui.fines.balance" translate-values="$ctrl.getFinesBalancePlaceHolder()"></span></em></div><div layout="row" ng-if="$ctrl.demeritsBalance"><em><span translate="nui.fines.demerits" translate-values="$ctrl.getDemeritsBalancePlaceHolder()"></span></em></div></div><md-list layout="column"><prm-spinner ng-if="$ctrl.inProgress" class="default-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><md-list-item class="md-3-line" ng-repeat="fine in $ctrl.finesOverviewDisplay" ng-click="$ctrl.triggerLinkToFinesSection(fine.fineid, fine.fineType)" ng-class="{\'hover-focus-on-safari\': $ctrl.isSafariBrowse()}"><span class="item-index">{{$index + 1}}</span><div class="md-list-item-text"><h3 ng-if="fine.firstLineLeft" class="has-icon-on-left prm-warn overdue-line-overview"><div ng-if="fine.isAlert"><md-tooltip md-delay="400"><span translate="nui.fine.alert.tooltip"></span></md-tooltip><prm-icon icon-type="{{$ctrl.accountIcons.fineAlertIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.fineAlertIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.fineAlertIcon.icon}}"></prm-icon></div><span>{{fine.firstLineLeft}}</span></h3><h4 data-qa="{{fine.secondLineLeft === fine.title ? \'automation_mlc_record_title\' : \'\'}}" ng-if="fine.secondLineLeft"><span translate="nui.fine.brief.1"></span> <span>{{fine.secondLineLeft}}</span></h4><p ng-if="fine.firstLineRight" class="bold-text weak-text"><span>{{fine.firstLineRight}}</span></p><p ng-if="fine.secondLineRight" class="weak-text"><span translate="nui.fine.brief.2"></span> <span>{{fine.secondLineRight}}</span></p></div><div class="tile-item-arrow"><prm-icon icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></div></md-list-item></md-list><div ng-if="(!$ctrl.numOfFines || $ctrl.numOfFines === 0)" ng-cloak class="message-with-icon" layout="column" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.emoticonCool.type}}" svg-icon-set="{{$ctrl.accountIcons.emoticonCool.iconSet}}" icon-definition="{{$ctrl.accountIcons.emoticonCool.icon}}"></prm-icon><div><span translate="nui.overview.nofines"></span></div></div><md-button class="button-with-icon prm-links overflow-visible" layout="row" layout-align="center center" ng-if="$ctrl.numOfFines > 3" (click)="$ctrl.triggerLinkToFinesSection()" aria-label="view fines button" data-qa="finesfees_overview_view_all_btn"><span translate="nui.overview.fines.viewall" translate-values="$ctrl.getViewAllPlaceHolder()"></span><prm-icon class="arrow-icon" icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></md-button></div></div><prm-fines-overview-after parent-ctrl="$ctrl"></prm-fines-overview-after>');
$templateCache.put('components/account/overview/loansOverview/loans-overview.html','<div class="tiles-grid-tile"><div class="tile-content" layout="column"><div class="tile-header" layout="column"><div layout="row" layout-align="space-between"><h2 class="header-link light-text" ng-click="$ctrl.triggerLinkToLoansSection()" tabindex="0"><span translate="nui.loans.header"></span><prm-icon class="arrow-icon" icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></h2><md-button ng-if="$ctrl.hasRenewableLoans()" class="button-link" (click)="$ctrl.triggerLinkToLoansSection(); $ctrl.renewAllLoans()" aria-label="{{::(\'nui.loans.renewall\' | translate)}}"><prm-icon class="h-flipped" icon-type="{{$ctrl.accountIcons.renewLoanIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.renewLoanIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.renewLoanIcon.icon}}"></prm-icon><span translate="nui.loans.renewall"></span></md-button></div></div><md-list layout="column"><prm-spinner ng-if="$ctrl.inProgress" class="default-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><md-list-item class="md-3-line" ng-repeat="item in $ctrl.loansOverviewDisplay" ng-click="$ctrl.triggerLinkToLoansSection(item.loanid)" aria-label="{{::$index + 1}}{{\' \'}}{{::item.title ? item.title : \'\'}}{{::item.getBriefDisplayLine(1) ? item.getBriefDisplayLine(1) : \'\'}}{{\' \'}}{{::item.isActiveLoan() ? ((item.getCodeAlert() | translate) + \' \' + item.getDateForBriefDisplay()) : \'\'}}{{\' \'}}{{::(\'nui.loan.brief.2\' | translate)}}{{\' \'}}{{::item.getBriefDisplayLine(2)}}"><span class="item-index">{{$index + 1}}</span><div class="md-list-item-text"><h3 data-qa="automation_mlc_record_title" ng-if="item.title" dir="auto">{{item.title}}</h3><h4 class="loans-brief-display" ng-if="item.isBriefDisplayLineEnabled(1)"><span translate="nui.loan.brief.1"></span> {{item.getBriefDisplayLine(1)}}</h4><p data-qa="automation_mlc_record_date" class="no-wrap-line overdue-line-overview" ng-class="{\'has-icon-on-left prm-warn\': item.isDueAlert()}" ng-if="item.isActiveLoan() && (item.isShowDateInAlert() || item.isShowHourInAlert())"><prm-icon ng-if="item.isDueAlert()" icon-type="{{$ctrl.accountIcons.timerIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.timerIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.timerIcon.icon}}"></prm-icon><span ng-if="item.isShowDateInAlert() || item.isShowHourInAlert()" translate="{{item.getCodeAlert()}}"></span><span ng-if="item.isShowDateInAlert() || item.isShowHourInAlert()"><span>:</span><span ng-if="item.isDueAlert()">&nbsp</span></span> <span>{{item.getDateForBriefDisplay()}}</span> <span ng-if="::$ctrl.isDisplayTimeZone() && item.isShowHourInAlert()">{{\'&nbsp\' + $ctrl.timeZone}}</span></p><p class="normal-text loans-brief-display no-wrap-line weak-text" ng-if="item.isBriefDisplayLineEnabled(2)"><span translate="nui.loan.brief.2"></span> {{item.getBriefDisplayLine(2)}}</p></div><div ng-if="!item.isActiveLoan()"><span translate="loans.return_date"></span>: <span>{{item.getDateForBriefDisplay()}}</span></div><div class="tile-item-arrow"><prm-icon icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></div></md-list-item></md-list><div ng-if="!$ctrl.numOfLoans || $ctrl.numOfLoans === \'0\'" ng-cloak class="message-with-icon" layout="column" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.beer.type}}" svg-icon-set="{{$ctrl.accountIcons.beer.iconSet}}" icon-definition="{{$ctrl.accountIcons.beer.icon}}"></prm-icon><div><span translate="nui.overview.noloans"></span></div></div><md-button class="button-with-icon overflow-visible" layout="row" layout-align="center center" ng-if="$ctrl.numOfLoans > 3" (click)="$ctrl.triggerLinkToLoansSection()" aria-label="view all loans button"><span translate="nui.overview.loans.viewall" translate-values="$ctrl.getViewAllPlaceHolder()"></span><prm-icon class="arrow-icon" icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></md-button></div></div><prm-loans-overview-after parent-ctrl="$ctrl"></prm-loans-overview-after>');
$templateCache.put('components/account/overview/messagesAndBlocksOverview/messages-and-blocks-overview.html','<div class="tiles-grid-tile"><div class="tile-content" layout="column"><div class="tile-header" layout="column"><div layout="row" layout-align="space-between"><h2 class="header-link light-text" ng-click="$ctrl.triggerLinkToMessagesSection()" tabindex="0"><span translate="nui.blocks.header"></span><prm-icon class="arrow-icon" icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></h2></div></div><md-list layout="column"><prm-spinner ng-if="$ctrl.inProgress" class="default-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><md-list-item class="md-3-line" ng-repeat="message in $ctrl.messagesOverviewDisplay" ng-click="$ctrl.triggerLinkToMessagesSection()" ng-class="{\'hover-focus-on-safari\': $ctrl.isSafariBrowse(), \'block\': message.type === \'block\', \'message\': message.type === \'message\'}"><span class="item-index">{{$index + 1}}</span><div class="md-list-item-text"><h3 ng-if="message.ilsinstitutionname" class="no-wrap-line"><span>{{message.ilsinstitutionname}}</span></h3><h4 ng-if="message.text" class="no-wrap-line"><span>{{message.text}}</span></h4></div><div class="tile-item-arrow"><prm-icon icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></div></md-list-item></md-list><div ng-if="$ctrl.numOfMessages === 0" ng-cloak layout="column" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.beach.type}}" svg-icon-set="{{$ctrl.accountIcons.beach.iconSet}}" icon-definition="{{$ctrl.accountIcons.beach.icon}}"></prm-icon><div><span translate="nui.overview.noblocks"></span></div></div><md-button class="button-with-icon prm-links overflow-visible" layout="row" layout-align="center center" ng-if="$ctrl.numOfMessages > 3" (click)="$ctrl.triggerLinkToMessagesSection()" aria-label="view all messages button"><span translate="nui.overview.blocks.viewall" translate-values="$ctrl.getViewAllPlaceHolder()"></span><prm-icon class="arrow-icon" icon-type="{{$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></md-button></div></div><prm-messages-and-blocks-overview-after parent-ctrl="$ctrl"></prm-messages-and-blocks-overview-after>');
$templateCache.put('components/account/overview/requestsOverview/requests-overview.html','<div class="tiles-grid-tile"><div class="tile-content" layout="column"><div class="tile-header" layout="column"><div layout="row" layout-align="space-between"><h2 class="header-link light-text" ng-click="$ctrl.triggerLinkToRequestsSection()" tabindex="0"><span translate="nui.requests.header"></span><prm-icon class="arrow-icon" icon-type="{{::$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></h2></div></div><md-list layout="column"><prm-spinner ng-if="$ctrl.inProgress" class="default-loader dark-on-light overlay-cover no-text" layout="row" layout-align="center center"></prm-spinner><md-list-item class="md-3-line" ng-repeat="request in $ctrl.requestsOverviewDisplay" ng-click="$ctrl.triggerLinkToRequestsSection(request.requestId)" class="display-block" ng-class="{\'hover-focus-on-safari\': $ctrl.isSafariBrowse()}" aria-label="{{::$index + 1}}{{\' \'}}{{::request.firstLineLeft ? request.firstLineLeft : \'\'}}{{\' \'}}{{::request.secondLineLeft ? ((\'nui.request.brief.1\' | translate) + request.secondLineLeft) : \'\'}}{{\' \'}}{{::request.firstLineRight ? ((\'request.\'+request.requestType+\'.request_type\' | translate) + \' \' + request.firstLineRight) : \'\'}}{{\' \'}}{{::request.secondLineRight ? ((\'nui.request.brief.2\' | translate) + \' \' + request.secondLineRight) : \'\'}}"><span class="item-index">{{$index + 1}}</span><div class="md-list-item-text" layout-fill><h3 data-qa="{{request.firstLineLeft === request.title ? \'automation_mlc_record_title\' : \'\'}}" ng-if="::request.firstLineLeft" dir="auto"><span>{{::request.firstLineLeft}}</span></h3><h4 ng-if="::request.secondLineLeft"><span translate="nui.request.brief.1"></span> <span>{{::request.secondLineLeft}}</span></h4><p class="no-wrap-line" ng-if="::request.firstLineRight" ng-class="{\'has-icon-on-left prm-positive\':request.isAlert}"><prm-icon ng-if="::request.isAlert" icon-type="{{::$ctrl.accountIcons.requestsAlertIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.requestsAlertIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.requestsAlertIcon.icon}}"></prm-icon><span class="text-uppercase" translate="{{::(\'request.\'+request.requestType+\'.request_type\')}}"></span>. <span>{{::request.firstLineRight}}</span></p><p ng-if="::$ctrl.showPickupLocation(request)" class="weak-text"><span ng-if="request.requestType != \'cdls\'" translate="nui.request.brief.2"></span> <span ng-if="request.requestType == \'cdls\'" translate="nui.request.brief.loan_period"></span> <span>{{::request.secondLineRight}}</span></p></div><div class="tile-item-arrow"><prm-icon icon-type="{{::$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></div></md-list-item></md-list><div ng-if="!$ctrl.numOfRequests || $ctrl.numOfRequests === \'0\'" ng-cloak class="message-with-icon" layout="column" layout-align="center center" layout-padding layout-margin><prm-icon class="giant-icon bg-icon" icon-type="{{$ctrl.accountIcons.sun.type}}" svg-icon-set="{{$ctrl.accountIcons.sun.iconSet}}" icon-definition="{{$ctrl.accountIcons.sun.icon}}"></prm-icon><div><span translate="nui.overview.norequests"></span></div></div><md-button class="button-with-icon prm-links overflow-visible" layout="row" layout-align="center center" ng-if="$ctrl.numOfRequests > 3" (click)="$ctrl.triggerLinkToRequestsSection()" aria-label="View all"><span translate="nui.overview.requests.viewall" translate-values="$ctrl.getViewAllPlaceHolder()"></span><prm-icon class="arrow-icon" icon-type="{{::$ctrl.accountIcons.arrowRightIcon.type}}" svg-icon-set="{{::$ctrl.accountIcons.arrowRightIcon.iconSet}}" icon-definition="{{::$ctrl.accountIcons.arrowRightIcon.icon}}"></prm-icon></md-button></div></div><prm-requests-overview-after parent-ctrl="$ctrl"></prm-requests-overview-after>');
$templateCache.put('components/collectionDiscovery/collectionGallery/collectionDiscoveryViewSwitcher/collection-discovery-view-switcher.html','<span class="margin-right-small">{{\'nui.colldiscovery.view\' | translate}}</span><md-button class="md-icon-button zero-margin" style="top: -8px;font-style: normal;" ng-click="$ctrl.setResultsViewStyle(\'grid\')" ng-class="{\'is-active\': $ctrl.resultsViewStyle === \'grid\'}" aria-pressed="{{$ctrl.resultsViewStyle === \'grid\'}}"><md-tooltip><span>{{\'nui.colldiscovery.view.grid.tooltip\' | translate}}</span></md-tooltip><prm-icon availability-type icon-type="{{::$ctrl.collectionDiscoveryIcons.gridViewIcon.type}}" svg-icon-set="{{::$ctrl.collectionDiscoveryIcons.gridViewIcon.iconSet}}" icon-definition="{{::$ctrl.collectionDiscoveryIcons.gridViewIcon.icon}}"></prm-icon></md-button><md-button class="md-icon-button zero-margin" style="top: -8px;font-style: normal;" ng-click="$ctrl.setResultsViewStyle(\'gallery\')" ng-class="{\'is-active\': $ctrl.resultsViewStyle === \'gallery\'}" aria-pressed="{{$ctrl.resultsViewStyle === \'gallery\'}}"><md-tooltip><span>{{\'nui.colldiscovery.view.gallery.tooltip\' | translate}}</span></md-tooltip><prm-icon availability-type icon-type="{{::$ctrl.collectionDiscoveryIcons.GalleryViewIcon.type}}" svg-icon-set="{{::$ctrl.collectionDiscoveryIcons.GalleryViewIcon.iconSet}}" icon-definition="{{::$ctrl.collectionDiscoveryIcons.GalleryViewIcon.icon}}"></prm-icon></md-button><prm-collection-discovery-view-switcher-after parent-ctrl="$ctrl"></prm-collection-discovery-view-switcher-after>');
$templateCache.put('components/collectionDiscovery/collectionGallery/galleryCollectionsList/gallery-collections-list.html','<div ng-if="$ctrl.showCollections()" layout="column" class="is-gallery-view" style="margin-top: 10px;"><div class="padding-left-small margin-bottom-medium" ng-if="true" layout="row" layout-align="start center"><h2 ng-if="!$ctrl.isGalleryLobby" class="margin-zero">{{\'nui.colldiscovery.subcollections.title\' | translate: {\'idx_0\' : $ctrl.getCollectionsCount()} }}</h2><h2 ng-if="$ctrl.isGalleryLobby" class="margin-zero">{{\'nui.colldiscovery.collections.title\' | translate: {\'idx_1\' : $ctrl.getCollectionsCount()} }}</h2></div><div layout="row" class="margin-bottom-small" flex ng-if="$ctrl.collections.length > 0" layout-wrap ng-class="{\'flex-basis-auto\': $ctrl.isIe}"><prm-gallery-collection ng-repeat="collection in $ctrl.finalCollections" [collection]="collection" [next-path]="::$ctrl.nextPath" [index]="::1 + $index" [total-collections]="::$ctrl.collections.length" [is-gallery-lobby]="::$ctrl.isGalleryLobby" ng-class="{\'ie-gallery-collection\': $ctrl.isIE}"></prm-gallery-collection></div><prm-spinner ng-if="$ctrl.loadCollectionsInProgress" class="half-transparent no-text bottom-loader" layout="row" layout-align="center end" layout-margin></prm-spinner><div layout="row" class="margin-bottom-small" flex ng-if="!$ctrl.collections.length" layout-wrap ng-class="{\'flex-basis-auto\': $ctrl.isIe}"><prm-gallery-collection [collection]="$ctrl.collections" [next-path]="::$ctrl.nextPath" [total-collections]="1" ng-class="{\'ie-gallery-collection\': $ctrl.isIE}"></prm-gallery-collection></div></div><prm-gallery-collections-list-after parent-ctrl="$ctrl"></prm-gallery-collections-list-after>');
$templateCache.put('components/collectionDiscovery/collectionGallery/galleryItemsList/gallery-items-list.html','<div layout="column" ng-if="$ctrl.showItems()"><div class="padding-left-small margin-bottom-medium" ng-if="::$ctrl.itemsList" layout="row" layout-align="start center"><h2 class="margin-zero" ng-if="!$ctrl.isGalleryLobby"><span translate="nui.colldiscovery.items.title"></span> ({{$ctrl.totalItems}})</h2><h2 class="margin-zero" ng-if="$ctrl.isGalleryLobby"><span translate="nui.colldiscovery.items.AllCollections.title"></span> ({{$ctrl.totalItems}})</h2><span flex></span><prm-collection-discovery-view-switcher style="height: 19px; margin-left: 1em; margin-right: 15px; font-style: normal" layout="row"></prm-collection-discovery-view-switcher></div><div layout="row"><div deckgrid source="$ctrl.itemsList" class="is-gallery-view" ng-if="$ctrl.itemsViewStyle === \'gallery\'"><prm-gallery-item [item]="::card" [index]="::1 + card.$index" [total-items]="::mother.$ctrl.totalItems"></prm-gallery-item></div><div class="is-grid-view" ng-if="$ctrl.itemsViewStyle === \'grid\'" layout="row" layout-wrap><prm-gallery-item ng-repeat="item in $ctrl.itemsList" [item]="item" [index]="::1 + $index" [total-items]="::$ctrl.totalItems"></prm-gallery-item></div></div><div layout="row" layout-align="center center" ng-hide="$ctrl.searchInProgress" class="padding-top-large"><md-button ng-if="$ctrl.hasNextResults" (click)="$ctrl.getMoreResults()" class="button-confirm button-large" aria-label="{{\'nui.aria.brief.items.loadMore\' | translate}}" translate="nui.brief.items.loadMore"></md-button></div><prm-spinner ng-if="$ctrl.searchInProgress" class="half-transparent no-text bottom-loader" layout="row" layout-align="center end" layout-margin></prm-spinner></div><div layout="column" ng-if="$ctrl.itemsList.length === 0 && $ctrl.searchQuery && !$ctrl.itemsSearchInProgress"><div class="padding-left-small margin-bottom-medium" ng-if="::$ctrl.itemsList" layout="row" layout-align="start center"><h2 class="margin-zero" ng-if="!$ctrl.isGalleryLobby"><span translate="nui.colldiscovery.items.title"></span> ({{$ctrl.totalItems}})</h2><h2 class="margin-zero" ng-if="$ctrl.isGalleryLobby"><span translate="nui.colldiscovery.items.noItemsFound"></span> ({{$ctrl.totalItems}})</h2></div></div><prm-gallery-items-list-after parent-ctrl="$ctrl"></prm-gallery-items-list-after>');
$templateCache.put('components/collectionDiscovery/collectionNavigationBreadcrumbs/collectionNavigationBreadcrumbsItem/collection-navigation-breadcrumbs-item.html','<md-button class="button-as-link link-alt-color" href ng-click="vm.handleNavClick(collection); $ctrl.runCollectionDiscoveryBeacon()" ng-class="{\'button-with-icon\': $ctrl.isRootObject}" ui-state="$ctrl.COLLECTION_DISCOVERY_STATE" ui-state-params="$ctrl.breadcrumbStateParams" ui-sref-opts="{reload: true, inherit:false}" aria-current="{{$ctrl.isLast ? \'page\' : \'\'}}" aria-label="{{$ctrl.tooltip}}" title="{{$ctrl.tooltip}}" target="{{$ctrl.getTargetName()}}"><prm-icon ng-if="::$ctrl.isRootObject" icon-type="{{::$ctrl.collectionDiscoveryIcons.HeaderHomeIcon.type}}" svg-icon-set="{{::$ctrl.collectionDiscoveryIcons.HeaderHomeIcon.iconSet}}" icon-definition="{{::$ctrl.collectionDiscoveryIcons.HeaderHomeIcon.icon}}"></prm-icon><span>{{::$ctrl.title}}</span></md-button><md-divider class="skewed-divider" ng-if="$ctrl.displaySeparator()"></md-divider><prm-collection-navigation-breadcrumbs-item-after parent-ctrl="$ctrl"></prm-collection-navigation-breadcrumbs-item-after>');
$templateCache.put('components/favorites/favoritesToolBar/saved-searches-group-actions/saved-searches-group-actions.html','<div layout="row"><div ng-if="!$ctrl.showSearchHistoryActions()" class="toolbar-item animate-enter-leave-scale-bounce staggered"><md-button class="md-icon-button unpin-button" (click)="$ctrl.removeSelectedSearches()" aria-label="{{$ctrl.isChosenFav() | translate}}" ng-disabled="$ctrl.disable()"><md-tooltip md-delay="400"><span translate="nui.favorites.search.unpin.multiple.tooltip"></span></md-tooltip><prm-icon ng-if="!item.alert" icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_unpin" class="custom-button" ng-class="{\'disabledFavTool\':$ctrl.disable()}"></prm-icon></md-button></div><div ng-if="$ctrl.isLoggedIn() && $ctrl.showSearchHistoryActions()" class="toolbar-item animate-enter-leave-scale-bounce staggered"><md-button class="md-icon-button" (click)="$ctrl.saveSelectedSearchHistoryItemsToSavedSearches()" aria-label="{{$ctrl.isChosenKeepItem() | translate}}" ng-disabled="$ctrl.disable()"><md-tooltip md-delay="400"><span translate="nui.favorites.search.save.single.tooltip"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_pin" class="custom-button" ng-class="{\'disabledFavTool\':$ctrl.disable()}"></prm-icon></md-button></div><div ng-if="$ctrl.showSearchHistoryActions()" class="toolbar-item animate-enter-leave-scale-bounce staggered"><md-button class="md-icon-button" (click)="$ctrl.removeSearchHistorySelectedItems()" aria-label="{{$ctrl.isChosenRemove() | translate}}" ng-disabled="$ctrl.disable()"><md-tooltip md-delay="400"><span translate="nui.favorites.search.remove.single.tooltip"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_delete_24px" class="custom-button" ng-class="{\'disabledFavTool\':$ctrl.disable()}"></prm-icon></md-button></div></div><prm-saved-searches-group-actions-after parent-ctrl="$ctrl"></prm-saved-searches-group-actions-after>');
$templateCache.put('components/infra/dataStructures/model/model.html','<md-toolbar class="md-primay"><div class="md-toolbar-tools" layout="row" layout-align="space-between center" layout-padding><md-switch ng-model="$ctrl.active" aria-label="Switch Model Debug Mode on/off">Model Debug Mode: {{ $ctrl.active}}</md-switch><span flex></span><h2><span>Primo Model</span></h2><span flex></span></div></md-toolbar><header layout="column" class="topbar-wrapper"></header><md-content layout="row" class="padded-container" layout-align="center start"><div class="main" layout="row" flex><div flex="0" flex-gt-sm="5" flex-gt-md="10" flex-gt-lg="20"></div><div flex><md-tabs md-dynamic-height md-border-bottom ng-if="$ctrl.active"><md-tab ng-repeat="(key, val) in ($ctrl.model)" label="{{key}}"><md-content class="md-padding"><h1 class="md-display-2">{{key}}</h1><md-card><md-card-content><textarea style="height:100em;width: 100%;" ng-if="!$ctrl.isJsonArray(val)">{{::($ctrl.beautifyJson(val))}}</textarea></md-card-content></md-card><md-card ng-if="$ctrl.isJsonArray(val)" ng-repeat="item in val"><md-card-title>Batch {{::($index +1)}}</md-card-title><md-card-content><textarea style="height:100em;width: 100%;">\r\n                            {{::($ctrl.beautifyJson(item))}}</textarea></md-card-content></md-card></md-content></md-tab></md-tabs></div><div class="sidebar" flex-gt-sm="25" flex-gt-lg="20" class="sidebar" layout="row"></div><div flex="0" flex-gt-sm="5" flex-gt-lg="10"></div></div></md-content>');
$templateCache.put('components/infra/deposit/uploadFile/upload-file.html','<div ng-show="badFormat" class="Error">File fomrat not supported!</div><div class="form-group" ng-show="$ctrl.mode == \'hover\' || !$ctrl.filename"><div class="input-row" class="FullWidth"><div class="file-drop-zone-wrapper"><div class="input-message warning-inverse" ng-if="fileFailed && !f.upload.aborted">{{\'file.upload.error.message\' | translate}}</div><div class="input-message warning-inverse" ng-if="fileTooLarge && !f.upload.aborted">{{\'file.upload.error.too.large\' | translate:{size:$ctrl.formatBytes($ctrl.userMaxFileSize)} }}</div><div ngf-drop="$ctrl.upload()" ngf-select="$ctrl.upload()" ngf-drop-disabled="disabled && $ctrl.mode == \'hover\'" ngf-select-disabled="$ctrl.mode == \'hover\'" ng-model="$ctrl.files" class="file-drop-zone" id="dragAndDropBtn" ngf-drag-over-class="{accept:\'dragover\', reject:\'dragover-err\', delay:100}" ng-model-rejected="rejFiles" ngf-multiple="true" ngf-allow-dir="true" accept="{{$ctrl.filesFormat}}" ngf-accept="$ctrl.filesFormat" aria-label="{{\'nui.deposit.dragFiles\' | translate}} {{\'nui.deposit.browseFiles\' | translate}}"><span ng-if="$ctrl.mode != \'hover\'"><span class="guidance-text-out">{{\'nui.deposit.dragFiles\' | translate}}<br><span class="small">{{\'nui.deposit.browseFiles\' | translate}}</span> </span><span class="guidance-text-on">{{\'nui.deposit.dropIt\' | translate}}</span></span></div></div></div></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-buttonAndText.html','<md-button class="left-field-button" aria-label="{{::$ctrl.field.options.ariaLabel}}" ng-click="$ctrl.sendButtonClicked()" name="{{::$ctrl.field.name}}"><span translate="{{::$ctrl.field.label}}"></span></md-button><span aria-live="assertive" class="bold-text" translate="{{::$ctrl.field.options.textLabel}}" translate-values="$ctrl.getValuesForTranslation()"></span>');
$templateCache.put('components/infra/formBuilder/field/form-field-checkbox.html','<div id="form_field_checkbox_{{::$ctrl.field.key}}" ng-if="::$ctrl.isFieldHasLabel()"><div ng-if="::$ctrl.field.headline"><label class="request-form-headline" for="prm_{{::$ctrl.field.headline}}" translate="{{::$ctrl.field.headline}}" aria-label="{{::$ctrl.field.headline| translate}}"></label></div><md-input-container class="checkbox-field" ng-class="{\'md-required\':({{::$ctrl.field.mandatory}})}" aria-describedby="{{$ctrl.field.name}}_error_message"><md-checkbox ng-repeat="option in ::$ctrl.field.options" aria-label="{{option.ariaLabel ? (option.ariaLabel| translate) : (option.label| translate)}}" ng-change="::$ctrl.field.events.onChange($ctrl.field.events.params)" ng-true-value="\'Yes\'" ng-model="::$ctrl.formData[$ctrl.field.name]" , name="{{::$ctrl.field.name}}" , ng-required="::$ctrl.field.mandatory"><span ng-if="::!$ctrl.isRapidoCopyright() && !$ctrl.isLoginComplianceStatement()" translate="{{option.label}}" translate-default="{{option.label}}" ng-class="{\'checkbox-warning-message\' : $ctrl.labelColor(option.label)}"></span> <span ng-if="::$ctrl.isRapidoCopyright()" ng-bind-html="option.label"></span> <span ng-if="::$ctrl.isLoginComplianceStatement()" translate="{{option.label}}"></span></md-checkbox><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched) && !$ctrl.isRequestSubmitted"><div ng-message="required" id="{{$ctrl.field.name}}_error_message"><span ng-if="!$ctrl.isCopyrightField()" translate="nui.mandatory.checkbox" translate-values="::$ctrl.errorMsgPlaceholders" translate-compile></span> <span ng-if="$ctrl.isCopyrightField()" translate="nui.mandatory.copyright" translate-compile></span></div></div></md-input-container></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-date-dropdown.html','<div ng-if="$ctrl.delayForLabels" layout="row"><md-input-container class="underlined-input"><label translate="search-advanced.DateRange.label.Year"></label> <input type="text" ng-model="$ctrl.formData[$ctrl.field.name].year" ng-model-options="{allowInvalid: true}" maxlength="4" size="4" ng-pattern="$ctrl.yearRegex"/><div ng-messages="$ctrl.form.$error" style="color:tomato"><div ng-message="pattern"><span translate="search.search.error.yearInvalidCharacters"></span></div></div></md-input-container><md-input-container class="underlined-input"><label translate="search-advanced.drStartMonth.option.start_month"></label><md-select ng-model="$ctrl.formData[$ctrl.field.name].month"><md-option ng-repeat="month in $ctrl.months" value="{{month}}"><span>{{month}}</span></md-option></md-select></md-input-container><md-input-container class="underlined-input" ng-class="{\'md-required\':$ctrl.field.mandatory}"><label translate="search-advanced.drStartDay.option.start_day"></label><md-select ng-model="$ctrl.formData[$ctrl.field.name].day"><md-option ng-repeat="day in $ctrl.days" value="{{day}}"><span>{{day}}</span></md-option></md-select></md-input-container></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-date-repeatable.html','<div ng-repeat=" x in [].constructor(7) track by $index" ng-if="$index<$ctrl.limit" layout="row"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label><div class="service-form-item" layout="column"><md-tooltip>{{\'nui.datePicker.tooltip\' | translate}}</md-tooltip><md-datepicker ng-model="$ctrl.formData[$ctrl.field.name+$index]" name="{{$ctrl.field.name}}" md-placeholder="{{($ctrl.field.placeHolder | translate)||(\'nui.datePicker.pickupDate\' | translate)}}" md-date-filter="$ctrl.filterDates" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" ng-required="$ctrl.field.mandatory&&$Sindex==0" title="{{$ctrl.field.tooltip}}"></md-datepicker><md-input-container><div ng-messages="$ctrl.form[$ctrl.field.name].$error" class="validation-messages" ng-if="($index==0&&($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched)) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.shortloan.slot"></span></div><div ng-message="valid"><span translate="nui.valid.date"></span></div><div ng-message="mindate"><span translate="nui.valid.date.early"></span></div></div></md-input-container></div><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.incrementLimit($index)" ng-hide="$ctrl.limit >= 7"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="plus"></prm-icon></md-button><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.decreaseLimit($index)" ng-hide="$index==0"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-date.html','<label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label><div class="service-form-item" layout="column"><md-tooltip>{{\'nui.datePicker.tooltip\' | translate}}</md-tooltip><md-input-container ng-class="{\'md-required\':({{::$ctrl.field.mandatory}})}"><md-datepicker ng-model="$ctrl.formData[$ctrl.field.name]" name="{{$ctrl.field.name}}" md-placeholder="{{($ctrl.field.placeHolder | translate)||(\'nui.datePicker.pickupDate\' | translate)}}" md-date-filter="$ctrl.filterDates" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" ng-required="$ctrl.field.mandatory" title="{{$ctrl.field.tooltip}}"></md-datepicker><div ng-messages="$ctrl.form[$ctrl.field.name].$error" class="validation-messages" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.shortloan.slot"></span></div><div ng-message="valid"><span translate="nui.valid.date"></span></div><div ng-message="mindate"><span translate="nui.valid.date.early"></span></div></div></md-input-container></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-dateAndHours.html','<label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}"></label><div class="service-form-item" layout="row"><md-tooltip>{{\'nui.datePicker.tooltip\' | translate}}</md-tooltip><md-datepicker ng-model="$ctrl.formData[$ctrl.field.name].date" name="{{$ctrl.field.name}}_date" md-placeholder="{{\'nui.datePicker.pickupDate\' | translate}}" md-date-filter="$ctrl.filterDates" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" ng-required="$ctrl.field.mandatory"></md-datepicker><md-select ng-model="$ctrl.formData[$ctrl.field.name].hour" ng-required="$ctrl.field.mandatory" name="{{$ctrl.field.name}}_hour" placeholder="{{\'nui.datePicker.hour\' | translate}}" style="margin: 0 20px 0 26px"><md-option ng-repeat="hour in $ctrl.hours" ng-value="hour"><span>{{hour}}</span></md-option></md-select></div><md-input-container><div ng-messages="$ctrl.form[$ctrl.field.name+\'_date\'].$error" class="validation-messages" ng-if="$ctrl.form.$submitted && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.shortloan.slot"></span></div></div><div ng-messages="$ctrl.form[$ctrl.field.name+\'_hour\'].$error" class="validation-messages" ng-if="($ctrl.form.$submitted && !$ctrl.form[$ctrl.field.name+\'_date\'].$error.required) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.shortloan.slot"></span></div></div></md-input-container>');
$templateCache.put('components/infra/formBuilder/field/form-field-dateAndTime.html','<label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}"></label><div class="service-form-item" layout="{{$ctrl.mediaQueries.xs ? \'column\' : \'row\'}}"><div><md-tooltip>{{\'nui.datePicker.tooltip\' | translate}}</md-tooltip><md-datepicker ng-model="$ctrl.formData[$ctrl.field.name].date" name="{{$ctrl.field.name}}_date" md-placeholder="{{\'nui.datePicker.pickupDate\' | translate}}" md-date-filter="$ctrl.filterDates" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" ng-required="$ctrl.field.mandatory"></md-datepicker></div><div layout="row" layout-align="{{$ctrl.mediaQueries.xs ? \'center center\' : \'\'}}"><md-select ng-model="$ctrl.formData[$ctrl.field.name].hour" ng-required="$ctrl.field.mandatory" name="{{$ctrl.field.name}}_hour" placeholder="{{\'nui.datePicker.hour\' | translate}}" style="margin: 0 20px 0 26px"><md-option ng-repeat="hour in $ctrl.hours" ng-value="hour"><span>{{hour}}</span></md-option></md-select><md-select ng-model="$ctrl.formData[$ctrl.field.name].minute" ng-required="$ctrl.field.mandatory" name="{{$ctrl.field.name}}_minute" class="aaa" placeholder="{{\'nui.datePicker.minute\' | translate}}" style="margin: 0 20px 0 26px"><md-option ng-repeat="minute in $ctrl.minutes" ng-value="minute"><span>{{minute}}</span></md-option></md-select></div></div><md-input-container><div ng-messages="$ctrl.form[$ctrl.field.name+\'_date\'].$error" class="validation-messages" ng-if="$ctrl.form.$submitted && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.shortloan.slot"></span></div></div><div ng-messages="$ctrl.form[$ctrl.field.name+\'_hour\'].$error" class="validation-messages" ng-if="($ctrl.form.$submitted && !$ctrl.form[$ctrl.field.name+\'_date\'].$error.required) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.shortloan.slot"></span></div></div><div ng-messages="$ctrl.form[$ctrl.field.name+\'_minute\'].$error" class="validation-messages" ng-if="($ctrl.form.$submitted && !$ctrl.form[$ctrl.field.name+\'_date\'].$error.required && !$ctrl.form[$ctrl.field.name+\'_hour\'].$error.required) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.shortloan.slot"></span></div></div></md-input-container>');
$templateCache.put('components/infra/formBuilder/field/form-field-datetime.html','<md-input-container ng-class="{\'md-required\':($ctrl.field.mandatory || $ctrl.field.mandatoryIndicator)}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}"></label> <input ng-model="$ctrl.formData[$ctrl.field.name]" type="datetime-local" name="{{$ctrl.field.name}}" ng-required="$ctrl.field.mandatory" ng-disabled="$ctrl.field.disabled" name="{{$ctrl.field.name}}" value="{{$ctrl.getCurrentDate()}}" min="{{$ctrl.getCurrentDate()}}"/><div ng-messages="$ctrl.form[$ctrl.field.name].$error" style="color:maroon" class="help-block" ng-if="($ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.text" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div></div></md-input-container>');
$templateCache.put('components/infra/formBuilder/field/form-field-dropdown-repeatable.html','<div ng-repeat=" x in [].constructor(7) track by $index" ng-if="$index<$ctrl.limit" layout="row"><prm-icon ng-if="$ctrl.field.disabled" icon-type="svg" svg-icon-set="primo-ui" icon-definition="lock"></prm-icon><md-button ng-click="$ctrl.expandList(\'prm_\'+$ctrl.field.label)" alt="{{$ctrl.field.label}}" tabindex="1" class="dummy-dragon-button absolute-position"></md-button><md-input-container class="underlined-input" ng-class="{\'md-required\':($ctrl.field.mandatory&&$index==0 || $ctrl.field.mandatoryIndicator)}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label><md-select ng-model="$ctrl.formData[$ctrl.field.name+$index]" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" aria-label="{{$ctrl.field.label}}" ng-required="$ctrl.field.mandatory&&Sindex==0" ng-disabled="$ctrl.field.disabled" name="{{$ctrl.field.name}}" title="{{$ctrl.field.tooltip}}"><md-option id="prm_{{$ctrl.field.label}}" ng-repeat="option in $ctrl.field.options" value="{{option.value}}" ng-if="!$ctrl.field.populator.params.byCategory || !$ctrl.getCatagories() ||  $ctrl.getCatagories().length===0"><span role="button">{{option.label}}</span></md-option><md-optgroup ng-if="$ctrl.field.populator.params.byCategory" ng-repeat="category in $ctrl.getCatagories()" label="{{category}}"><md-option ng-repeat="option in $ctrl.field.options | filter: {category: category }" value="{{option.value}}"><span role="button">{{option.label}}</span></md-option></md-optgroup></md-select><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="$index==0&&($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.drop-down" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div></div></md-input-container><prm-icon ng-if="$ctrl.field.disabled" class="animate-enter-leave-scale"><md-tooltip md-direction="right" md-autohide="true" ng-if="$ctrl.field.disabled">Reset request form to edit category</md-tooltip><md-icon md-svg-icon="./images/lock-outline.svg"></md-icon></prm-icon><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.incrementLimit($index)" ng-hide="$ctrl.limit >= 7"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="plus"></prm-icon></md-button><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.decreaseLimit($index)" ng-hide="$index==0"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-dropdown-with-filter-search.html','<prm-icon ng-if="$ctrl.field.disabled" icon-type="svg" svg-icon-set="primo-ui" icon-definition="lock"></prm-icon><md-button ng-click="$ctrl.expandList(\'prm_\'+$ctrl.field.label)" tabindex="1" aria-label="{{$ctrl.getFieldTranslated()}}" class="dummy-dragon-button absolute-position"></md-button><md-input-container class="underlined-input" ng-class="{\'md-required\':($ctrl.field.mandatory || $ctrl.field.mandatoryIndicator)}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}"></label><md-select ng-model="$ctrl.formData[$ctrl.field.name]" id="mandatory_{{::$ctrl.field.key}}" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" aria-label="{{$ctrl.field.label | translate}}" ng-required="$ctrl.field.mandatory" ng-disabled="$ctrl.field.disabled" md-on-close="$ctrl.filterSearchTerm=\'\'" name="{{$ctrl.field.name}}" title="{{$ctrl.field.tooltip}}"><md-select-header ng-if="$ctrl.field.options.length > 5"><md-input-container md-no-float class="dropdown-filter-search-box"><input ng-model="$ctrl.filterSearchTerm" aria-label="{{$ctrl.field.filterSearchAriaLabel | translate}}" type="search" placeholder="{{$ctrl.field.filterSearchPlaceHolderLabel | translate}}" class="md-text"></md-input-container></md-select-header><md-option id="prm_{{$ctrl.field.label}}" ng-repeat="option in $ctrl.dropdownOptions" value="{{option.value}}" ng-if="!$ctrl.field.populator.params.byCategory || !$ctrl.getCatagories() ||  $ctrl.getCatagories().length===0"><span role="button">{{option.label}}</span></md-option><md-optgroup ng-if="$ctrl.field.populator.params.byCategory" ng-repeat="category in $ctrl.getCatagories()" label="{{category}}"><md-option ng-repeat="option in $ctrl.dropdownOptions | filter: {category: category }:true" value="{{option.value}}"><span role="button">{{option.label}}</span></md-option></md-optgroup></md-select><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.drop-down" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div></div></md-input-container><prm-icon ng-if="$ctrl.field.disabled" class="animate-enter-leave-scale"><md-tooltip md-direction="right" md-autohide="true" ng-if="$ctrl.field.disabled">Reset request form to edit category</md-tooltip><md-icon md-svg-icon="./images/lock-outline.svg"></md-icon></prm-icon>');
$templateCache.put('components/infra/formBuilder/field/form-field-dropdown.html','<prm-icon ng-if="$ctrl.field.disabled" icon-type="svg" svg-icon-set="primo-ui" icon-definition="lock"></prm-icon><md-button ng-click="$ctrl.expandList(\'prm_\'+$ctrl.field.label)" tabindex="1" aria-label="{{$ctrl.getFieldTranslated()}}" class="dummy-dragon-button absolute-position"></md-button><md-input-container class="underlined-input" ng-class="{\'md-required\':($ctrl.field.mandatory || $ctrl.field.mandatoryIndicator)}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label><md-select ng-model="$ctrl.formData[$ctrl.field.name]" id="mandatory_{{::$ctrl.field.key}}" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" aria-label="{{$ctrl.field.label | translate}}" ng-required="$ctrl.field.mandatory" ng-disabled="$ctrl.field.disabled" name="{{$ctrl.field.name}}" title="{{$ctrl.field.tooltip}}"><md-option id="prm_{{$ctrl.field.label}}_{{$index}}" ng-repeat="option in $ctrl.field.options" value="{{option.value}}" ng-if="!$ctrl.field.populator.params.byCategory || !$ctrl.getCatagories() ||  $ctrl.getCatagories().length===0"><span role="button">{{option.label}}</span></md-option><md-optgroup ng-if="$ctrl.field.populator.params.byCategory" ng-repeat="category in $ctrl.getCatagories()" label="{{category}}"><md-option ng-repeat="option in $ctrl.field.options | filter: {category: category }" value="{{option.value}}"><span role="button">{{option.label}}</span></md-option></md-optgroup></md-select><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.drop-down" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div></div></md-input-container><prm-icon ng-if="$ctrl.field.disabled" class="animate-enter-leave-scale"><md-tooltip md-direction="right" md-autohide="true" ng-if="$ctrl.field.disabled">Reset request form to edit category</md-tooltip><md-icon md-svg-icon="./images/lock-outline.svg"></md-icon></prm-icon>');
$templateCache.put('components/infra/formBuilder/field/form-field-hidden.html','');
$templateCache.put('components/infra/formBuilder/field/form-field-label.html','<div class="label-dummy" flex-order="1" translate="{{$ctrl.field.label}}"></div><div layout="row" flex-order="2"><div layout="row"><span>{{$ctrl.field.value}}</span> <span class="md-select-icon-dummy md-select-icon" aria-hidden="true"></span></div></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-link.html','<span><a href="{{$ctrl.formData[$ctrl.field.name]}}" target="_blank"><span translate="{{$ctrl.field.label}}"></span></a></span>');
$templateCache.put('components/infra/formBuilder/field/form-field-multi-label.html','<div class="label-dummy" flex-order="1" translate="{{field.label}}"></div><div ng-repeat="option in $ctrl.field.options" layout="row" flex-order="2"><div layout="row"><span>{{option.label}}</span> <span class="md-select-icon-dummy md-select-icon" aria-hidden="true"></span></div></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-multiselectdropdown-repeatable.html','<div ng-repeat=" x in [].constructor(7) track by $index" ng-if="$index<$ctrl.limit" layout="row"><prm-icon ng-if="$ctrl.field.disabled" icon-type="svg" svg-icon-set="primo-ui" icon-definition="lock"></prm-icon><md-button ng-click="$ctrl.expandList(\'prm_\'+$ctrl.field.label)" alt="{{$ctrl.field.label}}" tabindex="1" class="dummy-dragon-button absolute-position"></md-button><md-input-container class="underlined-input" ng-class="{\'md-required\':($ctrl.field.mandatory || $ctrl.field.mandatoryIndicator)}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label><md-select multiple="multiple" ng-model="$ctrl.formData[$ctrl.field.name+$index]" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" aria-label="{{$ctrl.field.label}}" ng-required="$ctrl.field.mandatory" ng-disabled="$ctrl.field.disabled" name="{{$ctrl.field.name}}" title="{{$ctrl.field.tooltip}}"><md-option id="prm_{{$ctrl.field.label}}" class="prm-select-checkbox" ng-repeat="option in $ctrl.field.options" value="{{option.value}}" ng-if="!$ctrl.field.populator.params.byCategory || !$ctrl.getCatagories() ||  $ctrl.getCatagories().length===0"><span role="button">{{option.label}}</span></md-option><md-optgroup ng-if="$ctrl.field.populator.params.byCategory" ng-repeat="category in $ctrl.getCatagories()" label="{{category}}"><md-option ng-repeat="option in $ctrl.field.options | filter: {category: category }" value="{{option.value}}"><span role="button">{{option.label}}</span></md-option></md-optgroup></md-select><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.drop-down" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div></div></md-input-container><prm-icon ng-if="$ctrl.field.disabled" class="animate-enter-leave-scale"><md-tooltip md-direction="right" md-autohide="true" ng-if="$ctrl.field.disabled">Reset request form to edit category</md-tooltip><md-icon md-svg-icon="./images/lock-outline.svg"></md-icon></prm-icon><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.incrementLimit($index)" ng-hide="$ctrl.limit >= 7"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="plus"></prm-icon></md-button><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.decreaseLimit($index)" ng-hide="$index==0"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-multiselectdropdown.html','<prm-icon ng-if="$ctrl.field.disabled" icon-type="svg" svg-icon-set="primo-ui" icon-definition="lock"></prm-icon><md-button ng-click="$ctrl.expandList(\'prm_\'+$ctrl.field.label)" alt="{{$ctrl.field.label}}" tabindex="1" class="dummy-dragon-button absolute-position"></md-button><md-input-container class="underlined-input" ng-class="{\'md-required\':($ctrl.field.mandatory || $ctrl.field.mandatoryIndicator)}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label><md-select multiple="multiple" ng-model="$ctrl.formData[$ctrl.field.name]" ng-change="$ctrl.field.events.onChange($ctrl.field.events.params)" aria-label="{{$ctrl.field.label}}" ng-required="$ctrl.field.mandatory" ng-disabled="$ctrl.field.disabled" name="{{$ctrl.field.name}}" title="{{$ctrl.field.tooltip}}"><md-option id="prm_{{$ctrl.field.label}}" class="prm-select-checkbox" ng-repeat="option in $ctrl.field.options" value="{{option.value}}" ng-if="!$ctrl.field.populator.params.byCategory || !$ctrl.getCatagories() ||  $ctrl.getCatagories().length===0"><span role="button">{{option.label}}</span></md-option><md-optgroup ng-if="$ctrl.field.populator.params.byCategory" ng-repeat="category in $ctrl.getCatagories()" label="{{category}}"><md-option ng-repeat="option in $ctrl.field.options | filter: {category: category }" value="{{option.value}}"><span role="button">{{option.label}}</span></md-option></md-optgroup></md-select><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.drop-down" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div></div></md-input-container><prm-icon ng-if="$ctrl.field.disabled" class="animate-enter-leave-scale"><md-tooltip md-direction="right" md-autohide="true" ng-if="$ctrl.field.disabled">Reset request form to edit category</md-tooltip><md-icon md-svg-icon="./images/lock-outline.svg"></md-icon></prm-icon>');
$templateCache.put('components/infra/formBuilder/field/form-field-readonly.html','<md-input-container><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}"></label> <input ng-model="$ctrl.formData[$ctrl.field.name]" type="text" ng-disabled="true" name="{{$ctrl.field.name}}" ng-required="$ctrl.field.mandatory"><div ng-messages="requestForm[$ctrl.field.name].$error" role="alert"><div ng-message="required">You did not enter a field</div></div></md-input-container>');
$templateCache.put('components/infra/formBuilder/field/form-field-text-repeatable.html','<div ng-repeat=" x in [].constructor(7) track by $index" ng-if="$index<$ctrl.limit" layout="row"><md-input-container class="underlined-input" ng-class="{\'md-required\':$ctrl.field.mandatory&&$index==0, \'{{$ctrl.field.css}}\' :$ctrl.field.css}"><label translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label> <input ng-model="$ctrl.formData[$ctrl.field.name+$index]" type="{{$ctrl.field.inputType? $ctrl.field.inputType : \'text\'}}" name="{{$ctrl.field.name}}" ng-required="$ctrl.field.mandatory&&$index==0" ng-disabled="$ctrl.field.disabled" maxlength="{{$ctrl.field.maxlength}}" ng-pattern="$ctrl.field.validPattern" title="{{$ctrl.field.tooltip}}"/><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($index==0&&($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted)"><div ng-message="required"><span translate="nui.mandatory.text" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div><div ng-message="pattern"><span translate="nui.validPattern.invalid"></span></div></div></md-input-container><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.incrementLimit($index)" ng-hide="$ctrl.limit >= 7"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="plus"></prm-icon></md-button><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.decreaseLimit($index)" ng-hide="$index==0"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-text.html','<md-input-container class="underlined-input" ng-class="{\'md-required\':$ctrl.field.mandatory, \'{{$ctrl.field.css}}\' :$ctrl.field.css}"><label translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label> <input ng-model="$ctrl.formData[$ctrl.field.name]" type="{{$ctrl.field.inputType? $ctrl.field.inputType : \'text\'}}" ng-required="$ctrl.field.mandatory || $ctrl.validateMandatoryGroup()" ng-disabled="$ctrl.field.disabled" name="{{$ctrl.field.name}}" maxlength="{{$ctrl.field.maxlength}}" ng-pattern="$ctrl.field.disabled ? null : $ctrl.field.validPattern" title="{{$ctrl.field.tooltip}}"/><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span ng-if="$ctrl.field.mandatoryGroup" translate="almaRequest.mandatory_manual_description_or_alternative_fields" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span> <span ng-if="!$ctrl.field.mandatoryGroup" translate="nui.mandatory.text" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div><div ng-switch="$ctrl.field.name" ng-message="pattern"><span ng-switch-when="isbn" translate="nui.valid.isbn"></span> <span ng-switch-default translate="nui.validPattern.invalid"></span></div></div></md-input-container><span ng-if="($ctrl.field.name == \'doi\' && $ctrl.field.doiAutoFill == true) || ($ctrl.field.name == \'pmid\' && $ctrl.field.pmidAutoFill == true)"><md-button aria-label="{{$ctrl.field.autoFillAriaLabel}}" class="auto-fill-rsh-form" ng-click="$ctrl.sendButtonClicked()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-auto-fill"></prm-icon><span translate="almaResourceSharing.autoFill"></span></div></md-button><div ng-if="$ctrl.field.msg" ng-messages="$ctrl.field.msg" class="help-block auto-fill-rsh-form-alert"><span class="ng-scope">{{$ctrl.field.msg}}</span></div></span>');
$templateCache.put('components/infra/formBuilder/field/form-field-textarea-repeatable.html','<div ng-repeat=" x in [].constructor(7) track by $index" ng-if="$index<$ctrl.limit" layout="row"><md-input-container class="underlined-input" ng-class="{\'md-required\':$ctrl.field.mandatory&&$index==0, \'{{$ctrl.field.css}}\' :$ctrl.field.css}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label> <textarea ng-required="$ctrl.field.mandatory&&$index==0" name="{{$ctrl.field.name}}" ng-model="$ctrl.formData[$ctrl.field.name+$index]" columns="1" title="{{$ctrl.field.tooltip}}"></textarea><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($index==0&&($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted)"><div ng-message="required"><span translate="nui.mandatory.text" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div><div ng-message="pattern"><span translate="nui.validPattern.invalid"></span></div></div></md-input-container><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.incrementLimit($index)" ng-hide="$ctrl.limit >= 7"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="plus"></prm-icon></md-button><md-button class="md-icon-button md-button md-primoExplore-theme md-ink-ripple" ng-click="$ctrl.decreaseLimit($index)" ng-hide="$index==0"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div>');
$templateCache.put('components/infra/formBuilder/field/form-field-textarea.html','<md-input-container class="underlined-input" ng-class="{\'md-required\':$ctrl.field.mandatory, \'{{$ctrl.field.css}}\' :$ctrl.field.css}"><label for="prm_{{$ctrl.field.label}}" translate="{{$ctrl.field.label}}" translate-default="{{$ctrl.field.label}}"></label> <textarea ng-required="$ctrl.field.mandatory" name="{{$ctrl.field.name}}" ng-model="$ctrl.formData[$ctrl.field.name]" columns="1" title="{{$ctrl.field.tooltip}}"></textarea><div ng-messages="$ctrl.form[$ctrl.field.name].$error" ng-messages-multiple class="help-block" ng-if="($ctrl.form.$submitted || $ctrl.form[$ctrl.field.name].$touched  || $ctrl.form[$ctrl.field.name].$dirty) && !$ctrl.isRequestSubmitted"><div ng-message="required"><span translate="nui.mandatory.text" translate-values="$ctrl.errorMsgPlaceholders" translate-compile></span></div><div ng-message="pattern"><span translate="nui.validPattern.invalid"></span></div></div></md-input-container>');
$templateCache.put('components/infra/formBuilder/field/form-field.html','<div id="form_field_{{::$ctrl.field.key}}" ng-include src="$ctrl.getFormFieldHtml()" class="relative-position"></div>');
$templateCache.put('components/infra/widgets/alerts/alert-bar.html','<div ng-if="$ctrl.htmlMsg  && !$ctrl.isSignInAndPartialAlma()" role="alert" aria-live="assertive" layout-align="center center" ng-include src="$ctrl.templateSrc"></div>');
$templateCache.put('components/infra/widgets/breadcrumbs/breadcrumbs.html','<md-toolbar><div class="default-toolbar" layout="row" ng-hide="citationLimit == 0"><div class="md-toolbar-tools"><div flex-gt-sm="15" flex-md="10" flex-gt-lg="20" hide-xs hide-sm></div><md-button class="back-button offset-to-left" aria-label="back to search results" ng-click="refreshPage()"><prm-icon class="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="citationBack"></prm-icon></md-button><md-divider class="toolbar-divider visible"></md-divider><span class="md-headline">Your Current Citation Path</span><md-button class="save-path-btn"><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_pin"></prm-icon><span class="bold-text ng-scope">Save Path</span></md-button></div></div></md-toolbar><prm-horizontal-content class="stacked-items no-scrollbar" layout="row" ng-init="scrollWatch()"><div flex-gt-sm="15" flex-md="10" flex-gt-lg="20" hide-xs hide-sm></div><div flex class="horizontal-content-container citations-container"><div class="horizontal-content-controls" ng-if="!hideArrows"><md-button class="left-button" ng-if="showLeftArrow" aria-label="button"><prm-icon><md-icon aria-hidden="true"><svg width="100%" height="100%" viewBox="0 0 24 24" y="480" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"/></svg></md-icon></prm-icon></md-button><md-button class="right-button" ng-if="showRightArrow" ng-hide="!showRightArrow" aria-label="button"><prm-icon><md-icon aria-hidden="true"><svg width="100%" height="100%" viewBox="0 0 24 24" y="480" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/></svg></md-icon></prm-icon></md-button></div><md-list role="list"><md-list-item><prm-citation-trails-item [item]="::ctrl.item" class="citation-item horizontal-content-item" id="citationItem{{$index}}" ng-class="{\'current-item \': $index == currentItem}" layout="row" ng-style="($index > currentItem) && {\'z-index\' : citations.length - $index } || {\'z-index\': \'\'}"></prm-citation-trails-item></md-list-item></md-list></div><div flex-gt-sm="15" flex-md="10" flex-gt-lg="20" hide-xs hide-sm></div></prm-horizontal-content>');
$templateCache.put('components/infra/widgets/breadcrumbs/crumb.html','');
$templateCache.put('components/primoExplore/silentLogin/silentLoginAlertToast/silent-login-alert-toast.html','<md-toast ng-class="{\'mobile-define\':$ctrl.detectMobile(),\'layout-column\':$ctrl.detectMobile()}" class="md-toast-content"><div layout="row" layout-align="center center" class="md-toast-content" ng-class="{\'end-content\':!$ctrl.detectMobile()}"><span class="md-toast-text"><span translate="nui.message.silent_login"></span></span></div><div layout="row" layout-align="start start" class="md-toast-content" ng-class="{\'start-content\':!$ctrl.detectMobile()}"><md-button ng-click="$ctrl.refreshState()" ng-class="{\'mobile-size\':$ctrl.detectMobile()}" md-no-ink="true" class="md-higlight settings-button" aria-label="refresh the application"><div layout="row"><prm-icon icon-type="svg" svg-icon-set="navigation" icon-definition="ic_refresh_24px" class="custom-button"></prm-icon><span style="text-transform: none;white-space: normal;" translate="nui.message.refresh_button"></span></div></md-button><md-button ng-click="$ctrl.onDismiss()" aria-label="{{::(\'nui.message.dismiss\' | translate)}} "><span class="ng-scope" translate="nui.message.dismiss"></span></md-button></div></md-toast><prm-silent-login-alert-toast-after parent-ctrl="$ctrl"></prm-silent-login-alert-toast-after>');
$templateCache.put('components/search/actions/actionContainer/action-container.html','<prm-send-email ng-if="($ctrl.actionName===\'E-mail\')" (finished-email-event)="$ctrl.throwCloseTabsEvent()" [item]="::$ctrl.item" [selected-ids]="::$ctrl.selectedIds" [toggleform]="::$ctrl.toggleActionCotent" [user]="::\'\'" [is-full-view]="::$ctrl.isFullView"></prm-send-email><prm-citation ng-if="($ctrl.actionName===\'Citation\')" [item]="::$ctrl.item"></prm-citation><prm-permalink ng-if="($ctrl.actionName===\'Permalink\')" [item]="::$ctrl.item" [selected-ids]="::$ctrl.selectedIds"></prm-permalink><prm-print-item ng-if="($ctrl.actionName===\'Print\')" (close-tabs-event)="$ctrl.throwCloseTabsEvent()" [item]="::$ctrl.item"></prm-print-item><prm-endnote ng-if="($ctrl.actionName===\'EndNote\')" (close-tabs-event)="$ctrl.throwCloseTabsEvent()" [item]="::$ctrl.item"></prm-endnote><prm-easybib ng-if="($ctrl.actionName===\'EasyBib\')" (close-tabs-event)="$ctrl.throwCloseTabsEvent()" [item]="::$ctrl.item"></prm-easybib><prm-refworks ng-if="($ctrl.actionName===\'RefWorks\')" (close-tabs-event)="$ctrl.throwCloseTabsEvent()" [item]="::$ctrl.item"></prm-refworks><prm-export-ris ng-if="($ctrl.actionName===\'RISPushTo\')" [item]="::$ctrl.item" [selected-ids]="::$ctrl.selectedIds"></prm-export-ris><prm-export-bibtex ng-if="($ctrl.actionName===\'BibTeXPushTo\')" [item]="::$ctrl.item" [selected-ids]="::$ctrl.selectedIds"></prm-export-bibtex><prm-leganto ng-if="($ctrl.actionName===\'Leganto\')" (finished-leganto-event)="$ctrl.throwCloseTabsEvent()" [item]="::$ctrl.item" [on-toggle]="::$ctrl.onToggle"></prm-leganto><prm-mendeley ng-if="($ctrl.actionName===\'Mendeley\')" (close-tabs-event)="$ctrl.throwCloseTabsEvent()" [item]="::$ctrl.item"></prm-mendeley><prm-export-excel ng-if="($ctrl.actionName===\'Excel\')" [item]="::$ctrl.item" [selected-ids]="::$ctrl.selectedIds"></prm-export-excel><prm-qr-code ng-if="($ctrl.actionName===\'QR\')" [item]="::$ctrl.item" ui-type="action"></prm-qr-code><prm-share ng-if="($ctrl.actionName===\'Share\')" [item]="::$ctrl.item"></prm-share><prm-action-container-after parent-ctrl="$ctrl"></prm-action-container-after>');
$templateCache.put('components/search/actions/citation/citation.html','<div class="send-actions-content-item"><md-content><div layout="row"><md-nav-bar md-selected-nav-item="$ctrl.selectedStyle" class="vertical-nav-bar primo-scrollbar is-stuck" flex="nogrow" ng-style="$ctrl.isSafariBrowse() && {\'max-height\':\'inherit\'}"><md-nav-item ng-repeat="style in ::$ctrl.getStyles()" md-nav-click="$ctrl.getCitation(style)" name="{{style}}"><span translate="citation.labels.{{::style}}" class="text-no-case" style="white-space: normal; text-align: left"></span></md-nav-item></md-nav-bar><div data-tab-pane="cite" flex><div layout="column" layout-padding layout-align="start center"><div class="form-focus" layout-padding layout="row" layout-align="center center"><div id="citationInProgress" ng-if="$ctrl.inProgress" layout="row" layout-align="center center" layout-padding layout-margin><span translate="nui.citation.labels.inprogress"></span><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="start center"></prm-spinner></div><div id="{{::$ctrl.getCitationId()}}" ng-if="!$ctrl.inProgress && !$ctrl.isError" ng-bind-html="$ctrl.lastCitation"></div><div ng-if="!$ctrl.inProgress && $ctrl.isError" layout="row" layout-align="center">{{\'nui.citation.error\' | translate}}</div></div><div class="form-focus" layout-padding layout="row" layout-align="center center" ng-if="$ctrl.isTestMode()"><div id="citationInProgress" ng-if="$ctrl.inProgress" layout="row" layout-align="center center" layout-padding layout-margin><span translate="nui.citation.labels.inprogress"></span><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="start center"></prm-spinner></div><div id="{{::$ctrl.getCitationId()}}2" ng-if="!$ctrl.inProgress && !$ctrl.isError" ng-bind-html="$ctrl.testCitation"></div></div><prm-copy-clipboard-btn ng-if="::$ctrl.displayCopyButton()" ng-hide="$ctrl.inProgress || $ctrl.isError" class="zero-padding-top" (click)="$ctrl.selectText()" [text]="$ctrl.lastCitationDecoded()" action="citation" type="style"></prm-copy-clipboard-btn><span class="zero-padding-top bold-text" translate="citation.labels.disclaimer"></span></div></div></div></md-content></div><prm-citation-after parent-ctrl="$ctrl"></prm-citation-after>');
$templateCache.put('components/search/actions/easyBibAction/easybib.html','<prm-easybib-after parent-ctrl="$ctrl"></prm-easybib-after>');
$templateCache.put('components/search/actions/endNoteAction/endnote.html','<prm-endnote-after parent-ctrl="$ctrl"></prm-endnote-after>');
$templateCache.put('components/search/actions/exportExcelAction/export-excel.html','<div class="send-actions-content-item" layout="row" layout-align="center center"><md-content layout-wrap layout-padding layout-fill><form name="" novalidate layout="column" layout-align="center center"><div layout="row" class="layout-full-width" layout-align="center center"><div flex="20" flex-sm="10" hide-xs></div><div class="form-focus service-form" layout-padding><md-input-container class="dark-on-light"><label translate="fulldisplay.command.pushto.option.Excel.FileType"></label><md-select ng-model="$ctrl.formatVal" class="form-control" translate-attr="::{\'aria-label\': \'aria.fulldisplay.command.pushto.option.Excel.FileType\'}"><md-option ng-repeat="option in ::$ctrl.formatList track by option" value="{{::option}}"><span translate="{{::option}}"></span></md-option></md-select></md-input-container></div><div flex="20" flex-sm="10" hide-xs></div></div><div layout="row"><div layout="row" layout-align="center" layout-fill><md-button type="submit" ng-disabled="$ctrl.buildPayloadInProgress" class="button-with-icon button-large button-confirm" aria-label="{{\'fulldisplay.command.pushto.option.Excel\' | translate}} - {{\'fulldisplay.command.pushto.option.RISPushTo.download\' | translate}}" (click)="$ctrl.getFile()"><span translate="fulldisplay.command.pushto.option.RISPushTo.download"></span></md-button><md-tooltip ng-if="$ctrl.buildPayloadInProgress"><span translate="nui.Excel.tooltip"></span></md-tooltip></div></div></form></md-content></div><prm-export-excel-after parent-ctrl="$ctrl"></prm-export-excel-after>');
$templateCache.put('components/search/actions/exportRISAction/export-ris.html','<div class="send-actions-content-item" layout="row" layout-align="center center"><md-content layout-wrap layout-padding layout-fill><form name="" novalidate layout="column" layout-align="center center"><div layout="row" class="layout-full-width" layout-align="center center"><div flex="20" flex-sm="10" hide-xs></div><div class="form-focus service-form" layout-padding><md-input-container class="dark-on-light"><label translate="fulldisplay.command.pushto.option.RISPushTo.encoding"></label><md-select ng-model="$ctrl.encodingVal" class="form-control" translate-attr="::{\'aria-label\': \'nui.aria.exportTo.encoding\'}"><md-option ng-repeat="option in ::$ctrl.encodingList track by option" value="{{::option}}"><span translate="{{::option}}"></span></md-option></md-select></md-input-container></div><div flex="20" flex-sm="10" hide-xs></div></div><div layout="row"><div layout="row" layout-align="center" layout-fill><md-button type="submit" class="button-with-icon button-large button-confirm" aria-label="{{\'fulldisplay.command.pushto.option.RISPushTo.importToCitationManager\' | translate}} - {{\'fulldisplay.command.pushto.option.RISPushTo.download\' | translate}}" (click)="$ctrl.getFile()"><span translate="fulldisplay.command.pushto.option.RISPushTo.download"></span></md-button></div></div><div layout="row"><div layout="row" layout-align="center" layout-fill><span ng-if="$ctrl.risErrorMessage" class="padding-small prm-warning-color" translate="{{$ctrl.risErrorMessage}}"></span></div></div></form></md-content></div><prm-export-ris-after parent-ctrl="$ctrl"></prm-export-ris-after>');
$templateCache.put('components/search/actions/exportBibTexAction/export-bibtex.html','<div class="send-actions-content-item" layout="row" layout-align="center center"><md-content layout-wrap layout-padding layout-fill><form name="" novalidate layout="column" layout-align="center center"><div layout="row" class="layout-full-width" layout-align="center center"><div flex="20" flex-sm="10" hide-xs></div><div class="form-focus service-form" layout-padding><md-input-container class="dark-on-light"><label translate="fulldisplay.command.pushto.option.RISPushTo.encoding"></label><md-select ng-model="$ctrl.encodingVal" class="form-control" translate-attr="::{\'aria-label\': \'nui.aria.exportTo.encoding\'}"><md-option ng-repeat="option in ::$ctrl.encodingList track by option" value="{{::option}}"><span translate="{{::option}}"></span></md-option></md-select></md-input-container></div><div flex="20" flex-sm="10" hide-xs></div></div><div layout="row"><div layout="row" layout-align="center" layout-fill><md-button type="submit" class="button-with-icon button-large button-confirm" aria-label="{{\'fulldisplay.command.pushto.option.RISPushTo.importToCitationManager\' | translate}} - {{\'fulldisplay.command.pushto.option.RISPushTo.download\' | translate}}" (click)="$ctrl.getFile()"><span translate="fulldisplay.command.pushto.option.RISPushTo.download"></span></md-button></div></div></form></md-content></div><prm-export-bibtex-after parent-ctrl="$ctrl"></prm-export-bibtex-after>');
$templateCache.put('components/search/actions/legantoAction/leganto.html','<div class="send-actions-content-item" layout="row" layout-align="center center"><md-content layout-wrap layout-padding layout-fill><form name="" novalidate layout="column" layout-align="center center" (submit)="$ctrl.pushRecord($event);"><div layout="row" class="layout-full-width" layout-align="center center"><div flex="20" flex-sm="10" hide-xs></div><div class="form-focus service-form" layout-padding flex><div layout-margin><div layout="column" ng-if="$ctrl.legantoService.showTemplateType === \'userSelection\'"><div ng-if="$ctrl.pushToOptions.length > 1" layout="row" layout-align="start center" flex><span translate="fulldisplay.command.pushto.option.LegantoPushTo.pushToText"></span><span>:</span> <span flex></span></div><div class="input-cell margin-bottom-small" ng-if="$ctrl.pushToOptions.length > 1" layout="row" layout-wrap layout-align="start center"><md-radio-group ng-model="$ctrl.selectedPushToOption" layout="row" ng-change="$ctrl.changedPushToOption()" layout-wrap><md-radio-button ng-repeat="option in $ctrl.pushToOptions" value="{{option}}" class="md-primary" aria-label="{{option}}"><span translate="fulldisplay.command.pushto.option.LegantoPushTo.{{option}}"></span></md-radio-button></md-radio-group></div><div ng-show="$ctrl.showLists === \'show\'"><md-input-container class="underlined-input zero-padding layout-full-width dark-on-light"><label translate="fulldisplay.command.pushto.option.LegantoPushTo.list.select"></label><md-select ng-model="$ctrl.selectedUserList" class="form-control" aria-label="{{\'fulldisplay.command.pushto.option.LegantoPushTo.list.select\' | translate}} {{\'fulldisplay.command.pushto.option.LegantoPushTo.list.vocal\' | translate}}" ng-change="$ctrl.changedUserList()"><md-option ng-repeat="list in $ctrl.userLists" value="{{list.id}}"><span title="{{list.name}}">{{list.name | limitTo: 70}}{{list.name.length > 70 ? \'...\' : \'\'}}</span></md-option></md-select></md-input-container><div class="color-Tomato" ng-messages="true" ng-if="$ctrl.noSectionsError === \'show\'"><span aria-label="{{\'fulldisplay.command.pushto.option.LegantoPushTo.section.notExists\' | translate}}" aria-live="assertive" translate="fulldisplay.command.pushto.option.LegantoPushTo.section.notExists"></span></div></div><div ng-show="$ctrl.showSections === \'show\'"><md-input-container class="underlined-input zero-padding layout-full-width dark-on-light"><label translate="fulldisplay.command.pushto.option.LegantoPushTo.section.select"></label><md-select ng-model="$ctrl.selectedUserSection" class="form-control" aria-label="{{\'fulldisplay.command.pushto.option.LegantoPushTo.section.select\' | translate}}" ng-change="$ctrl.changedUserSection()"><md-option ng-repeat="section in $ctrl.userSections" value="{{::section.id}}"><span title="{{section.name}}">{{section.name | limitTo: 70}}{{section.name.length > 70 ? \'...\' : \'\'}}</span></md-option></md-select></md-input-container></div></div><div ng-if="$ctrl.legantoService.showTemplateType === \'signIn\'" class="bar alert-bar" layout="row" layout-align="start center" flex><span translate="fulldisplay.command.pushto.option.LegantoPushTo.signInMessage"></span><prm-authentication flex="none"></prm-authentication><span flex></span></div><div ng-if="$ctrl.legantoService.showTemplateType === \'error\'" layout-align="center center"><span aria-live="assertive" aria-label="{{$ctrl.legantoService.statusMessage}}">{{$ctrl.legantoService.statusMessage}}</span></div><div ng-if="$ctrl.legantoService.showSpinner === \'show\'" layout="row" layout-align="center center" layout-padding layout-margin><prm-spinner class="inline-loader dark-on-light no-text" layout="row" layout-align="start center" layout-margin></prm-spinner></div><div ng-if="$ctrl.legantoService.showTemplateType === \'noListsExist\'" layout="row" layout-align="start center" flex><span translate="{{$ctrl.legantoService.noListsMessage}}"></span> <span flex></span></div></div></div><div flex="20" flex-sm="10" hide-xs></div></div><div layout="row"><div layout="row" layout-align="center" layout-fill><md-button type="submit" class="button-with-icon button-large button-confirm" aria-label="{{\'fulldisplay.command.pushto.option.LegantoPushTo.add\' | translate}}" ng-style="!$ctrl.pushAllowed ? { \'z-index\':\'0\' } : { }" ng-disabled="!$ctrl.legantoService.pushAllowed"><span translate="fulldisplay.command.pushto.option.LegantoPushTo.add"></span></md-button></div></div></form></md-content></div><prm-leganto-after parent-ctrl="$ctrl"></prm-leganto-after>');
$templateCache.put('components/search/actions/mendeleyAction/mendeley.html','<prm-mendeley-after parent-ctrl="$ctrl"></prm-mendeley-after>');
$templateCache.put('components/search/actions/permalinkAction/permalink.html','<div class="send-actions-content-item" layout="row"><md-content layout-wrap layout-padding layout-fill><div layout="column"><div layout="{{($ctrl.isShareAction === true && $ctrl.mediaQueries.gtsm) ? \'row\' : \'column\'}}" layout-align="{{$ctrl.isShareAction === true ? \'center center\' : \'none\'}}" class="long-permalink"><div class="form-focus" layout="row" layout-padding><div layout-margin layout-fill class="word-break-all"><span id="{{::(\'permalink\'+ $ctrl.getRecordId())}}" layout-fill>{{$ctrl.permalink}}</span></div></div><div class="long-permalink" ng-if="::$ctrl.displayCopyButton()" layout="row" layout-align="center center"><prm-copy-clipboard-btn (click)="$ctrl.selectText();$ctrl.runOperationBeacon(\'copy\')" [text]="$ctrl.permalink" [action]="$ctrl.currentAction"></prm-copy-clipboard-btn></div></div><div layout="{{($ctrl.isShareAction === true && $ctrl.mediaQueries.gtsm) ? \'row\' : \'column\'}}" layout-align="{{$ctrl.isShareAction === true ? \'center center\' : \'none\'}}" class="short-permalink"><div class="form-focus" layout="row" layout-padding><div layout-margin layout-fill class="word-break-all scrolled-url-text"><span id="{{::(\'permalink\'+ $ctrl.getRecordId())}}" layout-fill>{{$ctrl.shortPermalink}}</span></div></div><div class="short-permalink" ng-if="::$ctrl.displayCopyButton()" layout="row" layout-align="center center"><prm-copy-clipboard-btn (click)="$ctrl.selectText();$ctrl.runOperationBeacon(\'copy\')" [text]="$ctrl.shortPermalink" [action]="$ctrl.currentAction"></prm-copy-clipboard-btn></div></div></div></md-content></div><prm-permalink-after parent-ctrl="$ctrl"></prm-permalink-after>');
$templateCache.put('components/search/actions/printAction/print-item.html','<prm-print-item-after parent-ctrl="$ctrl"></prm-print-item-after>');
$templateCache.put('components/search/actions/refworksAction/refworks.html','<prm-refworks-after parent-ctrl="$ctrl"></prm-refworks-after>');
$templateCache.put('components/search/actions/sendEmailAction/send-email.html','<div class="send-actions-content-item" layout="row"><md-content layout-wrap layout-padding layout-fill><form name="emailForm" novalidate layout="column" layout-align="center center" (submit)="$ctrl.sendEmail($event);"><div layout="row" class="layout-full-width" layout-align="center center"><div flex="20" flex-sm="10" hide-xs></div><div class="form-focus service-form" layout-padding flex><div layout-margin><div layout="column"><label translate="email.subject"></label><div name="subject">{{$ctrl.subject}}</div><md-input-container class="underlined-input md-required dark-on-light"><label translate="email.to"></label> <input ng-model="$ctrl.addresses" name="addresses" type="text" required ng-pattern="::$ctrl.emailRegEx" ng-change="$ctrl.changeAddress(emailForm)" aria-describedby="emailErrorMessage"><div ng-messages="emailForm.addresses.$error" ng-if="emailForm.$submitted || emailForm.addresses.$touched  || emailForm.addresses.$dirty"><div ng-message="validationError" ng-if="$ctrl.isUser()"><span translate="too.many.emails.nonguest"></span></div><div ng-message="validationError" ng-if="$ctrl.isGuest()"><span translate="too.many.emails.guest"></span></div><div ng-message="pattern, required "><span translate="nui.email.invalidaddress" id="emailErrorMessage"></span></div></div></md-input-container><md-input-container style="display:none"><label translate="email.to"></label> <input ng-model="$ctrl.honeypot" name="testEmail" type="text"></md-input-container><md-input-container class="underlined-input dark-on-light" ng-if="$ctrl.isUser()"><label translate="email.note"></label> <textarea ng-model="$ctrl.note" name="note" columns="1" rows="1" ng-change="$ctrl.changeNote(emailForm)"></textarea><div ng-messages="emailForm.note.$error" ng-if="emailForm.$submitted || emailForm.note.$touched  || emailForm.note.$dirty"><div ng-message="validationError"><span translate="html.in.email.notes"></span></div></div></md-input-container><md-input-container class="underlined-input dark-on-light" ng-if="$ctrl.isCaptcha"><div vc-recaptcha key="$ctrl.capchaPublicKey" on-create="$ctrl.setWidgetId(widgetId)" on-success="$ctrl.setResponse(response)" lang="$ctrl.$translate.use()" on-expire="$ctrl.cbExpiration()"></div><span class="recaptcha-error-info" ng-show="emailForm.$submitted && $ctrl.showCaptchaError(emailForm)"><span translate="{{$ctrl.getRecaptchaErrorMessage()}}"></span></span></md-input-container></div></div></div><div flex="20" flex-sm="10" hide-xs></div></div><div layout="row"><div layout="row" layout-align="center" layout-fill><md-button type="submit" class="button-with-icon button-large button-confirm" translate-attr="{\'aria-label\': \'nui.aria.send.email\'}" ng-style="$ctrl.sendMailInProgress || $ctrl.templateRenderingInProgress ? { \'z-index\':\'0\' } : { }" ng-disabled="$ctrl.sendMailInProgress || $ctrl.templateRenderingInProgress"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span translate="email.popup.link.send"></span></md-button></div><md-tooltip ng-if="$ctrl.templateRenderingInProgress"><span translate="nui.sendemail.tooltip"></span></md-tooltip><span role="alert" translate="nui.sendemail.tooltip" class="accessible-only hidden" ng-if="$ctrl.sendMailInProgress"></span></div><div ng-if="$ctrl.sendEmailService.isTemplateSupported($ctrl.itemsToArray($ctrl.item))" style="display: none;" ng-init="itemsArray=$ctrl.itemsToArray($ctrl.item)"><div flex="20" flex-sm="10" hide-xs></div><prm-email-template id="{{$ctrl.isFullView ? \'email-template-full\' : \'email-template-brief\'}}" [items]="itemsArray" [note]="$ctrl.note" (email-template-items-event)="$ctrl.renderedItems = $event"></prm-email-template><div flex="20" flex-sm="10" hide-xs></div></div></form></md-content></div><prm-send-email-after parent-ctrl="$ctrl"></prm-send-email-after>');
$templateCache.put('components/search/actions/shareAction/share.html','<div class="send-actions-content-item" layout="row"><md-content layout-wrap layout-fill><prm-permalink [is-share-action]="true" [item]="::$ctrl.item" [selected-ids]="::$ctrl.selectedIds"></prm-permalink><div layout="column" class="margin-top-medium"><div layout="row" layout-align="center center"><a ng-repeat="item in ::$ctrl.shareIconList" class="share-btn" layout="column" tabindex="0" layout-align="center center" ng-keydown="$ctrl.keyDownSupport($event, item)" ng-click="$ctrl.openShareDialog(item);$ctrl.setAndRunOperationBeacon(item)" target="_blank" data-qa="{{\'share_permalink_social_media\' +\'_\'+ item}}"><prm-icon class="margin-bottom-small" icon-type="svg" svg-icon-set="primo-ui" icon-definition="{{::$ctrl.actionIcons[$ctrl.shareIconNamesMap[item]].icon}}"></prm-icon><span class="button-text" translate="{{::( \'fulldisplay.command.pushto.option.\' + $ctrl.shareLabelNamesMap[item])}}"></span></a></div></div></md-content></div><prm-share-after parent-ctrl="$ctrl"></prm-share-after>');
$templateCache.put('components/search/browse/browseResult/browse-result.html','<md-list-item ng-class="{\'not-link\':!$ctrl.haveLink}" class="md-2-line main-results" ng-click="$ctrl.reportUse()" ng-href="{{::$ctrl.resultLink}}" class="browse-result-link" aria-label="{{$ctrl.title}}{{\' \'}}{{$ctrl.isOneOrMoreRecords()}}"><div class="md-list-item-text" layout="row" layout-align="center center" ng-if="!$ctrl.isCallNumber() && !$ctrl.isSubjectOrAuthor()"><div layout="column" layout-align="center start" flex style="padding-right: 1em;"><h3 class="item-title bold-text" style="align-self: flex-start; max-width: 100%"><span><prm-highlight terms="" text="$ctrl.title"></prm-highlight></span></h3></div><div flex="20" layout-align="center start" layout="column"><span><span ng-if="$ctrl.numberOfDocs <= 1">1 {{\'nui.browse.single_rec\'| translate}}</span> <span ng-if="$ctrl.numberOfDocs > 1">{{$ctrl.numberOfDocs}} {{$ctrl.exactNumber}} {{\'nui.browse.multiple_rec\'| translate}}</span></span></div></div><div class="md-list-item-text" layout="row" layout-align="center center" ng-if="$ctrl.isCallNumber()"><div layout="column" layout-align="center start" flex style="padding-right: 1em;"><h3 class="item-title"><span><prm-highlight terms="" text="$ctrl.title"></prm-highlight></span></h3><h4 class="call-number-description"><span>{{$ctrl.author}}</span> <span>{{$ctrl.date}}</span></h4></div><div flex="20" layout-align="center start" layout="column"><span layout="column" style="line-height: 1.3em;"><span translate="nui.browse.col.callno"></span> <strong dir="auto">{{$ctrl.callNumber}}</strong></span></div></div><div class="md-list-item-text" layout="row" layout-align="center center" ng-if="$ctrl.isSubjectOrAuthor()"><div layout="column" layout-align="center start" flex ng-class="$ctrl.switchToLtrString() ? \'padding-left-small\' : \'padding-right-small\'"><h3 class="item-title bold-text" style="align-self: flex-start; max-width: 100%"><span ng-if="$ctrl.havePref" style="font-weight: 400; color: initial"><prm-highlight terms="" text="$ctrl.preferred"></prm-highlight></span><span ng ng-if="$ctrl.haveType && $ctrl.havePref">&nbsp;</span> <span ng ng-if="$ctrl.haveType && $ctrl.havePref" class="text-italic text-in-brackets" style="color: black">{{$ctrl.type}}</span> <span ng-if="$ctrl.havePref" translate="nui.browse.crossref.see"></span> <span ng-repeat="title in $ctrl.prefTitle.reverse() "><span ng-if="!$first">,</span> <a ng-if="$ctrl.havePref" ng-href="{{::$ctrl.resultLinkPref(title)}}"><prm-highlight terms="" text="title"></prm-highlight></a><span ng-if="!$ctrl.havePref"><prm-highlight terms="" text="title"></prm-highlight></span></span><span ng ng-if="$ctrl.haveType && !$ctrl.havePref">&nbsp;</span> <span ng ng-if="$ctrl.haveType && !$ctrl.havePref" class="text-italic text-in-brackets" style="color: black">{{$ctrl.type}}</span></h3></div><div flex="20" layout-align="center start" layout="column"><span ng-if="!$ctrl.havePref"><span ng-if="$ctrl.numberOfDocs <= 1">1 {{\'nui.browse.single_rec\'| translate}}</span> <span ng-if="$ctrl.numberOfDocs > 1">{{$ctrl.numberOfDocs}} {{$ctrl.exactNumber}} {{\'nui.browse.multiple_rec\'| translate}}</span></span></div></div></md-list-item><prm-browse-result-after parent-ctrl="$ctrl"></prm-browse-result-after>');
$templateCache.put('components/search/browse/browseSearchBar/browse-search-bar.html','<div tabindex="-1" role="search" layout="row" aria-label="{{\'nui.aria.navigationRegionBrowseSearch\' | translate}}"><div flex="0" flex-md="15" flex-lg="20" flex-xl="20"></div><div layout="column" flex><div class="search-elements-wrapper" layout="row"><form name="search-form" ng-submit="$ctrl.performSearch()" class="layout-full-width"><div class="classic-input" layout="row" layout-fill><div class="search-scope" layout="column" layout-align="center start"><div layout="row" layout-align="center center"><md-input-container layout="row" layout-xs="column" class="zero-margin" layout-align="start center"><label tabindex="-1" translate="nui.browse.browseby" class="_md-container-ignore md-container-ignore bold-text"></label><md-select ng-model="$ctrl.selectedScope" translate-attr="::{\'aria-label\': \'nui.browse.browseBy\'}"><md-option ng-repeat="opt in $ctrl.scopes" ng-value="opt"><span role="button" translate="nui.browse.{{opt.SourceCode1}}" alt="{{\'nui.browse.browseby\' | translate}}"></span></md-option></md-select></md-input-container></div></div><md-input-container flex md-no-float><input ng-class="{\'text-rtl\': $ctrl.switchToLtrString()}" ng-model="$ctrl.searchBarInput" ng-change="vm.onMessageChange()" placeholder="{{\'nui.browse.placeholder\' | translate}}" autocomplete="off" id="searchBarBrowse"></md-input-container><md-button tabindex="{{$ctrl.searchBarInput.length ? 0 : -1 }}" ng-click="$ctrl.onClearSearchInput()" ng-class="{\'is-visible\': $ctrl.searchBarInput.length }" aria-label="{{\'nui.searchField.clear\' | translate}}" type="button" class="md-button md-icon-button clear-button" style="top: 0; bottom: 0; margin: auto"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button><md-button class="submit-button button-confirm" aria-label="{{\'nui.aria.submitSearch\' | translate}}" (click)="$ctrl.performSearch()"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon></md-button></div></form></div></div><div flex="0" flex-md="15" flex-lg="20" flex-xl="20"></div></div><prm-browse-search-bar-after parent-ctrl="$ctrl"></prm-browse-search-bar-after>');
$templateCache.put('components/search/facet/facetExact/facet-exact.html','<h3 ng-if="::!$ctrl.facetGroup.labelParam" class="section-title-header"><md-button class="section-title" layout-fill layout="row" layout-align="start center" aria-expanded="{{!$ctrl.facetGroup.facetGroupCollapsed}}" (click)="$ctrl.toggleFacet($event)" ng-class="{\'collapsed\': $ctrl.facetGroup.facetGroupCollapsed}" translate-attr-title="{{$ctrl.facetGroup.facetGroupCollapsed ? \'nui.facets.expand.tooltip\' :\'nui.facets.collapse.tooltip\'}}"><span class="section-title-header display-contents" ng-style="::($ctrl.facetToLeft ? {\'max-width\':\'380px\'} : {\'max-width\':\'300px\'})" ng-if="::$ctrl.isLocalFacet()" translate-default="{{::$ctrl.facetGroup.name}}" translate="fulldisplay.{{::$ctrl.facetGroup.name}}" translate-attr-title="fulldisplay.{{::$ctrl.facetGroup.name}}"></span> <span class="section-title-header display-contents" ng-style="::($ctrl.facetToLeft ? {\'max-width\':\'380px\'} : {\'max-width\':\'300px\'})" ng-if="::!$ctrl.isLocalFacet()" translate-default="{{::$ctrl.facetGroup.name}}" translate="facets.facet.facet_{{::$ctrl.facetGroup.name}}" translate-attr-title="facets.facet.facet_{{::$ctrl.facetGroup.name}}"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" ng-class="{\'rotate-180\': $ctrl.facetGroup.facetGroupCollapsed}"></prm-icon></md-button></h3><h3 ng-if="::$ctrl.facetGroup.labelParam" class="section-title-header"><md-button class="section-title" layout-fill layout="row" layout-align="start center" aria-expanded="{{!$ctrl.facetGroup.facetGroupCollapsed}}" (click)="$ctrl.toggleFacet($event)" ng-class="{\'collapsed\': $ctrl.facetGroup.facetGroupCollapsed}" translate-attr-title="{{$ctrl.facetGroup.facetGroupCollapsed ? \'nui.facets.expand.tooltip\' :\'nui.facets.collapse.tooltip\'}}"><span class="section-title-header" translate="facets.facet.facet_{{::$ctrl.facetGroup.name}}" translate-values="{\'idx_0\' : $ctrl.facetGroup.labelParam}"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" ng-class="{\'rotate-180\': $ctrl.facetGroup.facetGroupCollapsed}"></prm-icon></md-button></h3><div ng-if="!$ctrl.facetGroup.facetGroupCollapsed" class="section-content animate-max-height-variable"><div class="md-chips md-chips-wrap"><div class="md-chip animate-opacity-and-scale facet-element-marker-{{::$ctrl.facetGroup.name}} wrapping-chip facet-title-row {{facet.facetType===\'exclude\' ? \'facet-excluded\' : \'\'}}" ng-if="!$ctrl.facetGroup.facetGroupCollapsed && $ctrl.containLegalFacetByLang(facet)" ng-repeat="facet in $ctrl.getFacetGroupValues() | limitTo:$ctrl.facetGroup.displayedCount" ng-class="facet.facetType===\'exclude\' ? \'facet-excluded\' : \'\'; {\'is-hovered\': isHovered}" data-facet-value="{{::facet.name}}-{{::facet.value}}"><div class="md-chip-content" layout="row" layout-align="start center"><md-checkbox ng-click="$ctrl.toggleMultiFacet(facet)" ng-checked="facet.checked" aria-label="{{$ctrl.ariaLabelForFacetCheckbox(facet)}}" md-no-ink="true"></md-checkbox><strong dir="auto" class="facet-title" layout-align="end" layout="row" ng-click="$ctrl.addFacet(facet)" aria-label="{{::$ctrl.ariaLabelForFacetTitle(facet)}}"><span class="text-number-space" title="{{::$ctrl.getFacetTitleTranslated(facet)}}">{{::$ctrl.getFacetTitleTranslated(facet)}}</span> <span ng-if="::facet.count>0 && $ctrl.isShowCount(facet)" class="text-italic text-in-brackets text-rtl facet-counter">{{::$ctrl.getCountsummary(facet)}}</span></strong><div ng-if="::($ctrl.facetGroup.name!==\'tlevel\' || facet.value !== \'online_resources\')" class="md-chip-remove-container"><md-button class="md-icon-button zero-margin" ng-click="$ctrl.toggleIncludeExclude(facet)" ng-class="facet.facetType===\'exclude\' ? \'button-include\': \'button-exclude\'" ng-style="(($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm || $ctrl.mediaQueries.md) && {\'opacity\':\'1\'})" aria-label="{{$ctrl.ariaLabelForFacet(facet.facetType===\'exclude\' ? \'include\' : \'exclude\')}} {{::$ctrl.getFacetTitleTranslated(facet)}}"><prm-icon icon-type="{{::$ctrl.facetsIcons.excludeFacet.type}}" ng-if="(facet.facetType !== \'exclude\')" svg-icon-set="{{::$ctrl.facetsIcons.excludeFacet.iconSet}}" icon-definition="{{::$ctrl.facetsIcons.excludeFacet.icon}}"></prm-icon><prm-icon icon-type="{{::$ctrl.facetsIcons.includeFacet.type}}" ng-if="(facet.facetType === \'exclude\')" svg-icon-set="{{::$ctrl.facetsIcons.includeFacet.iconSet}}" icon-definition="{{::$ctrl.facetsIcons.includeFacet.icon}}"></prm-icon><md-tooltip><span>{{$ctrl.ariaLabelForFacet(facet.facetType === \'exclude\' ? \'include\' : \'exclude\') }} {{::$ctrl.getFacetTitleTranslated(facet)}}</span></md-tooltip></md-button></div></div></div></div><div class="expand-section-button compensate-padding-left" ng-if="$ctrl.isShowMore($ctrl.facetGroup)" ng-mousedown="$ctrl.toggleMoreFacets($ctrl.facetGroup,0)" ng-keypress="$event.keyCode == 13 || $event.keyCode == 32 ? $ctrl.toggleMoreFacets($ctrl.facetGroup,1) : null" aria-label="{{::$ctrl.facetGroup.name}}"><md-button class="button-as-link link-alt-color zero-margin"><span class="bold-text" translate="nui.facets.showmore" translate-attr-title="nui.facets.showmore" aria-label="{{\'nui.aria.facets.showmore\' | translate:\'{name: \\\'\'+$ctrl.facetGroupHeader+\'\\\'}\'}}"></span></md-button></div><div ng-init="messageAdded = \'\';\r\n                  messageRemoved = (\'nui.aria.facets.showmore\' | translate:\'{name: \\\'\'+$ctrl.facetGroupHeader+\'\\\'}\')" ng-if="$ctrl.isShowMore($ctrl.facetGroup)" class="accessible-only" aria-label="{{::$ctrl.isShowMore($ctrl.facetGroup) ? messageAdded : messageRemoved}}" aria-live="assertive">{{$ctrl.isShowMore($ctrl.facetGroup) ? messageAdded : messageRemoved}}</div></div><div class="link-as-facet" ng-if="$ctrl.isRtypeFacet($ctrl.facetGroup.name) && $ctrl.displayNewspapersLink() && !$ctrl.facetGroup.facetGroupCollapsed"><prm-newspapers-facet></prm-newspapers-facet></div><prm-facet-exact-after parent-ctrl="$ctrl"></prm-facet-exact-after>');
$templateCache.put('components/search/facet/facetRange/facet-range.html','<h3 class="section-title-header"><md-button class="section-title" layout-fill layout="row" layout-align="start center" aria-expanded="{{!$ctrl.facetGroup.facetGroupCollapsed}}" (click)="$ctrl.toggleFacet($event)" ng-class="{\'collapsed\': $ctrl.facetGroup.facetGroupCollapsed}" translate-attr-title="{{$ctrl.facetGroup.facetGroupCollapsed ? \'nui.facets.expand.tooltip\' :\'nui.facets.collapse.tooltip\'}}"><span class="section-title-header display-contents" ng-style="::($ctrl.facetToLeft ? {\'max-width\':\'380px\'} : {\'max-width\':\'300px\'})" translate="facets.facet.facet_{{::$ctrl.facetGroup.name}}" translate-attr-title="facets.facet.facet_{{::$ctrl.facetGroup.name}}"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" ng-class="{\'rotate-180\': $ctrl.facetGroup.facetGroupCollapsed}"></prm-icon></md-button></h3><div class="section-content animate-max-height-variable md-chip" ng-hide="$ctrl.facetGroup.facetGroupCollapsed"><div layout="row" layout-align="start center" class="md-range-content"><md-checkbox tabindex="0" md-no-ink="true" aria-label="{{$ctrl.ariaLabelForFacet(facet.facetType)}}{{\' \'}}{{::(\'facets.facet.facet_\'+ $ctrl.facetGroup.name | translate)}}{{\' \'}}{{\'nui.multiple.selection\' | translate}}" ng-click="$ctrl.toggleMultiRangeFacet($ctrl.rangeFacetValue)" ng-checked="$ctrl.facetService.activeRangeMultiFacet"></md-checkbox><md-input-container><label translate="facets.date.slider.from"></label> <input type="number" min="{{::$ctrl.facetGroup.additionalData.min}}" max="{{::$ctrl.facetGroup.additionalData.selectedMax}}" step="{{::$ctrl.facetGroup.additionalData.step}}" ng-model="$ctrl.facetGroup.additionalData.selectedMin" value="{{$ctrl.facetGroup.additionalData.selectedMin}}" ng-change="$ctrl.changeMultiFacetVal($ctrl.rangeFacetValue)" translate-attr="{\'aria-label\': \'nui.aria.from\'}"></md-input-container><md-input-container><label translate="facets.date.slider.to"></label> <input type="number" min="{{::$ctrl.facetGroup.additionalData.selectedMin}}" max="{{::$ctrl.facetGroup.additionalData.max}}" step="{{::$ctrl.facetGroup.additionalData.step}}" ng-model="$ctrl.facetGroup.additionalData.selectedMax" value="{{$ctrl.facetGroup.additionalData.selectedMax}}" ng-change="$ctrl.changeMultiFacetVal($ctrl.rangeFacetValue)" translate-attr="{\'aria-label\': \'nui.aria.to\'}"></md-input-container><md-button (click)="$ctrl.addFacet(\'searchcreationdate\', $ctrl.rangeFacetLabel, $ctrl.rangeFacetValue,\'include\', $ctrl.facetGroup.displayedType, $ctrl.rangeFacetMinValue, $ctrl.rangeFacetMaxValue,\'add\')" class="button-as-link link-alt-color zero-margin" translate-attr="{\'aria-label\': \'facets.date.slider.refine\'}"><span translate="facets.date.slider.refine"></span></md-button></div></div><prm-facet-range-after parent-ctrl="$ctrl"></prm-facet-range-after>');
$templateCache.put('components/search/fullView/backToSearchResultsButton/back-to-search-results-button.html','<div ng-if="::$ctrl.isBackToSearchRequired()"><md-toolbar class="default-toolbar zero-padding" sticky sticky-class="is-stuck" disabled-sticky="$ctrl.isBrowseMode"><div class="md-toolbar-tools zero-padding" layout="row"><div flex="0" flex-md="0" flex-lg="15" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}" flex-xl="20"></div><md-button ng-if="!$ctrl.isBrowseMode" class="back-button has-text" ng-style="($ctrl.isRTL()) && {\'margin-right\': \'10px\'}" ng-click="$ctrl.navigateBackToSearchResults()" translate-attr="{\'aria-label\': \'nui.aria.search.back\'}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><span translate="fulldisplay.deatiles.back"></span></md-button><md-button ng-if="$ctrl.isBrowseMode" class="back-button has-text" ui-state="$ctrl.browseState" ui-state-params="$ctrl.backToBrowseParams" aria-label="{{$ctrl.backToBrowseLabel}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="back-to-search"></prm-icon><span>{{$ctrl.backToBrowseLabel}}</span></md-button></div></md-toolbar></div><prm-back-to-search-results-button-after parent-ctrl="$ctrl"></prm-back-to-search-results-button-after>');
$templateCache.put('components/search/fullView/details/service-details.html','<div class="section-body" id="item-details"><div class="spaced-rows" layout="column"><div ng-repeat="detail in ::$ctrl.details" layout="row" layout-xs="column" class="layout-block-xs" ng-if="$ctrl.showDetail(detail)"><div flex-gt-sm="20" flex-gt-xs="25" flex><span class="bold-text word-break" data-details-label="{{detail.label}}" translate="fulldisplay.{{detail.label}}" translate-attr-title="fulldisplay.{{detail.label}}"></span></div><div class="item-details-element-container" flex><div role="list" class="item-details-element" ng-class="{\'item-details-element-multiple\': (detail.values && detail.values.length > 1)}" ng-repeat="value in detail.values"><div role="listitem" ng-show="$ctrl.showListItem(detail, $index)" ng-repeat="curValue in $ctrl.getValuesOfValueItems(value) track by $index" layout="column" class="word-break"><ng-container ng-init="chainArray = $ctrl.getChainArray(curValue, value.chainDelimiter)"></ng-container><div ng-show="value.isLinkable" ng-class="{\'string-to-rtl-details\': ($ctrl.dontChangeStringDirectionToRtl(curValue) && !value.chainDelimiter), \'chain-display-space\':(chainArray.length > 1 && !$last)}"><prm-highlight ng-if="$ctrl.isSubfieldExist(curValue, \'$$C\')" terms="$ctrl.hl(value.keyt)" text="$ctrl.getPrefix(curValue)"></prm-highlight><a (click)="$ctrl.setCameFromIndicationLateral(value)" ng-if="$ctrl.isSubfieldExist(curValue, \'$$Z\') && value.keyt !== \'crsinfo\' && !$ctrl.isSubfieldExist(curValue, \'$$T\')" class="arrow-link" aria-label="{{$ctrl.getTextFromVal(curValue)}}" ui-sref="fulldisplay({\r\n\t\t\t\t\t\t\t   \t\t\t\tvid:\'{{$ctrl.queryOptions.vid}}\',\r\n\t\t\t\t\t\t\t   \t\t\t\tscope:\'{{$ctrl.queryOptions.scope}}\',\r\n\t\t\t\t\t\t\t   \t\t\t\ttab:\'{{$ctrl.queryOptions.tab}}\',\r\n\t\t\t\t\t\t\t   \t\t\t\tdocid:\'alma{{$ctrl.getSubfieldFromVal(curValue, \'$$Z\')}}\',\r\n\t\t\t\t\t\t\t   \t\t\t\tcontext:\'L\'\r\n\t\t\t\t\t\t\t   \t\t\t\t})" ui-sref-opts="{reload: true}"><prm-highlight terms="$ctrl.highlights[value.keyt]" text="$ctrl.getTextFromVal(curValue)"></prm-highlight><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></a><a (click)="$ctrl.setCameFromIndicationLateral(value)" ng-if="$ctrl.isSubfieldExist(curValue, \'$$Z\') && value.keyt !== \'crsinfo\' && $ctrl.isSubfieldExist(curValue, \'$$T\')" class="arrow-link" aria-label="{{$ctrl.getTextFromVal(curValue)}}" href="{{::$ctrl.getSubfieldFromVal(curValue, \'$$Z\')}}" target="_blank"><prm-highlight terms="$ctrl.highlights[value.keyt]" text="$ctrl.getTextFromVal(curValue)"></prm-highlight><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></a><a (click)="$ctrl.setCameFromIndicationLateral(value);$ctrl.setIsFacetExact(value);" ng-if="!$ctrl.isSummonOverAlma() && curValue && !$ctrl.isSubfieldExist(curValue, \'$$Z\') && value.keyt !== \'crsinfo\' && !$ctrl.isSubfieldExist(curValue, \'$$L\') && $ctrl.getTextFromVal(chainValue, value.key, value.values)" class="arrow-link" aria-label="{{$ctrl.getTextFromVal(chainValue, value.key, value.values)}}" ng-repeat="chainValue in chainArray track by $index" ng-class="{\'chain-display\':chainArray.length > 1}" ui-sref="exploreMain.search({\r\n\t\t\t\t\t\t\t\t\t\t\tvid:\'{{$ctrl.queryOptions.vid}}\',\r\n\t\t\t\t\t\t\t\t\t\t\tquery: \'{{$ctrl.getQuery(value,chainValue)}}\',\r\n\t\t\t\t\t\t\t\t\t\t\tsearch_scope:\'{{$ctrl.queryOptions.scope}}\',\r\n\t\t\t\t\t\t\t\t\t\t\tfacet:\'{{$ctrl.getFacet(value,chainValue)}}\',\r\n\t\t\t\t\t\t\t\t\t\t\tmode:\'{{$ctrl.searchMode}}\',\r\n\t\t\t\t\t\t\t\t\t\t\toffset:\'0\',\r\n\t\t\t\t\t\t\t\t\t\t\ttab:\'{{$ctrl.queryOptions.tab}}\'\r\n\t\t\t\t\t\t\t\t\t\t\t})" ui-sref-opts="{reload: true}"><prm-highlight terms="$ctrl.highlights[value.keyt]" text="$ctrl.getTextFromVal(chainValue, value.key, value.values)"></prm-highlight><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></a><a (click)="$ctrl.setCameFromIndicationLateral(value)" ng-if="$ctrl.isSummonOverAlma() && curValue && !$ctrl.isSubfieldExist(curValue, \'$$Z\') && value.keyt !== \'crsinfo\'" class="arrow-link" aria-label="{{$ctrl.getTextFromVal(curValue)}}" href="{{::$ctrl.createSummonOverAlmaLink(value,curValue)}}" target="_blank"><prm-highlight terms="$ctrl.highlights[value.keyt]" text="$ctrl.getTextFromVal(curValue)"></prm-highlight><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></a><a (click)="$ctrl.runLinkToLegantoBeacon()" ng-if="curValue && $ctrl.isSubfieldExist(curValue, \'$$R\')" class="arrow-link" aria-label="{{$ctrl.getTextFromVal(curValue)}}" title="{{::$ctrl.getToolTip(value) | translate}}" href="{{::$ctrl.createLegantoLink(curValue)}}" target="_blank"><prm-highlight terms="$ctrl.highlights[value.keyt]" text="$ctrl.getTextFromVal(curValue)"></prm-highlight><prm-icon external-link icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></a><prm-highlight ng-if="$ctrl.isSubfieldExist(curValue, \'$$L\') || value.keyt === \'crsinfo\' && !$ctrl.isSubfieldExist(curValue, \'$$R\') " terms="$ctrl.hl(value.keyt)" text="$ctrl.getTextFromVal(curValue)"></prm-highlight></div><div ng-show="!value.isLinkable" ng-class="{\'string-to-rtl-details\': $ctrl.dontChangeStringDirectionToRtl(curValue)}" ng-style="($ctrl.dontChangeStringDirectionToRtl(curValue) && !$ctrl.isLtr()) && {\'text-align\':\'right\'}"><prm-highlight ng-if="$ctrl.isSubfieldExist(curValue, \'$$C\')" terms="$ctrl.hl(value.keyt)" text="$ctrl.getPrefix(curValue) + $ctrl.getTextFromVal(curValue)"></prm-highlight><prm-highlight ng-if="!$ctrl.isSubfieldExist(curValue, \'$$C\') && $ctrl.getTextFromVal(curValue, value.key, value.values)" terms="$ctrl.hl(value.keyt)" text="$ctrl.getTextFromVal(curValue, value.key, value.values)"></prm-highlight></div></div></div><md-button ng-show="detail.isCollapsible" (click)="detail.showMore=!detail.showMore" aria-label="show.hide.{{detail.label}}"><span ng-show="detail.showMore" translate="proquest.collections.more"></span> <span ng-show="!detail.showMore" translate="proquest.collections.more.hide"></span> <span ng-show="detail.showMore"><i class="icon arrow-icon fa fa-chevron-down"></i></span> <span ng-show="!detail.showMore"><i class="icon arrow-icon fa fa-chevron-up"></i></span></md-button><md-button ng-show="$ctrl.displayShowAllButton(detail)" class="button-link link-alt-color zero-margin" (click)="$ctrl.changeShowMoreStatus(detail)"><span ng-show="detail.showMore" class="bold-text padding-small" translate="fulldisplay.details.showAll"></span> <span ng-show="!detail.showMore" class="bold-text padding-small" translate="fulldisplay.details.showLess"></span></md-button></div></div><prm-record-collection-paths ng-if="$ctrl.isCDEnabled()" [item]="::$ctrl.item"></prm-record-collection-paths></div></div><prm-service-details-after parent-ctrl="$ctrl"></prm-service-details-after>');
$templateCache.put('components/search/fullView/fullViewPage/full-view-page.html','<prm-full-view-cont ng-if="!$ctrl.showPnx" [item]="$ctrl.currentItem"></prm-full-view-cont><div style="height: inherit"><textarea ng-if="$ctrl.showPnx" style="border:none; width: 100%; resize:none; overflow:hidden; direction: ltr" ng-style="{ \'height\': $ctrl.pnxLength + \'vw\' }" disabled="disabled">{{$ctrl.currentItem.pnx}}</textarea></div><prm-full-view-page-after parent-ctrl="$ctrl"></prm-full-view-page-after>');
$templateCache.put('components/search/fullView/fullViewServiceContainer/full-view-service-container.html','<div class="section-head"><prm-service-header ng-if="$ctrl.service.serviceName!==\'brief\' && $ctrl.displayServiceForRapido($ctrl.service)" [title]="$ctrl.service.tabTitle || $ctrl.service.title"></prm-service-header></div><div class="section-body {{$ctrl.mashupServiceClassName()}}"><prm-brief-result-container ng-if="$ctrl.service.serviceName===\'brief\'" [is-full-view]="true" [is-overlay-full-view]="$ctrl.isOverlayFullView" [is-favorite-for-display-frbr]="$ctrl.isfavorites" [item]="$ctrl.item" [links]="$ctrl.item.delivery.link"></prm-brief-result-container><prm-action-list ng-if="$ctrl.service.serviceName===\'action_list\'" [is-full-view]="true" [display-all]="true" [item]="::$ctrl.item" [selected-action]="\'none\'" class="list-item-secondary-content result-item-secondary-content visible" ng-style="{\'padding-top\': $ctrl.itemHeight}" ng-keydown="$ctrl.keyDownSupport($event)"></prm-action-list><div ng-if="$ctrl.loadAdditionalServices"><prm-login-alma-mashup ng-if="(!$ctrl.hasMultLinks() && $ctrl.service.serviceName===\'activate\') || $ctrl.isGetit2MultActivateLink()" [index]="::$ctrl.index" [internal-login]="false"></prm-login-alma-mashup><prm-alma-mashup ng-if="(!$ctrl.hasMultLinks() && $ctrl.service.serviceName===\'activate\' && $ctrl.isMashupLink()) || $ctrl.isGetit2MultActivateLink()" [links-array]="$ctrl.service.linkElement.links" class="margin-bottom-large display-block"></prm-alma-mashup><prm-alma-more-inst ng-if="$ctrl.service.serviceName ===\'activate\' && $ctrl.isMoreAlmaInst() && $ctrl.isAlmaGetit()" [item]="::$ctrl.item"></prm-alma-more-inst><prm-view-online ng-if="$ctrl.service.serviceName===\'display\' && !$ctrl.isGetit2MultActivateLink() " [service-item]="::$ctrl.service" [item]="::$ctrl.item" [getit-type]="::$ctrl.getItType" [getit-tab-text]="::$ctrl.service.linkElement.links[0].getItTabText"></prm-view-online><prm-alma-viewit ng-if="$ctrl.service.serviceName===\'Viewit\' && $ctrl.hackForAlma()" [item]="::$ctrl.item"></prm-alma-viewit><prm-quick-access ng-if="$ctrl.service.serviceName===\'quickaccess\' && $ctrl.isQuickAccess()" [item]="::$ctrl.item"></prm-quick-access><prm-opac ng-if="$ctrl.service.serviceName===\'ovp\' || $ctrl.service.serviceName===\'ovl\'" [item]="$ctrl.item" [service-mode]="::$ctrl.service.serviceName" [service-scroll-id]="::$ctrl.service.scrollId" [is-overlay-full-view]="::$ctrl.isOverlayFullView"></prm-opac><alma-htgi-svc ng-if="$ctrl.service.serviceName===\'howovp\' && !$ctrl.isHideHowToGetItSectionForRapido()" [item]="$ctrl.item" [service-scroll-id]="::$ctrl.service.scrollId" [is-overlay-full-view]="::$ctrl.isOverlayFullView"></alma-htgi-svc><prm-alma-other-units ng-if="$ctrl.configurationUtil.isSuprima() && $ctrl.isMoreAlmaUnits() && ($ctrl.service.serviceName===\'howovp\' || $ctrl.service.serviceName===\'Viewit\')" [item]="::$ctrl.item" [is-collapsed]="true"></prm-alma-other-units><prm-alma-other-members ng-if="$ctrl.ifShowOther(\'P\')" [item]="::$ctrl.item" [service-mode]="::$ctrl.service.serviceName" [service-scroll-id]="::$ctrl.service.scrollId" [is-overlay-full-view]="::$ctrl.isOverlayFullView" [is-collapsed]="false" [availability-type]="\'P\'"></prm-alma-other-members><prm-alma-other-members ng-if="$ctrl.ifShowOther(\'E\')" [item]="::$ctrl.item" [service-mode]="::$ctrl.service.serviceName" [service-scroll-id]="::$ctrl.service.scrollId" [is-overlay-full-view]="::$ctrl.isOverlayFullView" [is-collapsed]="true" [availability-type]="\'E\'"></prm-alma-other-members><prm-service-details ng-if="$ctrl.service.serviceName===\'details\'" [item]="::$ctrl.item"></prm-service-details><prm-usage-metrics ng-if="$ctrl.service.serviceName===\'esploroUsage\'" [item]="::$ctrl.item"></prm-usage-metrics><prm-tags-list ng-if="$ctrl.service.serviceName===\'tags\'" [item]="::$ctrl.item" [tagslist]="$ctrl.recordNonUserTags" [usertagslist]="$ctrl.recordUserTags" [editable]="true" [is-full-display]="true"></prm-tags-list><prm-service-ngrs ng-if="$ctrl.service.serviceName===\'rapidoOffer\'" [item]="::$ctrl.item"></prm-service-ngrs><prm-service-links ng-if="$ctrl.service.serviceName===\'links\' || $ctrl.service.serviceName===\'mayAlsoBeFoundAt\'" [service-name]="$ctrl.service.serviceName" [item]="::$ctrl.item"></prm-service-links><prm-quick-link ng-if="($ctrl.service.serviceName===\'links\' && ($ctrl.isQuickLinksAvailable || $ctrl.isUnpaywallLinksAvailable))" [item]="::$ctrl.item" display-section="Links" [is-full-display]="true"></prm-quick-link><prm-virtual-browse ng-if="$ctrl.service.serviceName===\'virtualBrowse\'" [item]="$ctrl.item"></prm-virtual-browse><prm-more-like-this ng-if="$ctrl.service.serviceName===\'moreLikeThisCourse\'" [is-course]="$ctrl.isCourse" [item]="$ctrl.item" [more-like-this-unfiltered-items]="$ctrl.moreLikeThisItems" same-by-field="crs"></prm-more-like-this><prm-more-like-this ng-if="$ctrl.service.serviceName===\'moreLikeThisCollection\'" [is-collection]="$ctrl.isCollection" [item]="$ctrl.item" [more-like-this-unfiltered-items]="$ctrl.moreLikeThisItems" same-by-field="col"></prm-more-like-this><prm-citation-trails-fullview-link ng-if="$ctrl.service.serviceName === \'citationTrails\' || $ctrl.service.serviceName === \'timesCited\'" [record]="$ctrl.item"></prm-citation-trails-fullview-link><prm-search-within-journal ng-if="$ctrl.service.serviceName===\'searchWithinJournal\'" [item]="$ctrl.item"></prm-search-within-journal></div></div><prm-full-view-service-container-after parent-ctrl="$ctrl"></prm-full-view-service-container-after>');
$templateCache.put('components/search/fullView/fullViewServiceContainer/login-alma-mashup.html','<div ng-show="!$ctrl.isLoggedIn() && !$ctrl.isLoggedInIDP() && ($ctrl.index == $ctrl.getIndexFullView() || $ctrl.internalLogin)" class="bar alert-bar" layout="row" layout-align="center center"><span translate="getit.signin_link.sign_in" class="margin-right-small"></span><prm-authentication [is-logged-in]="$ctrl.userName().length > 0"></prm-authentication></div><prm-login-alma-mashup-after parent-ctrl="$ctrl"></prm-login-alma-mashup-after>');
$templateCache.put('components/search/fullView/legantoGetIt/leganto-getit.html','<prm-opac ng-if="$ctrl.currentItem" [item]="$ctrl.currentItem" [service-mode]="\'ovp\'" [no-login]="$ctrl.noLogin"></prm-opac><prm-service-links ng-if="$ctrl.currentItem && $ctrl.isGESEnabled" [item]="$ctrl.currentItem" service-name="links"></prm-service-links><prm-leganto-getit-after parent-ctrl="$ctrl"></prm-leganto-getit-after>');
$templateCache.put('components/search/fullView/linkedData/linked-data-card.html','<md-card class="wrapper"><md-card-header class="padding-bottom-zero"><md-card-avatar flex-gt-sm="20" flex-sm="15"><img alt="" src="{{::$ctrl.data.image}}"></md-card-avatar><md-card-header-text flex-gt-sm="80" flex-sm="85"><h4 class="bold-text">{{::$ctrl.data.labels.value}}</h4><span class="md-subhead">{{::$ctrl.data.descriptions.value}}</span></md-card-header-text></md-card-header><md-card-content ng-show="$ctrl.showMore" class="padding-bottom-zero" layout-align="start center"><div ng-if="$ctrl.data.dateOfBirth.date" layout="row" class="margin-bottom-small"><div flex-gt-sm="20" flex-xs="20" flex-sm="15" flex class="linked-data-label"><span class="bold-text" translate="{{::$ctrl.data.dateOfBirth.label}}"></span></div><div class="word-break ng-scope layout-column" flex-gt-sm="80" flex-sm="85" flex-xs="80"><span>{{::$ctrl.data.dateOfBirth.date}}</span></div></div><div ng-if="$ctrl.data.dateOfDeath.date" layout="row" class="margin-bottom-small"><div flex-gt-sm="20" flex-xs="20" flex-sm="15" flex class="linked-data-label"><span class="bold-text" translate="{{::$ctrl.data.dateOfDeath.label}}"></span></div><div flex-gt-sm="80" flex-sm="85" flex-xs="80"><span>{{::$ctrl.data.dateOfDeath.date}}</span></div></div><div ng-if="$ctrl.data.pseudonym.value" layout="row" class="margin-bottom-small"><div flex-gt-sm="20" flex-xs="20" flex-sm="15" flex class="linked-data-label"><span class="bold-text" translate="{{::$ctrl.data.pseudonym.label}}"></span></div><div flex-gt-sm="80" flex-sm="85" flex-xs="80"><span>{{::$ctrl.data.pseudonym.value}}</span></div></div><div layout="row" class="margin-bottom-small"><div flex-gt-sm="20" flex-xs="20" flex-sm="15" flex class="linked-data-label"><img alt="" src="img/powered_by_wikidata.png"></div><div ng-if="$ctrl.data.wikipedia.value" flex-gt-sm="80" flex-sm="85" flex-xs="80"><a (click)="$ctrl.wikiClick()" translate="{{::$ctrl.data.wikipedia.label}}" href="{{::$ctrl.data.wikipedia.value}}" target="_blank" aria-label="{{\'nui.aria.relatedPerson.wikipedia\' | translate}}{{\'nui.aria.newWindow\' | translate}}"></a><prm-icon external-link icon-type="{{::$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.externalLink.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></div></div></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button (click)="$ctrl.changeShowMoreStatus()" class="button-link zero-margin" translate-attr="{\'aria-label\': $ctrl.getShowMoreLessAriaLabel()}" aria-expanded="{{$ctrl.showMore}}"><div ng-show="$ctrl.showMore"><span class="bold-text padding-small" translate="nui.relatedPerson.showLess"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" class="ng-scope ng-isolate-scope"></prm-icon></div><div ng-show="!($ctrl.showMore)"><span class="bold-text padding-small" translate="nui.relatedPerson.showMore"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down" class="ng-scope ng-isolate-scope"></prm-icon></div></md-button></md-card-actions></md-card><prm-linked-data-card-after parent-ctrl="$ctrl"></prm-linked-data-card-after>');
$templateCache.put('components/search/fullView/linkedData/linked-data.html','<h2 class="section-head section-title md-title light-text" translate="nui.relatedPerson.RelatedPersonsTitle"></h2><div ng-repeat="data in $ctrl.linkedData"><prm-linked-data-card [data]="data" data-qa="linked_data_card {{data.labels.value}}"></prm-linked-data-card></div><prm-linked-data-after parent-ctrl="$ctrl"></prm-linked-data-after>');
$templateCache.put('components/search/fullView/links/service-links.html','<div class="spaced-rows"><div ng-if="$ctrl.serviceName === \'links\'"><div ng-repeat="link in $ctrl.getLinks()"><a (click)="$ctrl.setLinkType(link)" class="arrow-link" ng-href="{{link.linkURL}}" target="_blank"><span ng-if="link.linkURL.length > 0 && link.displayLabel.indexOf(\'$$E\') != 0" ng-bind-html="link.displayLabel"></span> <span ng-if="link.linkURL.length > 0 && link.displayLabel.indexOf(\'$$E\') == 0 && link.displayLabel.indexOf(\'$$G\') === -1" translate-default="{{$ctrl.getDefaultLabel(link.displayLabel.substring(3))}}" translate="{{$ctrl.getLabel(link)}}"></span> <span ng-if="link.linkURL.length > 0 && link.displayLabel.indexOf(\'$$E\') == 0 && link.displayLabel.indexOf(\'$$G\') !== -1" ng-bind-html="$ctrl.getTranslatedLink(link)"></span><prm-icon ng-if="link.linkURL.length>0" external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon><prm-icon ng-if="link.linkURL.length>0" link-arrow icon-type="{{$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.arrowRight.icon}}"></prm-icon></a><div><p class="italic-text weak-text" ng-if="link.publicNote.length > 0" ng-bind-html="link.publicNote"></p></div></div></div><div ng-if="$ctrl.hasSourceRecordLink() && $ctrl.serviceName === \'links\'"><a class="arrow-link" target="_blank" ui-sref="sourceRecord({\r\n   \t\t\tvid:\'{{$ctrl.vid}}\',\r\n   \t\t\tdocId:\'{{$ctrl.getRecordId()}}\',\r\n   \t\t\trecordOwner:\'{{$ctrl.getRecordOwner()}}\'\r\n   \t\t\t})" ui-sref-opts="{reload: true}"><span translate="{{$ctrl.getSourceRecordLinkName()}}"></span><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon><prm-icon link-arrow icon-type="{{$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.arrowRight.icon}}"></prm-icon></a></div><div ng-if="$ctrl.serviceName === \'mayAlsoBeFoundAt\' && $ctrl.getLinks()"><md-list layout="column" class="separate-list-items"><md-list-item ng-repeat="link in $ctrl.getLinks() track by $index"><md-button class="neutralized-button layout-full-width layout-display-flex" (click)="$ctrl.openLink(link)" md-ink-ripple="red" aria-label="{{$ctrl.getDisplayLabel(link)}}"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text layout-wrap flex" layout="row"><div flex layout="row"><span ng-if="link.linkURL.length>0" layout="row" layout-align="start center"><img ng-if="::($ctrl.mayAlsoBeHeldByEnhancementFF && $ctrl.getIconByLink(link))" ng-src="{{::$ctrl.getIconByLink(link)}}" height="24" width="24"> <a ng-href="{{link.linkURL}}" ng-click="$ctrl.setLinkType(link)" target="_blank">{{$ctrl.getDisplayLabel(link)}}</a></span></div><prm-icon ng-if="link.linkURL.length>0" class="padding-right-small" icon-type="{{$ctrl.opacLocations.externalLinkIcon.type}}" svg-icon-set="{{$ctrl.opacLocations.externalLinkIcon.iconSet}}" icon-definition="{{$ctrl.opacLocations.externalLinkIcon.icon}}"></prm-icon></div></div></md-button></md-list-item></md-list></div></div><prm-service-links-after parent-ctrl="$ctrl"></prm-service-links-after>');
$templateCache.put('components/search/fullView/quickAccess/quickAccess.html','<prm-representation-viewer style="width:80%" ng-if="$ctrl.data" [data]="$ctrl.data" [mode]="\'innerquickaccess\'" [allowdownload]="$ctrl.allowDownload" [copyrightsfilecontent]="$ctrl.copyRightsFileContent" [copyrightsuri]="$ctrl.copyrightsUri" [copyrightsimgurl]="$ctrl.copyrightsImgUrl" [isobtrusivecopyrights]="$ctrl.isObtrusiveCopyrights" [hiderepeatedlabels]="$ctrl.hideRepeatedLabels" [res]="$ctrl.res" [social]="$ctrl.social" [requestid]="$ctrl.requestId" [filetype]="$ctrl.fileType" [remoteurl]="$ctrl.embedUrl" [pdfdefaultzoom]="$ctrl.pdfDefaultZoom" flex></prm-representation-viewer><prm-quick-access-after parent-ctrl="$ctrl"></prm-quick-access-after>');
$templateCache.put('components/search/fullView/recomendation/recomendationItem.html','<div class="media-element" ng-mouseenter="hoverItem = true" ng-mouseleave="hoverItem = false"><a ng-href="{{$ctrl.getLink()}}" ng-click="$ctrl.sendBeacon()" target="_blank" class="a-tag-as-wrapper" layout="row"><div class="media-figure" ng-if="$ctrl.rec.image"><img ng-src="{{$ctrl.rec.image}}" alt=""></div><div class="media-body" flex><h3 class="recommendations-title" ng-class="{\'hover\': hoverItem}" title="{{$ctrl.rec.title }}"><span class="line-clamp-2"><span>{{ $ctrl.rec.title }}</span></span><prm-icon external-link ng-class="{\'visible\': hoverItem}" icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon></h3><p class="recommendation-details" title="{{$ctrl.rec.line1}}, {{$ctrl.rec.line2}}" layout="column"><span ng-if="$ctrl.rec.line1" ng-bind-html="$ctrl.rec.line1"></span> <span ng-if="$ctrl.rec.line2" ng-bind-html="$ctrl.rec.line2"></span></p><p class="weak-text" ng-if="$ctrl.rec.suggestion || $ctrl.rec.suggestionText"><span class="tiny-uppercase-text" translate="nui.suggestion.bx.type" translate-values="$ctrl.getPlaceHolders($ctrl.rec)"></span> <span><span style="font-size: .95em" translate="nui.suggestion.bx.message"></span><img ng-if="$ctrl.rec.suggestion == \'BX\'" src="img/bxlogo.png" alt="{{\'nui.aria.recommendation.bx.logo\' | translate}}" style="width: 18px; position: relative; top: 3px;"/> <img ng-if="$ctrl.rec.suggestion == \'bibtip\'" ng-src="img/bibtiplogo.png" alt="" style="position: relative; top: 3px; height: .9em; width: auto; margin-left: .2em;"/> <img ng-if="$ctrl.rec.suggestion == \'worldcat\'" ng-src="img/bibtiplogo.png" alt="" style="position: relative; top: 3px; height: .9em; width: auto; margin-left: .2em;"/></span></p></div></a></div><prm-recomendation-item-after parent-ctrl="$ctrl"></prm-recomendation-item-after>');
$templateCache.put('components/search/fullView/recomendation/recomendations.html','<div class="recommendations-wrapper" layout="column" layout-align="start start" ng-if="$ctrl.bxenable"><div class="section-head" layout="column" layout-align="start start"><h2 class="section-title md-title light-text" translate="nui.suggestions.header"></h2><p class="section-description"><span translate="nui.suggestions.tooltip"></span></p></div></div><div class="recommendations-list"><div class="recommendations-item animate-opacity-and-scale" layout="row" ng-repeat="pnx in $ctrl.recommendations.docs | limitTo:$ctrl.quantity"><prm-recomendation-item [item]="::pnx" [index]="$index"></prm-recomendation-item></div></div><md-button class="button-link prm-alt-link" ng-if="$ctrl.more" ng-click="$ctrl.moreSuggestions()"><span translate="nui.suggestions.more"></span></md-button><prm-recomendations-after parent-ctrl="$ctrl"></prm-recomendations-after>');
$templateCache.put('components/search/fullView/ngrs/ngrs.html','<prm-alert-bar [alert-object]="$ctrl.signInLink" ng-if="!$ctrl.isPartialAlma() && !$ctrl.isSignedIn() && $ctrl.showSignInMsg()"></prm-alert-bar><div class="section-body" id="item-ngrs" ng-if="$ctrl.isAlmaRSServiceAvailable()"><md-content layout="column" ng-if="$ctrl.showSuceesBar()"><div ng-class="$ctrl.isRequestOK() ? \'success-bar\': \'error-bar\'" style="{{(!$ctrl._hasBothOffers && $ctrl.isRequestOK()) ? \'width: 50%\' : \'width: 100%\'}}" class="bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span role="alert" translate="{{$ctrl.getResponseMessage()}}"></span></div></md-content><div class="main-tile" ng-if="(!$ctrl.showDigitalForm() && !$ctrl.showPhysicalForm() && !$ctrl.showBlankForm()) || ($ctrl.showSuceesBar() && $ctrl.isRequestOK())"><div ng-if="!$ctrl._showPickupAnywhereForm" ng-class="$ctrl._hasBothOffers ? \'grid-for-two-offers\' : \'grid-for-one-offer\' "><div ng-class="$ctrl._hasBothOffers ? \'best-offer-tile-for-two-offers\' : \'best-offer-tile-for-one-offer\' " style="{{$ctrl.display()}}" ng-if="$ctrl.physicalTileVisible"><prm-service-physical-best-offer [showmoredeliveryoptions]="$ctrl._showMoreDeliveryOptions" [item]="::$ctrl.item" [isdigitaloffer]="::false" [display]="$ctrl._display" [openphysicalform]="$ctrl._openPhysicalForm" [opendigitalform]="$ctrl._openDigitalForm" [bestoffer]="$ctrl._bestOffer" [piclocs]="$ctrl._picLocs" [showmessagebar]="$ctrl._showMessageBar" [openblankform]="$ctrl._openBlankForm" [opennoofferform]="$ctrl._openBlankForm" [issubmitdigital]="$ctrl._isSubmitDigital" [pickupanywhereplaceholder]="$ctrl._pickupInformationPlaceholder" [cannotcalculateoffer]="$ctrl._cannotCalculateOffer" [tilesplaceholderactive]="$ctrl._physicalTilePlaceholderActive" (show-pickup-anywhere-form)="$ctrl.showPickupAnywhereForm()" [pickupinformationalreadyselected]="::$ctrl._pickupInformationSelected" [noofferfound]="$ctrl._noOfferFoundPhysicalTile" ng-if="$ctrl.isShowPhysicalBestOffer()" style="position: relative;"></prm-service-physical-best-offer></div><div class="or-separator" ng-if="$ctrl._hasBothOffers"><div class="or"><div class="word"><div translate="nui.ngrs.bestOffers.or"></div></div></div><div class="wrapper"><div class="line"></div></div></div><div ng-class="$ctrl._hasBothOffers ? \'best-offer-tile-for-two-offers\' : \'best-offer-tile-for-one-offer\' " style="{{$ctrl.display()}}" ng-if="$ctrl.digitalTileVisible"><prm-service-physical-best-offer [showmoredeliveryoptions]="$ctrl_showMoreDeliveryOptions" [item]="::$ctrl.item" [isdigitaloffer]="::true" [digitalbestoffer]="$ctrl._digitalBestOffer" [display]="$ctrl._display" [openphysicalform]="$ctrl._openPhysicalForm" [opendigitalform]="$ctrl._openDigitalForm" [bestoffer]="$ctrl._bestOffer" [openblankform]="$ctrl._openBlankForm" [issubmitdigital]="$ctrl._isSubmitDigital" [showmessagebar]="$ctrl._showMessageBar" [noofferfound]="$ctrl._noOfferFoundDigitalTile" ng-if="$ctrl.isShowDigitalBestOffer()" [tilesplaceholderactive]="$ctrl._digitalTilePlaceholderActive" style="position: relative;"></prm-service-physical-best-offer></div></div></div><div id="physicalGetItRequest" style="{{$ctrl.display()}}" ng-if="$ctrl.showPhysicalForm() && !$ctrl.showSuceesBar()"><prm-get-it-request [item]="::$ctrl.item" [isdigitaloffer]="::false" [display]="$ctrl._display" [showmessagebar]="$ctrl._showMessageBar" [bestoffer]="$ctrl._bestOffer" [digitalbestoffer]="$ctrl._digitalBestOffer" [piclocs]="$ctrl._picLocs" [opendigitalform]="$ctrl._openDigitalForm" [openphysicalform]="$ctrl._openPhysicalForm" [isblankform]="false" [openblankform]="$ctrl._openBlankForm" [enabled-form-codes]="$ctrl._listEnabledFormCodes"></prm-get-it-request></div><div id="digitalGetItRequest" style="{{$ctrl.display()}}" ng-if="$ctrl.showDigitalForm() && !$ctrl.showSuceesBar()"><prm-get-it-request [item]="::$ctrl.item" [isdigitaloffer]="::true" [display]="$ctrl._display" [showmessagebar]="$ctrl._showMessageBar" [bestoffer]="$ctrl._digitalBestOffer" [digitalbestoffer]="$ctrl._digitalBestOffer" [piclocs]="$ctrl._picLocs" [opendigitalform]="$ctrl._openDigitalForm" [openphysicalform]="$ctrl._openPhysicalForm" [isblankform]="false" [openblankform]="$ctrl._openBlankForm" [enabled-form-codes]="$ctrl._listEnabledFormCodes"></prm-get-it-request></div><div id="blankGetItRequest" style="{{$ctrl.display()}}" ng-if="$ctrl.showBlankForm() && !$ctrl.showSuceesBar()"><prm-get-it-request [item]="::$ctrl.item" [isdigitaloffer]="::$ctrl.isSubmitBlankDigitalForm()" [display]="$ctrl._display" [showmessagebar]="$ctrl._showMessageBar" [bestoffer]="$ctrl._bestOffer" [digitalbestoffer]="$ctrl._digitalBestOffer" [piclocs]="$ctrl._picLocs" [opendigitalform]="$ctrl._openDigitalForm" [openphysicalform]="$ctrl._openPhysicalForm" [isblankform]="true" [openblankform]="$ctrl._openBlankForm" [enabled-form-codes]="$ctrl._listEnabledFormCodes"></prm-get-it-request></div><div ng-if="$ctrl._showPickupAnywhereForm" style="{{$ctrl.display()}}"><pickup-anywhere-form [userpreferenceinstitutioncode]="$ctrl.pickupInformationInstCode" [userpreferencelibraryid]="$ctrl.pickupInformationLibraryId" [userpreferencechosenplaceradio]="$ctrl.chosenPlaceRadio" [pickupinformationdata]="$ctrl.pickupInformationData" (hide-pickup-anywhere-form)="$ctrl.setPickupInformationFromService()"></pickup-anywhere-form></div><div class="no-offer-found-content" ng-if="$ctrl.isShowMoreDeliveryOptions()"><prm-physical-delivery-options-table [offers]="::$ctrl.getOffers()" [showmoredeliveryoptions]="::$ctrl.getShowMoreDeliveryOptions()" [mmsid]="::$ctrl.getMmsId()" [openphysicalform]="$ctrl._openPhysicalForm" [bestoffer]="$ctrl._bestOffer"></prm-physical-delivery-options-table></div></div><div><div ng-if="!$ctrl.isAlmaRSServiceAvailable() && !$ctrl.showLoader()"><prm-rapido-no-offer-message></prm-rapido-no-offer-message></div><prm-spinner class="margin-left-medium inline-loader dark-on-light" layout="row" layout-align="space-between" ng-if="$ctrl.showLoader()"></prm-spinner></div><prm-service-ngrs-after parent-ctrl="$ctrl"></prm-service-ngrs-after>');
$templateCache.put('components/search/fullView/serviceHeader/service-header.html','<div layout="row" layout-align="center center"><h4 class="section-title md-title light-text" translate="{{$ctrl.title}}"></h4><md-divider flex></md-divider></div><prm-service-header-after parent-ctrl="$ctrl"></prm-service-header-after>');
$templateCache.put('components/search/fullView/syndeticUnbound/syndeticUnbound.html','<prm-syndetic-unbound-after parent-ctrl="$ctrl"></prm-syndetic-unbound-after>');
$templateCache.put('components/search/fullView/usageMetrics/usage-metrics.html','<div class="local-metrics"><div class="local-metric-item" ng-if="$ctrl.usageData.downloads > 0"><prm-icon class="local-metric-icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="download"></prm-icon><span class="local-metric-info"><span class="local-metric-count">{{$ctrl.usageData.downloads}}</span> <span translate="fulldisplay.constants.num_of_downloads"></span></span></div><div class="local-metric-item"><prm-icon class="local-metric-icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="views"></prm-icon><span class="local-metric-info"><span class="local-metric-count">{{ $ctrl.usageData.views}}</span> <span translate="fulldisplay.constants.num_of_abstract_views"></span></span></div></div><div class="altmetrics-wrapper" ng-if="$ctrl.assetDoi()"><div class="altmetric-embed" data-badge-type="donut" data-badge-details="right" data-doi="{{$ctrl.assetDoi()}}" data-link-target="_blank"></div></div><prm-usage-metrics-after parent-ctrl="$ctrl"></prm-usage-metrics-after>');
$templateCache.put('components/search/moreLikeThis/moreLikeThisItem/more-like-this-item.html','<md-card><md-tooltip class="multi-row-tooltip" md-visible="isVisible" md-direction="top" md-delay="$ctrl.tooltipDelay"><prm-more-like-this-item-info [more-in-the-same-course-item]="$ctrl.moreInTheSameCourseItem"></prm-more-like-this-item-info></md-tooltip><div class="card-image"><prm-search-result-thumbnail-container ng-if="$ctrl.renderFlag" class="md-card-image" [item]="$ctrl.moreInTheSameCourseItem" [links]="$ctrl.moreInTheSameCourseItem.delivery.link" [more-in-the-same-course-item]="moreInTheSameCourseItem"></prm-search-result-thumbnail-container></div><md-card-title><md-card-title-text><span dir="auto">{{$ctrl.moreOfTheSameItemTitle()}}</span> <span>{{$ctrl.moreOfTheSameItemVerTitle()}}</span></md-card-title-text></md-card-title></md-card><prm-more-like-this-item-after parent-ctrl="$ctrl"></prm-more-like-this-item-after>');
$templateCache.put('components/search/moreLikeThis/moreLikeThisItemInfo/more-like-this-item-info.html','<div layout="column"><h3 class="bold-text">{{$ctrl.courseItemTitle() + " " + $ctrl.courseItemVerTitle()}}</h3><p><span>{{$ctrl.courseItemCreator()}}</span></p></div><prm-more-like-this-item-info-after parent-ctrl="$ctrl"></prm-more-like-this-item-info-after>');
$templateCache.put('components/search/personalization/personalizationButton/personalize-results-button.html','<md-button ng-if="$ctrl.personalizationEnabled && !$ctrl.displayDialog()" class="button-as-link button-switch zero-margin" id="personalizationBtn" ng-click="$ctrl.doPersonalization()" ng-class="$ctrl.enable ? \'toggled\' : \'link-alt-color\'" aria-label="{{($ctrl.enable ? \'nui.pyr.aria.tooltip.active\' : \'nui.pyr.icon.aria.inactive\') | translate}}" hide-xs hide-sm><md-tooltip ng-if="!$ctrl.enable"><span translate="nui.pyr.icon.tooltip.inactive"></span></md-tooltip><md-tooltip ng-if="$ctrl.enable"><span translate="nui.pyr.icon.tooltip.active"></span></md-tooltip><md-switch ng-model="$ctrl.enable" tabindex="-1" md-no-ink class="tiny-switch zero-margin"><span class="bold-text" ng-if="!$ctrl.enable" translate="nui.pyr.icon.label.inactive"></span> <span class="bold-text" ng-if="$ctrl.enable" translate="nui.pyr.icon.label.active"></span></md-switch></md-button><md-button ng-click="$ctrl.doPersonalization()" class="button-link padding-zero facet-filter button-as-link-mobile link-alt-color" aria-label="{{::(\'nui.aria.personalize.results\' | translate)}}" ng-if="$ctrl.personalizationEnabled && !$ctrl.displayDialog()" ng-class="{\'personalization-mobile-btn\':$ctrl.enable}" id="mobilePersonalization" hide-gt-sm><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="personalize-results"></prm-icon></md-button><prm-personalize-results-button-after parent-ctrl="$ctrl"></prm-personalize-results-button-after>');
$templateCache.put('components/search/personalization/personalizationDialog/personalization-dialog.html','<div class="personalization-dialog" layout="column" ng-class="{\'is-active\': $ctrl.displayDialog()}" ng-keydown="$ctrl.keyDownSupport($event)" role="document"><div class="personalization-dialog-inner form-focus" layout="column"><div class="dialog-content" flex ng-class="{\'flex-basis-auto\': $ctrl.isIe}"><h2 translate="nui.pyr.popup.label" class="zero-margin-bottom"></h2><p translate="nui.pyr.popup.help"></p><div class="margin-top-medium"><form><div class="checkboxes-tree" layout="row" role="list"><div flex><div class="checkbox-tree-branch" ng-repeat="discipline in ::$ctrl.sortedDisc.slice(0, $ctrl.getSliceLen($ctrl.sortedDisc))" role="listitem"><md-checkbox ng-model="$ctrl.selectedDisc[discipline[0]]" ng-disabled="$ctrl.isDisabled(discipline)" ng-class="{\'is-disabled\' : $ctrl.isDisabled(discipline)}" md-no-ink="true"><b>{{discipline[1]}}</b></md-checkbox><div layout="column" class="checkbox-tree-branch" role="list"><md-checkbox ng-model="$ctrl.selectedDisc[sub[0]]" ng-repeat="sub in ::$ctrl.getsubDisciplines(discipline[0])" ng-disabled="$ctrl.isDisabledSub(sub)" ng-class="{\'is-disabled\' : $ctrl.isDisabledSub(sub)}" md-no-ink="true">{{sub[1]}}</md-checkbox></div></div></div><div flex><div class="checkbox-tree-branch" ng-repeat="discipline in ::$ctrl.sortedDisc.slice($ctrl.getSliceLen($ctrl.sortedDisc),$ctrl.sortedDisc.length)" role="listitem"><md-checkbox ng-model="$ctrl.selectedDisc[discipline[0]]" ng-disabled="$ctrl.isDisabled(discipline)" ng-class="{\'is-disabled\' : $ctrl.isDisabled(discipline)}" md-no-ink="true"><b>{{discipline[1]}}</b></md-checkbox><div layout="column" class="checkbox-tree-branch" role="list"><md-checkbox ng-model="$ctrl.selectedDisc[sub[0]]" ng-repeat="sub in ::$ctrl.getsubDisciplines(discipline[0])" ng-disabled="$ctrl.isDisabledSub(sub)" ng-class="{\'is-disabled\' : $ctrl.isDisabledSub(sub)}" md-no-ink="true">{{sub[1]}}</md-checkbox></div></div></div></div></form></div></div><div class="dialog-warning" layout="row" flex="noshrink" ng-if="$ctrl.countSelectedDisc() > 5"><prm-alert-bar flex [alert-object]="$ctrl.maxDisciplines" role="alert" aria-live="assertive"></prm-alert-bar></div><div class="dialog-actions" layout="row" flex="noshrink"><md-button class="button-with-icon button-notice" ng-click="$ctrl.resetPersonalization()" ng-if="$ctrl.isPreferredSaved()"><prm-icon icon-type="svg" svg-icon-set="navigation" icon-definition="ic_refresh_24px"></prm-icon><span translate="nui.pyr.popup.reset"></span></md-button><span flex></span><md-button translate="nui.pyr.popup.cancel" ng-click="$ctrl.cancel(e)"></md-button><md-button class="button-confirm" ng-click="$ctrl.personalize()" ng-disabled="$ctrl.countSelectedDisc() > 5"><span translate="nui.pyr.popup.submit.inactive" ng-if="!$ctrl.isPreferredSaved()"></span> <span translate="nui.pyr.popup.submit.active" ng-if="$ctrl.isPreferredSaved()"></span></md-button></div><div layout="row" layout-align="center center"><md-button (keydown)="$ctrl.keydownSupport($event)" class="accessible-close button-link" (click)="$ctrl.cancel(e)" aria-label="{{::(\'nui.aria.pyr.close.personalizationDialog\' | translate)}}" style="margin: 0 0 1em 0"><span translate="nui.pyr.popup.close"></span></md-button></div></div></div><prm-personalization-dialog-after parent-ctrl="$ctrl"></prm-personalization-dialog-after>');
$templateCache.put('components/search/savedQueries/addAlertToast/add-alert-toast.html','<md-toast ng-class="{\'mobile-define\':$ctrl.detectMobile(),\'layout-column\':$ctrl.detectMobile()}" class="md-toast-content" role="alert" aria-live="assertive"><div layout="row" layout-align="center center" class="md-toast-content" ng-class="{\'end-content\':!$ctrl.detectMobile()}"><span class="md-toast-text"><span ng-if="!$ctrl.addMode" translate="nui.favorites.search.alert.message"></span> <span ng-if="$ctrl.addMode" translate="nui.savesearch.message.description"></span> <strong ng-if="!$ctrl.addMode">{{$ctrl.email}}</strong></span></div><div layout="row" layout-align="start start" class="md-toast-content" ng-class="{\'start-content\':!$ctrl.detectMobile()}"><md-button ng-if="$ctrl.displayAlertForm()" ng-class="{\'mobile-size\':$ctrl.detectMobile()}" md-no-ink="true" class="md-higlight settings-button" aria-label="{{\'nui.aria.savedQueriesList.alert\' | translate}}" ng-click="$ctrl.openMoreInfo($event)" aria-label="Change email address"><div layout="row"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="alert" class="custom-button"></prm-icon><span ng-if="!$ctrl.addMode" style="text-transform: none">{{$ctrl.alertMessage}}</span> <span ng-if="$ctrl.addMode" style="text-transform: none;white-space: normal;" translate="nui.savesearch.message.set_alert"></span></div></md-button><md-button ng-click="$ctrl.onDismiss()" aria-label="{{::(\'nui.message.dismiss\' | translate)}} "><span class="ng-scope" translate="nui.message.dismiss"></span></md-button></div></md-toast><prm-add-alert-toast-after parent-ctrl="$ctrl"></prm-add-alert-toast-after>');
$templateCache.put('components/search/savedQueries/addQueryToSavedSearches/add-query-to-saved-searches.html','<md-button class="button-as-link link-alt-color" (click)="$ctrl.add()" aria-label="{{\'nui.aria.savequery\' | translate}}" aria-describedby="saveSearchTooltip" ng-class="{\'button-as-link-mobile\':$ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm}"><md-tooltip id="saveSearchTooltip"><span translate="nui.savesearch.tooltip"></span></md-tooltip><prm-icon class="pin-icon" [icon-type]="::$ctrl.actionsIcons.pin.type" [svg-icon-set]="::$ctrl.actionsIcons.pin.iconSet" [icon-definition]="::$ctrl.actionsIcons.pin.icon"></prm-icon><span class="bold-text" translate="results.savequery" hide-xs hide-sm></span></md-button><prm-add-query-to-saved-searches-after parent-ctrl="$ctrl"></prm-add-query-to-saved-searches-after>');
$templateCache.put('components/search/savedQueries/editNotificationSettings/edit-notification-settings.html','<form name="emailForm" novalidate (submit)="$ctrl.saveEmail()"><div class="md-dialog-content"><h2 class="h2-title" translate="nui.savesearch.alert.header"></h2><p ng-if="$ctrl.addMode===\'true\'"><span translate="nui.savesearch.alert.description"></span></p><p><span translate="nui.savesearch.alert.set_email"></span></p><div layout="column"><md-input-container class="underlined-input md-required"><label translate="nui.savesearch.alert.email"></label> <input id="input-mail-saved-searches" tabindex="0" ng-model="$ctrl.email" name="addresses" type="text" required ng-pattern="::$ctrl.emailRegEx" value="$ctrl.email"><div ng-messages="emailForm.addresses.$error" ng-show="emailForm.addresses.$touched"><div ng-message="pattern, required "><span translate="nui.email.invalidaddress"></span></div></div></md-input-container><md-input-container ng-if="!$ctrl.isSuprima" class="underlined-input"><label translate="nui.savesearch.alert.notificationName"></label> <input id="input-notification-name-saved-searches" tabindex="0" ng-model="$ctrl.notificationName" name="notificationName" type="text" value="$ctrl.notificationName"></md-input-container></div></div><md-dialog-actions layout="row"><span flex></span><md-button ng-click="$ctrl.close()"><span translate="nui.savesearch.alert.close"></span></md-button><md-button type="submit" class="button-confirm"><span translate="nui.savesearch.alert.save"></span></md-button></md-dialog-actions></form><prm-edit-notification-settings-after parent-ctrl="$ctrl"></prm-edit-notification-settings-after>');
$templateCache.put('components/search/searchBar/barcodeSearch/barcode-search.html','<form class="search-element layout-full-width" name="barcodeSearch" (submit)="$ctrl.barcodeSearch()"><div layout="row" layout-xs="column" layout-align="center center" class="layout-full-width"><div class="search-string padding-right-medium" flex><md-input-container class="underlined-input bold-text" flex md-no-float="" ng-class="{\'width-100\': $ctrl.mediaQueries.xs}"><input ng-model="$ctrl.barcode" placeholder="{{\'nui.search-barcode.searchTerm\' | translate}}" tabindex="0" aria-hidden="false" name="textField" data-qa="barcode_search_input" id="barcode_input_field"/><md-button tabindex="{{$ctrl.barcode.length ? 0 : -1 }}" class="md-icon-button clear-button" ng-click="$ctrl.onClearSearchInput()" ng-class="{\'is-visible\': $ctrl.barcode.length }" aria-label="{{\'nui.searchField.clear\' | translate}}" type="button"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></md-input-container></div><div layout="row"><md-button type="submit" class="button-confirm button-large button-with-icon" aria-label="{{\'nui.aria.search.barcodeSearch\' | translate}}" data-qa="barcode_search_btn"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="magnifying-glass"></prm-icon><span translate="nui.search-barcode.barcodeSearchButton"></span></md-button></div></div></form><prm-barcode-search-after parent-ctrl="$ctrl"></prm-barcode-search-after>');
$templateCache.put('components/search/searchBar/tabsAndScopesSelector/tabs-and-scopes-selector.html','<div layout="row"><md-divider ng-if="$ctrl.showTabsSelect()" class="skewed-divider"></md-divider><md-input-container layout="row" class="zero-margin" layout-align="start center" ng-if="$ctrl.showTabsSelect()"><md-select ng-model="$ctrl.tab" ng-change="$ctrl.onTabChange(); $ctrl.clearPcAvailability(); $ctrl.clearsearchInFulltext();" translate-attr="{\'aria-label\': \'nui.search.selectSearch\'}"><md-option ng-repeat="tab in $ctrl.tabOptions" value="{{tab}}"><span translate="{{\'tabbedmenu.\'+tab+\'.label\'}}" role="button"></span></md-option></md-select></md-input-container><md-divider ng-if="$ctrl.showScopesSelect()" class="skewed-divider"></md-divider><md-input-container layout="row" class="zero-margin" layout-align="start center" ng-if="$ctrl.showScopesSelect()"><span ng-if="$ctrl.isOpen && $ctrl.isRecentScopesEnabled" role="alert" class="accessible-only">{{\'nui.search.searchTabFilter\' | translate}} </span><label></label><md-select ng-model="$ctrl.scope" translate-attr="{\'aria-label\': \'nui.search.selectScope\'}" ng-change="$ctrl.scopeListener(); $ctrl.clearPcAvailability(); $ctrl.clearsearchInFulltext();" ng-click="$ctrl.scopesInstructions()" md-on-close="searchText = \'\'" md-on-open="$ctrl.onScopesSelectOpen()"><md-select-header class="underlined-input padding-left-medium-multi-language" ng-show="$ctrl.isRecentScopesEnabled" md-no-float flex><input aria-label="{{\'nui.searchLookup\' | translate}}" id="scopeFilter" class="align-center-row" type="search" ng-keydown="$event.stopPropagation()" placeholder="{{\'nui.searchLookup\' | translate}}" ng-model="searchText" autocomplete="off"/></md-select-header><md-menu-divider ng-if="::$ctrl.isRecentScopesEnabled" style="height: 1px"></md-menu-divider><div id="recent-scopes-select" ng-if="::$ctrl.isRecentScopesEnabled"><md-option ng-repeat="recentScope in $ctrl.recentScopeOptions | recentScopesFilter:$ctrl.scopesTranslated:searchText" class="md-option-with-icon" value="recentScope_{{recentScope}}"><span class="margin-right-small-multi-language" translate="{{\'scopes.option.\'+recentScope}}" translate-attr-title="{{\'scopes.option.\'+recentScope}}" role="button"></span><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="restore"></prm-icon></md-option></div><md-menu-divider ng-if="::$ctrl.isRecentScopesEnabled" style="height: 1px"></md-menu-divider><div id="scopes-select" ng-if="::$ctrl.isRecentScopesEnabled" ng-class="::{\'margin-left-right-medium\' : $ctrl.isBrowserEdge() || $ctrl.isBrowserIE()}"><md-option ng-repeat="scope in $ctrl.scopeOptions | recentScopesFilter:$ctrl.scopesTranslated:searchText:$ctrl.recentScopeOptions track by scope[\'scope-id\']" value="{{scope[\'scope-id\']}}"><span translate="{{\'scopes.option.\'+scope[\'scope-id\']}}" role="button"></span> <span ng-if="scope.accessibility" translate="{{\'option.accessibility.\'+scope.accessibility}}"></span></md-option></div><div ng-if="::!$ctrl.isRecentScopesEnabled"><md-option ng-repeat="scope in $ctrl.scopeOptions track by scope[\'scope-id\']" value="{{scope[\'scope-id\']}}"><span translate="{{\'scopes.option.\'+scope[\'scope-id\']}}" role="button"></span> <span ng-if="scope.accessibility" translate="{{\'option.accessibility.\'+scope.accessibility}}"></span></md-option></div></md-select></md-input-container></div><prm-tabs-and-scopes-selector-after parent-ctrl="$ctrl"></prm-tabs-and-scopes-selector-after>');
$templateCache.put('components/search/searchResult/errorMessage/search-error-message.html','<md-card layout="row"><div class="message-image"><span ng-if="$ctrl.showNoResultsIcon()"><prm-icon icon-type="{{$ctrl.errorMessageIcons.errorNoResults.type}}" svg-icon-set="{{$ctrl.errorMessageIcons.errorNoResults.iconSet}}" icon-definition="{{$ctrl.errorMessageIcons.errorNoResults.icon}}"></prm-icon></span><span ng-if="$ctrl.showAttentionIcon()"><prm-icon icon-type="{{$ctrl.errorMessageIcons.errorAttention.type}}" svg-icon-set="{{$ctrl.errorMessageIcons.errorAttention.iconSet}}" icon-definition="{{$ctrl.errorMessageIcons.errorAttention.icon}}" class="warning"></prm-icon></span></div><div><md-card-title><md-card-title-text style="padding: 0px"><h2 class="margin-bottom-zero" ng-bind-html="$ctrl.getErrorHeader()"></h2></md-card-title-text></md-card-title><md-card-content style="padding: 0px 20px"><p ng-bind-html="$ctrl.getErrorDescription()"></p><p class="message-suggestion">{{$ctrl.getErrorSuggestionHeader()}}</p><ul><li ng-repeat="suggestionDescription in $ctrl.getErrorSuggestionsDescription()"><span>{{suggestionDescription}}</span></li></ul></md-card-content></div></md-card><prm-search-error-message-after parent-ctrl="$ctrl"></prm-search-error-message-after>');
$templateCache.put('components/search/searchResult/explain/search-explain.html','<span ng-repeat="link in $ctrl.getLinks()">&nbsp;&nbsp;&bull;&nbsp;&nbsp; <a href="{{$ctrl.baseUrl}}{{link.url}}">{{link.name}}</a> </span><span ng-repeat="link in $ctrl.testBaseUrls">&nbsp;&nbsp;&bull;&nbsp;&nbsp; <a href="{{$ctrl.getTestUrl()}}{{link.url}}" target="_blank">{{link.name}}</a> </span><span ng-if="$ctrl.isStored()"><br><br>Stored Fields: <span ng-repeat="field in $ctrl.getFields()">&bull; <a href="{{$ctrl.baseUrl}}nodb,jaguar_internal_src_id;{{field}},100,;">{{field}}</a></span></span><br><br><span ng-if="$ctrl.isRecordExplain()"><div>Record: <b>{{$ctrl.header.record}}</b>&nbsp;&nbsp;&bull;&nbsp;&nbsp; Score: <b>{{$ctrl.header.score}}</b>&nbsp;&nbsp;&bull;&nbsp;&nbsp; Place: <b>{{$ctrl.header.place}}</b>&nbsp;&nbsp;&bull;&nbsp;&nbsp; Slice: <b>{{$ctrl.header.index}}</b>&nbsp;&nbsp;&bull;&nbsp;&nbsp; ID: <b>{{$ctrl.header.id}}</b></div><br><table cellspacing="2" border="1" cellpadding="10"><tr><th><b>Query Type</b></th><th><b>Total Weight</b></th><th><b>Search Term</b></th><th><b>Found in Field</b></th><th><b>Query Weight</b></th><th><b>Field Weight</b></th><th><b>Field Boost</b></th><th><b>IDF</b></th><th><b>TF</b></th></tr><tr ng-repeat="entry in $ctrl.getEntries() track by $index"><td>{{ entry.qType }}</td><td>{{ entry.weight }}</td><td>{{ entry.term }}</td><td>{{ entry.field }}</td><td>{{ entry.queryWeight }}</td><td>{{ entry.fieldWeight }}</td><td>{{ entry.boost }}</td><td>{{ entry.docFreq }} / {{ entry.maxDocs }}</td><td>{{ entry.tf }}</td></tr></table></span><span ng-if="$ctrl.isParams()"><li ng-repeat="line in $ctrl.getLines()"><span ng-bind-html="line">{{line}}</span></li></span><span ng-if="!$ctrl.isRecordExplain() && !$ctrl.isRecordIds() &&!$ctrl.isParams()"><ul><li ng-repeat="line in $ctrl.getLines() track by $index"><span ng-bind-html="line" ng-if="::$ctrl.isSuprima" style="word-wrap: break-word">{{line}}</span> <span ng-if="::!$ctrl.isSuprima">{{line}}</span></li></ul></span><div ng-if="$ctrl.isRecordIds()" class="relative-position"><div class="switch-results search-explain-switch"><md-switch ng-model="$ctrl.otbRanking" ng-class="$ctrl.otbRanking ? \'active\' : \'inactive\'" ng-change="$ctrl.changeRanking()" md-no-ink class="tiny-switch zero-margin" layout-align="end end" data-qa="otb_ranking_toggle"><span class="slider-text-wrap" translate="OTB ranking"></span><md-tooltip ng-if="!$ctrl.otbRanking"><span translate="ng.general.inactive"></span></md-tooltip><md-tooltip ng-if="$ctrl.otbRanking"><span translate="ng.general.active"></span></md-tooltip></md-switch></div><div>Explain:<ul><li ng-repeat="line in $ctrl.getRecords() track by $index"><a href="{{$ctrl.baseUrl}}{{line}}">{{line}}</a></li></ul>{{$ctrl.hits}}</div></div><prm-search-explain-after parent-ctrl="$ctrl"></prm-search-explain-after>');
$templateCache.put('components/search/searchResult/featuredResults/featured-result-item.html','<md-card ng-class="{ \'is-article\' : $ctrl.formatType == \'article\',  \'is-book\' : $ctrl.formatType === \'book\',\r\n                       \'is-image\': $ctrl.formatType == \'image\'}" tabindex="-1"><md-button ng-href="{{::$ctrl.fullDisplayParam()}}" ng-click="$ctrl.sendFeaturedResultsItemBeacon($ctrl.recordId)" tabindex="0" ng-focus="itemTooltipVisible" ng-style="{\'background-color\': \'hsl({{$ctrl.index*40}}, 30%, 70%)\'}" style="min-height: 5px"><md-tooltip class="content-tooltip bright-tooltip" md-visible="itemTooltipVisible" md-delay="400" md-direction="bottom" md-autohide="true"><div layout="column"><h3 class="prm-citation-title md-subhead bold-text">{{$ctrl.title}}</h3><p><span>{{$ctrl.displayLines}}</span></p></div></md-tooltip><div class="card-image" ng-if="$ctrl.formatType ===\'book\'"><prm-search-result-thumbnail-container class="md-card-image" [is-virtual-browse]="true" [is-featured-result]="true" [links]="$ctrl.getImage()" [pnx-id]="$ctrl.recordId"></prm-search-result-thumbnail-container></div><md-card-title ng-if="$ctrl.formatType != \'image\'" id="featuredResultTitle" ng-class="{\'book-height\':$ctrl.formatType == \'book\'}"><md-card-title-text ng-class="{\'has-ellipsis\': $ctrl.showEllipsis}">{{$ctrl.title}}</md-card-title-text></md-card-title><md-card-content ng-if="$ctrl.formatType == \'image\'" style="padding: 0px!important;min-height: 50px"><figure><div layout="column"><prm-search-result-thumbnail-container alt="Washed Out" class="md-card-image" [is-virtual-browse]="true" [is-featured-result]="true" [links]="$ctrl.getImage()" [pnx-id]="$ctrl.recordId"></prm-search-result-thumbnail-container></div></figure></md-card-content></md-button></md-card><prm-featured-result-item-after parent-ctrl="$ctrl"></prm-featured-result-item-after>');
$templateCache.put('components/search/searchResult/featuredResults/featured-results.html','<div class="margin-top-medium" layout="row"><div class="margin-right-medium" flex="15"><h3 ng-if="!$ctrl.isSuprima || !$ctrl.title" class="normal-text">{{\'search-advanced.mediaType.option.\' + $ctrl.type| translate}} {{\'featuredresults.labels.in\'| translate}} {{\'scopes.option.\' + $ctrl.scope| translate}} {{\'featuredresults.labels.matching\'| translate}}</h3><h3 ng-if="$ctrl.isSuprima && $ctrl.title" class="normal-text">{{$ctrl.title | translate}}</h3><md-button ng-if="$ctrl.totalHits?($ctrl.totalHits>$ctrl.featuredResultItems.length):($ctrl.leftArrowShowing || $ctrl.isShowRightArrow)" ng-href="{{::$ctrl.searchLink()}}" ng-click="$ctrl.sendDisplayAllResultsBeacon()" class="featured-results-link button-as-link zero-margin" href><span class="bold-text">{{\'featuredresults.labels.displayall\'| translate}}</span></md-button></div><div class="prm-horizontal-content no-scrollbar" layout="row" flex aria-label="" ng-keyup="$ctrl.handleKeyUp($event)"><div flex class="horizontal-content-container"><md-button class="horizontal-content-control left-button" tabindex="0" ng-click="$ctrl.scrollContent(\'left\')" translate-attr="::{\'aria-label\': \'nui.aria.featuredresults.labels.previous\'}" ng-if="$ctrl.leftArrowShowing"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon><md-tooltip><span translate="featuredresults.labels.previous"></span></md-tooltip></md-button><div class="horizontal-content-scroller" role="list" layout="row" ng-class="{\'left-button-visible\': $ctrl.leftArrowShowing, \'right-button-visible\': $ctrl.isShowRightArrow,\'safari-hide\': $ctrl.isSafari}"><div class="horizontal-content-scroll-offseter" layout="row"><prm-featured-result-item [featured-result-item]="item" [index]="$index" [tab]="$ctrl.tab" [format]="$ctrl.format" [scope]="$ctrl.scope" [adaptor]="$ctrl.adaptor" ng-repeat="item in $ctrl.featuredResultItems"></prm-featured-result-item></div></div><md-button class="horizontal-content-control right-button" tabindex="0" ng-click="$ctrl.scrollContent(\'right\')" translate-attr="::{\'aria-label\': \'nui.aria.featuredresults.labels.next\'}" ng-if="$ctrl.isShowRightArrow"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon><md-tooltip><span translate="featuredresults.labels.next"></span></md-tooltip></md-button></div></div></div><prm-featured-results-after parent-ctrl="$ctrl"></prm-featured-results-after>');
$templateCache.put('components/search/searchResult/savedQueriesList/saved-queries-list.html','<div class="content-tab saved-query-list" ng-init="selectedCounter=0;"><h2 class="accessible-only"><span>{{$ctrl.getSavedQueriesHeader()}}</span></h2><md-list aria-label="{{\'nui.aria.savedQueriesList.list\' | translate}}"><md-subheader><div layout="row" sticky sticky-class="is-stuck" offset="56" ng-if="$ctrl.isItemsExist()"><md-checkbox aria-label="Select All" ng-checked="$ctrl.isAllChecked()" md-indeterminate="$ctrl.getCheckedItems().length > 0  && $ctrl.getCheckedItems().length < $ctrl.itemlist.length" ng-click="$ctrl.selectAllToggle()" md-no-ink="true"></md-checkbox><span>{{$ctrl.getSavedQueriesHeader()}}</span></div><div layout="row" ng-if="!$ctrl.isItemsExist()"><span>{{$ctrl.getSavedQueriesHeader()}}</span></div></md-subheader><md-list-item tabindex="0" class="md-2-line saved-query-list-2-line" md-no-ink="true" aria-label="{{\'nui.aria.savedQueriesList.item\' | translate}}" ng-repeat="item in $ctrl.itemlist track by $index" layout="row"><div class="has-checkbox" flex="5"><span class="list-item-count">{{$index+1}}</span><md-checkbox flex="5" aria-live="assertive" md-no-ink="true" aria-label="{{$ctrl.decodeString(item.query.split(\',\')[2])}} {{\'nui.aria.brief.select\' | translate}} {{$index+1}}" ng-model="item.checked"></md-checkbox></div><div id="{{item.ID}}" class="md-list-item-text" layout="column" flex="80" layout-align="start start" layout-fill><a ng-href="{{$ctrl.isSearchHistory ? item.deepLink + \'&came_from=search_history\' : item.deepLink + \'&came_from=saved_queries\'}}" target="_self" class="bold-text"><h3 class="item-title"><div ng-if="item.mode === \'simple\'"><span ng-if="!(item.query.split(\',\')[0]===\'any\' && item.query.split(\',\')[1]===\'contains\')" class="ng-binding"><span>{{$ctrl.getTranslatedLabel(\'scope\', item.query.split(\',\')[0])}} </span><span><span>{{$ctrl.getTranslatedLabel(\'precisionOperator\', item.query.split(\',\')[1])}} </span></span></span><span>{{$ctrl.decodeString(item.query.split(\',\')[2])}}</span></div><span ng-init="prevBoolOper=\'AND\'"></span><div ng-if="item.mode === \'advanced\'" ng-repeat="q in item.query.split(\';\') track by $index" class="string-block animate-scale middle" ng-class="{\'clear-row\': prevBoolOper === \'OR\'}" ng-init="prevBoolOper = item.query.split(\';\')[$index-1].split(\',\')[3];multipleQueryItems=item.query.split(\';\').length>1"><prm-icon ng-if="$index===0 || prevBoolOper === \'OR\'" icon-type="svg" svg-icon-set="primo-ui" icon-definition="keyboard-return" class="prm-positive h-flipped"></prm-icon><span ng-if="$index!==0 && prevBoolOper !== \'OR\'">&nbsp;</span><span ng-if="$index!==0" class="ng-binding"><span>{{$ctrl.getTranslatedLabel(\'boolOperator\', prevBoolOper)}} </span></span><span class="ng-binding"><span ng-if="multipleQueryItems || !(item.query.split(\',\')[0]===\'any\' && item.query.split(\',\')[1]===\'contains\')" class="ng-binding"><span>{{$ctrl.getTranslatedLabel(\'scope\', q.split(\',\')[0])}} </span><span>{{$ctrl.getTranslatedLabel(\'precisionOperator\', q.split(\',\')[1])}} </span></span>{{$ctrl.decodeString(q.split(\',\')[2])}}</span></div></h3></a><p class="text-headings"><strong><span translate="nui.favorites.search.scope"></span></strong> <span translate="{{\'tabbedmenu.\'+ item.tab +\'.label\'}}"></span> <i>/</i> <span translate="scopes.option.{{item.scope}}"></span></p><p class="saved-query-filters weak-text text-ellipsis"><prm-saved-query-filter [item]="item"></prm-saved-query-filter><md-tooltip><prm-saved-query-filter [item]="item"></prm-saved-query-filter></md-tooltip></p><p class="text-headings">{{$ctrl.convertDate(item.creationDate)}}</p><p class="text-headings" ng-if="!$ctrl.isSearchHistory && item.alert && item.notificationName"><strong><span translate="nui.favorites.search.alert.NotificationName"></span></strong> <span>{{item.notificationName}}</span></p><div class="md-secondary item-actions saved-query-actions result-item-actions" layout-xs="column" layout-sm="column" layout-gt-sm="row" layout-align="center center"><md-button ng-if="!$ctrl.isSearchHistory" class="md-icon-button" aria-label="{{\'nui.favorites.search.rss.tooltip\' | translate}}" ng-click="$ctrl.createRSS(item)"><prm-icon ng-if="!item.rsscreated" icon-type="svg" svg-icon-set="primo-ui" icon-definition="rss" class="custom-button"></prm-icon><prm-icon ng-if="item.rsscreated" icon-type="svg" svg-icon-set="primo-ui" icon-definition="rss" class="custom-button"></prm-icon><md-tooltip><span translate="nui.favorites.search.rss.tooltip"></span></md-tooltip></md-button><md-button ng-if="!$ctrl.isSearchHistory && $ctrl.isDisplayAlert(item)" class="md-icon-button" aria-label="{{!item.alert ? (\'nui.aria.savedQueriesList.alert\' | translate) : (\'nui.aria.savedQueriesList.unset.alert\' | translate)}}" ng-click="$ctrl.updateAlert(item,item.email)"><prm-icon ng-if="!item.alert" icon-type="svg" svg-icon-set="primo-ui" icon-definition="alert" class="custom-button"></prm-icon><md-tooltip ng-if="!item.alert"><span translate="nui.favorites.search.alert.single.tooltip"></span></md-tooltip><prm-icon ng-if="item.alert" icon-type="svg" svg-icon-set="primo-ui" icon-definition="alerted" class="custom-button"></prm-icon><md-tooltip ng-if="item.alert"><span translate="nui.favorites.search.unset.alert.single.tooltip"></span></md-tooltip></md-button><md-button ng-if="!$ctrl.isSearchHistory" class="md-icon-button" aria-label="{{\'nui.aria.savedQueriesList.remove\' | translate}}" ng-click="$ctrl.removeSearch(item.ID)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_unpin" class="custom-button"></prm-icon><md-tooltip><span translate="nui.favorites.search.unpin.single.tooltip"></span></md-tooltip></md-button><md-button ng-if="$ctrl.isLoggedIn() && $ctrl.isSearchHistory  && !$ctrl.isSearchHistoryItemInSavedSearches(item)" class="md-icon-button" aria-label="{{\'nui.favorites.search.save.single.tooltip\' | translate}}" ng-click="$ctrl.saveSearchHistoryItemToSavedSearches(item.ID)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_pin" class="custom-button"></prm-icon><md-tooltip><span translate="nui.favorites.search.save.single.tooltip"></span></md-tooltip></md-button><md-button ng-if="$ctrl.isSearchHistory" class="md-icon-button" aria-label="{{\'nui.favorites.search.remove.single.tooltip\' | translate}}" ng-click="$ctrl.removeSearchHistoryItem(item.ID)"><prm-icon icon-type="svg" svg-icon-set="action" icon-definition="ic_delete_24px" class="custom-button"></prm-icon><md-tooltip><span translate="nui.favorites.search.remove.single.tooltip"></span></md-tooltip></md-button></div></div><div flex="20" flex-xs="0" flex-md="0" flex-lg="20" flex-xl="20" ng-class="{\'flex-lgPlus-15\': $ctrl.mediaQueries.lgPlus}"></div></md-list-item></md-list><form method="post" id="RRSFORM" name="RssForm" action="/" target="rssWindow"><input type="hidden" name="ver" value="2_1_4"> <input type="hidden" name="gatherpagestat" value="true"> <input type="hidden" name="subscribeRSS" value="A=Primo_Local&amp;I=VOLCANO&amp;S=F4CE012EC5946271B54EED773A411568&amp;G=&amp;IP=10.1.234.133&amp;SRVR=il-primoqa02.corp.exlibrisgroup.com&amp;P=rssSubscription&amp;OP=click&amp;TYP=Page_View_4.9.9.0&amp;O=%26%26rank%26%26VOLCANO%26VOLCANO%26%26&amp;O1=&amp;O2=primo_alma&amp;O3=&amp;O4=&amp;O5=972EXL.PCO.PSTG&amp;O6=&amp;O7=0&amp;O8=war&amp;O9=Auto1&amp;O10=&amp;O11=&amp;O12=0&amp;O13=&amp;O14=&amp;O15=&amp;O16=&amp;O17=default_tab&amp;O18=&amp;O19=&amp;O20=&amp;O23=Primo&amp;"> <input type="hidden" name="boombaseurl" value="https://beacon01.alma.exlibrisgroup.com/boom/apache_pb.gif"></form><div layout="row" layout-align="center center" class="padding-top-large"><md-button (click)="$ctrl.nextResults()" ng-if="$ctrl.hasNextResults()" translate="nui.brief.results.loadMore" class="button-confirm button-large"></md-button></div></div><prm-saved-queries-list-after parent-ctrl="$ctrl"></prm-saved-queries-list-after>');
$templateCache.put('components/search/searchResult/searchResultAddToFavoritesMenu/search-result-add-to-favorites-menu.html','<md-menu><md-button id="addFavAndLabeluser" ng-click="$ctrl.openMenu($mdOpenMenu, $event)" aria-label="{{$ctrl.isChosenFavAndLabels() | translate}}" class="md-icon-button pin-button" ng-disabled="$ctrl.disable"><md-tooltip md-delay="400"><span translate="nui.favorites.pin.tooltip"></span></md-tooltip><prm-icon class="h-flipped-25-icon" ng-class="{\'disabledFavTool\':$ctrl.disable || $ctrl.searchInProgress}" icon-type="{{::$ctrl.favoritesIcons.pin.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.pin.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.pin.icon}}"></prm-icon></md-button><md-menu-content width="4" layout="column" class="menu-with-footer" id="menuContent"><md-menu-item><md-button id="addToFavUser" md-autofocus ng-click="$ctrl.pinToFavoritesFromMenu()" (keydown)="$ctrl.keydownSupport($event)" aria-label="{{::(\'nui.brief.bulk.addToFavorites\' | translate)}}" style="margin: 0 0 1em 0"><prm-icon class="pin-icon" style="color: #45aab4" [icon-type]="::$ctrl.actionsIcons.pin.type" [svg-icon-set]="::$ctrl.actionsIcons.pin.iconSet" [icon-definition]="::$ctrl.actionsIcons.pin.icon"></prm-icon><span class="tiny-uppercase-text" translate="nui.brief.bulk.addToFavorites"></span></md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><span class="tiny-uppercase-text" translate="nui.brief.bulk.addToFavoritesUsingLabels"></span></md-menu-item><md-menu-item ng-repeat="label in $ctrl.returnAssignedLabels() track by $index" class="icon-on-right" ng-class="{\'category-first-item\': $first}"><div class="menu-title" ng-if="$first"><span translate="nui.favorites.labels.assigned"></span></div><md-button md-autofocus ng-click="$ctrl.removeLabel(label)" (keydown)="$ctrl.keydownSupport($event)" aria-label="{{\'nui.aria.account.favorites.removelabel\' | translate}}" layout="row" layout-align="space-around center" layout-fill><span layout="row" layout-align="space-around center" layout-fill><span flex="90" class="flex-trim">{{label}}</span><prm-icon flex="10" class="prm-primary" icon-type="{{$ctrl.favoritesIcons.removeLabel.type}}" svg-icon-set="{{$ctrl.favoritesIcons.removeLabel.iconSet}}" icon-definition="{{$ctrl.favoritesIcons.removeLabel.icon}}"></prm-icon></span></md-button></md-menu-item><md-menu-divider ng-if="$ctrl.returnOtherLabels().length && $ctrl.returnAssignedLabels().length"></md-menu-divider><md-menu-item ng-repeat="otherLabel in $ctrl.returnOtherLabels() track by $index" class="icon-on-right" ng-class="{\'category-first-item\': $first}"><div class="menu-title" ng-if="$first"><span translate="nui.favorites.labels.other"></span></div><md-button ng-click="$ctrl.pinToFavoritesFromMenu(); $ctrl.addLabelAfterPinned(otherLabel)" md-autofocus id="availableLabels" (keydown)="$ctrl.keydownSupport($event)" aria-label="{{\'nui.aria.account.favorites.addlabel\' | translate}}" layout="row" layout-align="space-around center" layout-fill><span layout="row" layout-align="space-around center" layout-fill><span flex="90" class="flex-trim">{{otherLabel}}</span><prm-icon flex="10" class="prm-primary" icon-type="{{$ctrl.favoritesIcons.addLabel.type}}" svg-icon-set="{{$ctrl.favoritesIcons.addLabel.iconSet}}" icon-definition="{{$ctrl.favoritesIcons.addLabel.icon}}"></prm-icon></span></md-button></md-menu-item><div class="menu-footer"><md-menu-divider ng-if="$ctrl.returnOtherLabels().length || $ctrl.returnAssignedLabels().length" class="zero-margin-top"></md-menu-divider><form ng-submit="$ctrl.pinToFavoritesFromMenu(); $ctrl.addLabelAfterPinned()" class=""><div layout="row" layout-fill layout-align="center center"><prm-icon style="color: #45aab4" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pencil"></prm-icon><md-input-container flex="80"><label translate="nui.favorites.labels.new"></label> <input ng-model="$ctrl.newLabel" id="labelInput" type="text" autocomplete="off" (keydown)="$ctrl.keydownSupport($event)"></md-input-container></div></form></div></md-menu-content></md-menu><prm-search-result-add-to-favorites-menu-after parent-ctrl="$ctrl"></prm-search-result-add-to-favorites-menu-after>');
$templateCache.put('components/search/searchResult/searchResultAvailability/searchResultAvailabilityLine.html','<div ng-repeat="availability in $ctrl.displayedAvailability track by $index" ng-if="$ctrl.ifShowAvailability(availability)" layout="row" layout-align="start start"><div layout="flex" ng-if="::!$ctrl.isCollectionDiscoveryCollection" ng-if="$ctrl.showTimer"><prm-icon ng-if="::$ctrl.isOnline($index,availability) && !$ctrl.isGlobalRapidoRecord(availability)" availability-type icon-type="{{::$ctrl.availabilityLineIcons.onlineMaterial.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.onlineMaterial.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.onlineMaterial.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon><prm-icon ng-if="::$ctrl.isPhysical($index,availability) && !$ctrl.isGlobalRapidoRecord(availability)" availability-type icon-type="{{::$ctrl.availabilityLineIcons.physicalMaterial.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.physicalMaterial.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.physicalMaterial.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon><prm-icon ng-if="::$ctrl.isGlobalRapidoRecord(availability)" availability-type icon-type="svg" svg-icon-set="primo-ui" icon-definition="rapido-search-globe" [display-mode]="::$ctrl.displayMode"></prm-icon><md-button prm-brief-internal-button-marker ng-if="::!$ctrl.isEmailMode()" role="{{$ctrl.isDirectLink($index) ? \'link\' : \'button\'}}" ng-click="$ctrl.handleAvailability($index, $event);$event.preventDefault();" class="neutralized-button arrow-link-button" aria-labelledby="{{::$ctrl.result.pnx.control.recordid.toString()}}titleForAccessibilityAvailabilityLine{{$index}} {{::$ctrl.result.pnx.control.recordid.toString()}}availabilityLine{{$index}}"><span class="accessible-only" id="{{::$ctrl.result.pnx.control.recordid.toString()}}titleForAccessibilityAvailabilityLine{{$index}}">{{::$ctrl.getTitle($ctrl.result)}}</span> <span class="button-content" id="{{::$ctrl.result.pnx.control.recordid.toString()}}availabilityLine{{$index}}"><span class="availability-status {{availability}} {{::$ctrl.broadenAvailabilityStatusClass(availability)}}" ng-style="::$ctrl.getNgrsStyle()" ng-class="::{\'text-rtl\': $ctrl.switchToLtrString()}" translate="delivery.code.{{$ctrl.handleDueDate(availability)}}" translate-values="::$ctrl.getPlaceHolders($ctrl.result)" translate-compile></span><span ng-if="($ctrl.showDisplayOtherLocations() || $ctrl.showDisplayLocation()  || $ctrl.showOtherLibraries(availability)) && $ctrl.isPhysical($index)" ng-bind-html="&nbsp;"></span> <span ng-if="($ctrl.showDisplayOtherLocations() || $ctrl.showDisplayLocation()) && $ctrl.isPhysical($index)  && !$ctrl.showOtherLibraries(availability)" translate="delivery.and.other.locations"></span> <span ng-if="$ctrl.showOtherLibraries(availability)" translate="delivery.code.ngrs.other_libraries"></span> <span class="availability-status {{availability}} {{::$ctrl.broadenAvailabilityStatusClass(availability)}}" ng-if="::$ctrl.showCoverage(availability)">{{$ctrl.getCoverage()}}</span><prm-icon ng-if="::$ctrl.isDirectLink($index)" external-link icon-type="{{::$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.externalLink.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></span><prm-spinner class="inline-loader display-inline dark-on-light half-transparent" ng-if="$ctrl.result.rtaInProgress"></prm-spinner><prm-icon link-arrow icon-type="{{::$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.arrowRight.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></md-button><span class="button-content" ng-if="::$ctrl.isEmailMode()"><span class="availability-status {{::availability}}" ng-style="::$ctrl.getNgrsStyle()" ng-class="::{\'text-rtl\': $ctrl.switchToLtrString()}" translate="delivery.code.{{::$ctrl.handleDueDate(availability)}}" translate-values="$ctrl.getPlaceHolders($ctrl.result)" translate-compile></span><span ng-if="($ctrl.showDisplayOtherLocations() || $ctrl.showDisplayLocation() || $ctrl.showOtherLibraries(availability)) && $ctrl.isPhysical($index)" ng-bind-html="&nbsp;"></span> <span ng-if="($ctrl.showDisplayOtherLocations() || $ctrl.showDisplayLocation()) && $ctrl.isPhysical($index) && !$ctrl.showOtherLibraries(availability)" translate="delivery.and.other.locations"></span> <span ng-if="$ctrl.showOtherLibraries(availability)" translate="delivery.code.ngrs.other_libraries"></span></span></div></div><div ng-if="::($ctrl.isCollectionDiscoveryCollection && !$ctrl.isEmailMode())" layout="row" layout-align="start start"><prm-icon availability-type icon-type="{{::$ctrl.availabilityLineIcons.physicalMaterial.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.physicalMaterial.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.physicalMaterial.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon><md-button prm-brief-internal-button-marker ng-click="$ctrl.sendCollectionDiscoveryBeacon()" class="neutralized-button arrow-link-button" translate translate-attr-title="{{\'delivery.code.collection\'}}" ui-state="$ctrl.COLLECTION_DISCOVERY_STATE" ui-state-params="$ctrl.collectionStateParams" ui-sref-opts="{reload: true, inherit:false}" href=""><span class="button-content"><span translate="delivery.code.collection" translate-compile></span><prm-icon ng-if="::$ctrl.isDirectLink($index)" external-link icon-type="{{::$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.externalLink.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></span><prm-icon link-arrow icon-type="{{::$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.arrowRight.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></md-button></div><prm-search-result-availability-line-after parent-ctrl="$ctrl"></prm-search-result-availability-line-after>');
$templateCache.put('components/search/searchResult/searchResultFrbr/searchResultFrbrLine.html','<span ng-if="::($ctrl.isPc())"><md-divider></md-divider><span translate="nui.pcgroup.display"></span>. <a href="javascript:void(0)" (click)="$ctrl.getFrbrRecords(); $event.stopPropagation();" translate-attr="{\'aria-label\':\'nui.aria.frbLine.seeAll\' }" translate-values="{\'title\':  \'{{$ctrl.escapeString($ctrl.getTitle($ctrl.result))}}\' }"><span translate="nui.pcgroup.link"></span></a></span><md-button prm-brief-internal-button-marker class="neutralized-button arrow-link-button" aria-label="{{(\'nui.frbrversion.found\' | translate: $ctrl.getPlaceHolders()) }}{{\'. \'}}{{(\'nui.frbrversion.found.link\' | translate)}}" ng-if="::(!$ctrl.isPc())" (click)="$ctrl.getFrbrRecords(); $event.stopPropagation(); $event.preventDefault(); $ctrl.handleYourSelectedRecordItem()"><span class="button-content"><prm-icon icon-type="{{::$ctrl.searchResultsIcons.frbrMultipleIcon.type}}" svg-icon-set="{{::$ctrl.searchResultsIcons.frbrMultipleIcon.iconSet}}" icon-definition="{{::$ctrl.searchResultsIcons.frbrMultipleIcon.icon}}"></prm-icon><span class="prm-notice"><span translate="nui.frbrversion.found" translate-values="$ctrl.getPlaceHolders()"></span>. </span><span translate="nui.frbrversion.found.link"></span></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button><prm-search-result-frbr-line-after parent-ctrl="$ctrl"></prm-search-result-frbr-line-after>');
$templateCache.put('components/search/searchResult/searchResultJournalIndication/searchResultJournalIndicationLine.html','<div ng-style="($ctrl.isEmail() && {\'display\' : \'flex\',\'padding-bottom\': \'2em\', \'height\' : \'18px\'})" ng-if="::($ctrl.isCdiAttributesDocument || $ctrl.isPeerreviewed() || $ctrl.isOpenaccess() || $ctrl.isCourseDocument())" class="badges" layout="column" layout-align="start start"><div layout="row"><div ng-if="::(!$ctrl.isMobile() && $ctrl.isCdiAttributesEnabledInBO && $ctrl.isCdiWarningAttributesDocument)" ng-repeat="attribute in ::$ctrl.warningCdiAttributesItem" ng-style="($ctrl.isEmail() && {\'display\' : \'flex\', \'height\' : \'15px\',\'padding-right\' : \'2em\', \'width\' : \'90px\'})" layout="row" class="badge-item prm-cdi-attributes-warning"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip><span ng-style="($ctrl.isEmail() &&{\'text-transform\' : \'uppercase\', \r\n\t\t\t\'font-weight\' : \'600\', \r\n\t\t\t\'font-size\' : \'12px\', \r\n\t\t\t\'letter-spacing\' : \'0.03em\',\r\n\t\t\t\'font-family\' : \'Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif\'})" class="badge-label badge-border badge-border-warning" translate="attribute.{{attribute}}"></span></div><div ng-style="($ctrl.isEmail() && {\'display\' : \'flex\', \'height\' : \'15px\',\'padding-right\' : \'2em\', \'width\' : \'90px\'})" ng-if="::$ctrl.isPeerreviewed()" layout="row" class="badge-item prm-peer-reviewed"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="nui.results.journalsearch.peer_reviewed.tooltip"></span></md-tooltip><prm-icon class="badge-icon" icon-type="{{::$ctrl.journalLineIcons.peerreviewed}}" svg-icon-set="{{::$ctrl.journalLineIcons.peerreviewed.iconSet}}" icon-definition="{{::$ctrl.journalLineIcons.peerreviewed.icon}}"></prm-icon><span ng-style="($ctrl.isEmail() &&{\'text-transform\' : \'uppercase\', \r\n\t\t\t\t\'font-weight\' : \'600\', \r\n\t\t\t\t\'font-size\' : \'12px\', \r\n\t\t\t\t\'letter-spacing\' : \'0.03em\',\r\n\t\t\t\t\'font-family\' : \'Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif\'})" class="badge-label" translate="nui.results.journalsearch.peer_reviewed"></span></div><div ng-style="($ctrl.isEmail() && {\'display\' : \'flex\', \'height\' : \'15px\', \'padding-right\' : \'2em\', \'width\' : \'90px\'})" ng-if="::$ctrl.isOpenaccess()" layout="row" class="badge-item prm-open-access"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="nui.results.journalsearch.open_access.tooltip"></span></md-tooltip><prm-icon class="badge-icon" icon-type="{{::$ctrl.journalLineIcons.openaccess}}" svg-icon-set="{{::$ctrl.journalLineIcons.openaccess.iconSet}}" icon-definition="{{::$ctrl.journalLineIcons.openaccess.icon}}"></prm-icon><span ng-style="($ctrl.isEmail() && {\'text-transform\' : \'uppercase\', \r\n\t\t\t\t\'font-weight\' : \'600\', \r\n\t\t\t\t\'font-size\' : \'12px\', \r\n\t\t\t\t\'letter-spacing\' : \'0.03em\',\r\n\t\t\t\t\'font-family\' : \'Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif\'})" class="badge-label" translate="nui.results.journalsearch.open_access"></span></div><div ng-if="::(!$ctrl.isMobile() && $ctrl.isCdiAttributesEnabledInBO && $ctrl.isCdiRegulargAttributesDocument)" ng-repeat="attribute in ::$ctrl.regularCdiAttributesItem" ng-style="($ctrl.isEmail() && {\'display\' : \'flex\', \'height\' : \'15px\',\'padding-right\' : \'2em\', \'width\' : \'90px\'})" layout="row" class="badge-item prm-cdi-attributes-regular"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip><span ng-style="($ctrl.isEmail() &&{\'text-transform\' : \'uppercase\', \r\n\t\t\t\t\'font-weight\' : \'600\', \r\n\t\t\t\t\t\'font-size\' : \'12px\', \r\n\t\t\t\t\t\'letter-spacing\' : \'0.03em\',\r\n\t\t\t\t\t\'font-family\' : \'Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif\'})" class="badge-label badge-border" translate="attribute.{{attribute}}"></span></div><div ng-style="($ctrl.isEmail() && {\'display\' : \'flex\', \'height\' : \'15px\',\'padding-right\' : \'2em\', \'width\' : \'90px\'})" ng-if="::$ctrl.isCourseDocument()" layout="row" class="badge-item prm-course"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="nui.results.journalsearch.course.tooltip"></span></md-tooltip><prm-icon class="badge-icon" icon-type="{{::$ctrl.journalLineIcons.course}}" svg-icon-set="{{::$ctrl.journalLineIcons.course.iconSet}}" icon-definition="{{::$ctrl.journalLineIcons.course.icon}}"></prm-icon><span ng-style="($ctrl.isEmail() &&{\'text-transform\' : \'uppercase\', \r\n\t\t\t\t\'font-weight\' : \'600\', \r\n\t\t\t\t\'font-size\' : \'12px\', \r\n\t\t\t\t\'letter-spacing\' : \'0.03em\',\r\n\t\t\t\t\'font-family\' : \'Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif\'})" class="badge-label" translate="nui.results.journalsearch.course"></span></div></div><div ng-if="::($ctrl.isMobile() && $ctrl.isCdiAttributesEnabledInBO && $ctrl.isCdiAttributesDocument)" layout="row" class="badges"><div ng-if="::$ctrl.isCdiWarningAttributesDocument" ng-repeat="attribute in ::$ctrl.warningCdiAttributesItem" ng-style="($ctrl.isEmail() && {\'display\' : \'flex\', \'height\' : \'15px\',\'padding-right\' : \'2em\', \'width\' : \'90px\'})" layout="row" class="badge-item prm-cdi-attributes-warning"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip><span ng-style="($ctrl.isEmail() &&{\'text-transform\' : \'uppercase\', \r\n\t\t\t\t\t\'font-weight\' : \'600\', \r\n\t\t\t\t\t\'font-size\' : \'12px\', \r\n\t\t\t\t\t\'letter-spacing\' : \'0.03em\',\r\n\t\t\t\t\t\'font-family\' : \'Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif\'})" class="badge-label badge-border badge-border-warning" translate="attribute.{{attribute}}"></span></div><div ng-if="::$ctrl.isCdiRegulargAttributesDocument" ng-repeat="attribute in ::$ctrl.regularCdiAttributesItem" ng-style="($ctrl.isEmail() && {\'display\' : \'flex\', \'height\' : \'15px\',\'padding-right\' : \'2em\', \'width\' : \'90px\'})" layout="row" class="badge-item prm-cdi-attributes-regular"><md-tooltip><span translate="attribute.{{attribute}}_tooltip"></span></md-tooltip><span ng-style="($ctrl.isEmail() &&{\'text-transform\' : \'uppercase\', \r\n\t\t\t\t\'font-weight\' : \'600\', \r\n\t\t\t\t\t\'font-size\' : \'12px\', \r\n\t\t\t\t\t\'letter-spacing\' : \'0.03em\',\r\n\t\t\t\t\t\'font-family\' : \'Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif\'})" class="badge-label badge-border" translate="attribute.{{attribute}}"></span></div></div></div><prm-search-result-journal-indication-line-after parent-ctrl="$ctrl"></prm-search-result-journal-indication-line-after>');
$templateCache.put('components/search/searchResult/searchResultList/noSearchResult.html','<md-card class="default-card zero-margin"><md-card-title><md-card-title-text><h2 class="md-headline" ng-bind-html="$ctrl.getErrorLabel(\'nui.noresults.title\')"></h2></md-card-title-text></md-card-title><md-card-content><p><span ng-bind-html="$ctrl.getErrorLabel($ctrl.isSearchWithFilter ? \'nui.noresultswithfilter.description\' : \'nui.noresults.description\')"></span></p><h3 ng-bind-html="$ctrl.getErrorLabel(\'nui.noresults.suggestions\')"></h3><ul><li ng-repeat="suggestionDescription in $ctrl.getErrorSuggestionsDescriptionList()"><span ng-bind-html="suggestionDescription"></span></li></ul></md-card-content></md-card><prm-no-search-result-after parent-ctrl="$ctrl"></prm-no-search-result-after>');
$templateCache.put('components/search/searchResult/searchResultList/search-result-list.html','<span ng-if="$ctrl.explainMessage"><prm-search-explain [explain]="$ctrl.explainMessage"></prm-search-explain></span><div ng-show="$ctrl.resultsExists || $ctrl.isFavorites" class="list-items-list pages-separated-with-gaps relative-position" ng-class="{\'single-page\': ($ctrl.searchInfo.total <= 10), \'disappearing-page-number\': (($ctrl.isJournalSearchState() || $ctrl.isDBSearch() || $ctrl.isCitationState()) && $ctrl.mediaQueries.xs)}" layout="column" id="mainResults" tabindex="0"><h2 class="accessible-only" ng-if="$ctrl.resultsExists && !$ctrl.isFavorites"><span translate="results.title"></span></h2><h2 class="accessible-only" ng-if="$ctrl.isFavorites && !$ctrl.isSavedQuery && $ctrl.favoritesService.getAllItems()"><span translate="nui.favorites.items" translate-values="$ctrl.getPlaceHolders()"></span></h2><div ng-if="$ctrl.expandedSearchAfterZeroResults && !$ctrl.isFavorites && !$ctrl.errorCode && !$ctrl.explainMessage" class="margin-bottom-medium"><md-card class="default-card padded-container-medium zero-margin"><p class="zero-margin"><span role="alert" class="bold-text text-italic" translate="nui.results.search.was.expanded"></span></p></md-card></div><div class="margin-bottom-medium" ng-if="$ctrl.didUMean && !$ctrl.isFavorites && !$ctrl.controlledVocabulary && !$ctrl.isCitationState() && !$ctrl.isChaptersAndReviewsState()"><md-card class="default-card padded-container-medium zero-margin"><prm-did-u-mean [did-u-mean]="$ctrl.didUMean"></prm-did-u-mean></md-card></div><div class="margin-bottom-medium" ng-if="!$ctrl.isFavorites && $ctrl.controlledVocabulary && !$ctrl.isCitationState() && !$ctrl.isChaptersAndReviewsState()" ng-hide="$ctrl.searchInProgress"><md-card class="default-card padded-container-medium zero-margin"><prm-controlled-vocabulary [equivalent-term]="$ctrl.controlledVocabulary.errorMessages[1]" [query]="$ctrl.query"></prm-controlled-vocabulary></md-card></div><div class="margin-bottom-medium" ng-if="$ctrl.showNoResultsErrorMessage() && $ctrl.errorCode && !$ctrl.isFavorites" id="errorCodeMsg"><prm-search-error-message [error-Code]="$ctrl.errorCode" [error-Message]="$ctrl.errorMessage"></prm-search-error-message></div><div ng-if="$ctrl.searchInfo.total == 0 && !$ctrl.isFavorites && !$ctrl.errorCode && !$ctrl.explainMessage" class="margin-bottom-medium"><prm-no-search-result [term]="$ctrl.searchString"></prm-no-search-result></div><prm-search-result-tool-bar [current-page-num]="$ctrl.pageInView" [total-results]="$ctrl.searchInfo.total" [has-more-results]="$ctrl.searchInfo.hasMoreResults" [max-results]="$ctrl.searchInfo.maxTotal" [total-result-version]="$ctrl.totalResultVersion" [show-partial-results-warning]="$ctrl.showPartialResultsWarning()" [toggle-in-mobile]="$ctrl.isSearchState() && $ctrl.detectMobile() && $ctrl.toggleMode" (on-click-disable-tool-bar)="$ctrl.disableToolBar($event)" (page-bulk-size-event)="$ctrl.pickBulkSize($event)" [ui-type]="$ctrl.uiType" ng-if="$ctrl.resultsExists && (($ctrl.isSearchState() && !$ctrl.detectMobile()) || ($ctrl.isSearchState() && $ctrl.detectMobile() && $ctrl.toggleMode))" ng-hide="$ctrl.searchInfo.total == 0" ng-class="{\'search-result-tool-bar-mobile\': $ctrl.isToolBareEnable() && $ctrl.detectMobile()}" ng-style="($ctrl.controlledVocabulary || $ctrl.didUMean || $ctrl.expandedSearchAfterZeroResults) && {\'top\': $ctrl.getDynamicTopForMessages()} || ($ctrl.errorCode) && {\'top\': $ctrl.getDynamicTop()}"></prm-search-result-tool-bar><div ng-if="$ctrl.resultsExists && !$ctrl.isFavorites && (!$ctrl.isSearchState() || $ctrl.detectMobile())" ng-hide="$ctrl.searchInfo.total == 0" class="results-title" layout="{{$ctrl.isCategoriesSearch() ? \'row\' : \'column\'}}" ng-style="(!$ctrl.isSearchState() && $ctrl.mediaQueries.gtsm) && {\'top\':\'-16px\'}" ng-class="{\'is-categories-search\': $ctrl.isCategoriesSearch()}"><div layout="row" layout-align="{{$ctrl.mediaQueries.xs ? \'start start\' : \'\'}}" ng-class="{\'margin-left-small\': $ctrl.mediaQueries.xs}"><prm-search-result-page-range class="results-count page-range-results" layout-align="center start" role="alert" aria-live="assertive" ng-if="$ctrl.enableTopPagination && $ctrl.totalResultVersion ==0 && $ctrl.isCategoriesSearch()" [current-page-num]="$ctrl.pageInView" [total-results]="$ctrl.searchInfo.total" [has-more-results]="$ctrl.searchInfo.hasMoreResults" [total-result-version]="$ctrl.totalResultVersion" [show-partial-results-warning]="$ctrl.showPartialResultsWarning()" [ui-type]="$ctrl.uiType" [is-categories-search]="$ctrl.isCategoriesSearch()" (change-range-event)="$ctrl.pickBulkSize($event)"></prm-search-result-page-range><span class="results-count categories-search" ng-if="$ctrl.totalResultVersion ==0 && $ctrl.isCategoriesSearch()" role="alert" aria-live="assertive"><span translate="nui.results.title.resultsDisplayedCategories"></span> {{$ctrl.searchInfo.total | number}} <span ng-if="$ctrl.searchInfo.maxTotal > 0">(</span><span ng-if="$ctrl.searchInfo.maxTotal > 0" translate="brief.results.outof"></span> <span ng-if="$ctrl.searchInfo.maxTotal > 0">{{$ctrl.searchInfo.maxTotal | number}})</span> <span translate="{{$ctrl.categoryResultCode}}"></span> <span class="bold-text">{{$ctrl.categoryDisplayValue}}</span> </span><span id="partialResultsWarning" ng-if="$ctrl.showPartialResultsWarning()" role="alert" aria-live="assertive" style="padding: 0px 5px"><span class="text-italic" translate="nui.search.partial.results.part1"></span> <span class="bold-text" translate="nui.search.partial.results.part2"></span> <span class="text-italic" translate="nui.search.partial.results.part3"></span> </span><span ng-if="$ctrl.totalResultVersion > 0 && $ctrl.uiType == \'widget\'" translate="nui.results.linkedpnx.frbr" translate-values="{\'idx_0\' : $ctrl.searchInfo.total, \'idx_1\' : $ctrl.totalResultVersion}"></span></div><div ng-class="{\'mobile-actions\': !$ctrl.mediaQueries.gtsm}" layout="row" layout-align="end center" flex><md-button ng-click="$ctrl.openMobileFacets()" class="zero-margin padding-zero facet-filter button-as-link-mobile link-alt-color" id="sidebar-trigger" aria-label="{{::(\'nui.facets.title\' | translate)}}" ng-if="(($ctrl.hasSearchResults() || $ctrl.showPcAvailabilityForScope(scope)) &&\r\n             (!$ctrl.isJournalSearch() || ($ctrl.isJournalSearch() && !$ctrl.isSearchFromLettersJS())) &&\r\n             (!($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) ||\r\n             (($ctrl.isDBSearch() || ($ctrl.isJournalSearch() && $ctrl.isPrimoVE && $ctrl.isJournalCategories)) && !$ctrl.isSearchFromLetters() && !$ctrl.isSearchFromCategoryTree())) && $ctrl.totalResults > 1 && $ctrl.showFacetSection() && !$ctrl.isChaptersAndReviewsState()&& !$ctrl.isCitationState())" hide-gt-sm><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="facets-filter"></prm-icon></md-button><prm-add-query-to-saved-searches ng-if="$ctrl.isSignedIn() && !$ctrl.isCitationState()  && !$ctrl.isAtozSearch  && !$ctrl.isNewspapersSearch && !$ctrl.isBrowsHeaderResults() && !$ctrl.isChaptersAndReviewsState() && !$ctrl.isRapidoSAEnabled"></prm-add-query-to-saved-searches><prm-personalize-results-button ng-if="!$ctrl.isCitationState() && !$ctrl.isAtozSearch && !$ctrl.isNewspapersSearch && !$ctrl.isChaptersAndReviewsState() && !$ctrl.isBrowsHeaderResults() && $ctrl.notLocal()"></prm-personalize-results-button><md-button ng-if="!$ctrl.toggleMode && $ctrl.isSearchState() && $ctrl.detectMobile()" class="button-link padding-zero facet-filter button-as-link-mobile link-alt-color" ng-click="$event.stopPropagation(); $event.preventDefault(); $ctrl.enableToolBar();" aria-label="{{\'nui.aria.brief.selectButton\' | translate}}"><prm-icon icon-type="svg" ng-show="!$ctrl.toggleMode" svg-icon-set="primo-ui" icon-definition="multiple-selection"></prm-icon></md-button></div><div layout="row" ng-if="$ctrl.enableTopPagination && !$ctrl.isCategoriesSearch()" ng-class="{\'results-count-space\': (($ctrl.isJournalSearchState() || $ctrl.isDBSearch() || $ctrl.isCitationState()) && $ctrl.mediaQueries.xs)}"><prm-search-result-page-range class="results-count page-range-results" layout-align="center start" role="alert" aria-live="assertive" [current-page-num]="$ctrl.pageInView" [total-results]="$ctrl.searchInfo.total" [total-result-version]="$ctrl.totalResultVersion" [show-partial-results-warning]="$ctrl.showPartialResultsWarning()" [ui-type]="$ctrl.uiType" (change-range-event)="$ctrl.pickBulkSize($event)"></prm-search-result-page-range><prm-citation-trails-expand-button ng-if="::$ctrl.isShowCitationTrailsExpandSwitch"></prm-citation-trails-expand-button></div><div ng-if="!$ctrl.enableTopPagination"><span class="results-count" layout-align="center start" ng-if="$ctrl.totalResultVersion ==0 && !$ctrl.isCategoriesSearch()" role="alert" aria-live="assertive">{{$ctrl.searchInfo.total | number}} <span ng-if="$ctrl.searchInfo.maxTotal > 0">(</span><span ng-if="$ctrl.searchInfo.maxTotal > 0" translate="brief.results.outof"></span> <span ng-if="$ctrl.searchInfo.maxTotal > 0">{{$ctrl.searchInfo.maxTotal | number}})</span> <span translate="results.title"></span></span></div></div><div ng-if="$ctrl.isFavorites && !$ctrl.isSavedQuery" class="results-title results-title-favorites" layout="row"><span ng-if="$ctrl.isFetchingAllItems()" translate="nui.favorites.fetchingItems" translate-values="$ctrl.getPlaceHolders()"></span><prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="$ctrl.isFetchingAllItems()"></prm-spinner><div class="width-100" layout="row" layout-align="space-between center"><md-checkbox aria-label="Select all items" ng-model="$ctrl.briefResultService.selectAll" ng-change="$ctrl.selectAll()" ng-if="!$ctrl.favoritesService.getAllItems()"><span class="results-count" hide-sm hide-md><span translate="nui.favorites.items" translate-values="$ctrl.getPlaceHoldersForFilter()"></span></span></md-checkbox><md-checkbox aria-label="{{\'nui.favorites.SelectAll\' | translate}} {{(\'nui.favorites.items\' | translate:$ctrl.getPlaceHolders())}}" ng-if="$ctrl.favoritesService.getAllItems() && !$ctrl.isFetchingAllItems()" ng-click="$ctrl.selectOrUnselectAll()" ng-checked="$ctrl.allIn" md-indeterminate="$ctrl.indeterminateState" aria-checked="{{$ctrl.getAriaChecked()}}"><span class="results-count" hide-sm hide-md><span translate="nui.favorites.items" translate-values="$ctrl.getPlaceHolders()"></span></span></md-checkbox><div layout="row"><div ng-if="($ctrl.isFeatureFlagSearchInFavorites || !$ctrl.isPrimoVE) && $ctrl.isSignedIn()" layout="row" class="search-within" ng-class="{\'search-margin-medium\': $ctrl.mediaQueries.gtxs}" ng-style="(!$ctrl.showSearchInput && {\'margin\':\'0\'})" layout-align="start center"><div layout="row" layout-align="start center" ng-if="!$ctrl.searchInListQuery"><form ng-submit="$ctrl.clickSearch();"><md-input-container class="search-input sortWithSearch" flex md-no-float><input ng-model="$ctrl.searchInListTerm" class="search-within-input" ng-change="" placeholder="{{\'nui.favorites.records.search\' | translate}}" aria-label="{{\'nui.favorites.records.search\' | translate}}" ng-focus="$ctrl.searchInputFocused = true" ng-blur="$ctrl.searchInputFocused = false" type="text" id="searchInListText"><md-button tabindex="{{$ctrl.searchInListTerm.length ? 0 : -1 }}" ng-if="$ctrl.searchInListTerm.length > 0" class="md-icon-button clear-button" ng-click="$ctrl.onClearSearchInput()" ng-class="{\'is-visible\': $ctrl.searchInListTerm.length }" aria-label="{{\'nui.searchField.clear\' | translate}}" type="button"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></md-input-container><md-button type="submit" class="search-button" ng-disabled="!$ctrl.searchInListTerm.length" aria-label="{{\'nui.aria.favorites.searchButton\' | translate}}" ng-class="{\'is-shifted\': $ctrl.searchInputFocused || $ctrl.searchInListTerm.length}"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon><span class="search-button-text" ng-if="$ctrl.mediaQueries.gtsm">{{\'nui.favorites.searchButton\' | translate}}</span></md-button></form></div><div ng-if="$ctrl.searchInListQuery" layout="row" layout-align="start center" ng-class="{\'margin-right-small\': !$ctrl.mediaQueries.gtsm}"><span class="margin-right-small" hide-xs>{{\'nui.favorites.records.showingRecordsFor\' | translate}}</span><div class="filter-chip"><span class="bold-text">{{$ctrl.searchInListQuery}}</span><md-tooltip md-delay="400" md-direction="top"><span class="bold-text">{{$ctrl.searchInListQuery}}</span></md-tooltip><md-button class="md-icon-button" ng-click="$ctrl.onRemoveSearchFilter(true)" aria-label="{{$ctrl.correctTranslateSearchTerm()}}"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon><md-tooltip md-delay="400" md-direction="bottom"><span class="bold-text">{{$ctrl.correctTranslateSearchTerm()}}</span></md-tooltip></md-button></div></div></div><md-button ng-click="$ctrl.mobileLabels()" class="zero-margin padding-zero facet-filter button-as-link-mobile link-alt-color" aria-label="{{::(\'nui.aria.sortAndlabels\' | translate)}}" ng-if="$ctrl.getItems().length > 1 || $ctrl.selectedLabels.length > 0" hide-gt-sm><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="facets-filter"></prm-icon></md-button></div></div></div><div ng-if="::(!$ctrl.isFavorites)"><div id="searchResultsContainer" role="document" class="results-container zero-padding" layout="column" ng-disabled="search$ctrl.searchInProgress" ng-class="{\'search-results-container\':$ctrl.isSearchState() && !$ctrl.detectMobile()}"><div class="list-item-wrapper" ng-class="{\'menu-open\':$ctrl.isExpanded($index), \'item-expanded\':$ctrl.isExpanded($index), \'last-item\': $last, \'first-in-page\':$ctrl.firstInPage($index),  \'page-number-mobile\': $ctrl.mediaQueries.xs}" data-page="Page {{::$ctrl.calcPage($index)}}" ng-repeat-start="item in $ctrl.itemlist" role="listitem"><md-subheader class="mobile-page-range" in-view="$ctrl.onTopOfPageInView($ctrl.calcPage($index), $inview, $inviewInfo)" in-view-options="{generateDirection: true, throttle: 50}" id="searchResultPage{{::$ctrl.calcPage($index)}}" ng-if="::($ctrl.firstInPage($index) && !($ctrl.searchInfo.total <= $ctrl.pageSize)) && !(($ctrl.isJournalSearchState() || $ctrl.isDBSearch() || $ctrl.isCitationState()) && $ctrl.mediaQueries.xs)"><span class="text tiny-uppercase-text" ng-style="($ctrl.isSearchState() && !$ctrl.detectMobile()) && {\'display\':\'none\'}">{{::\'nui.paging.pagenumber\' | translate}} {{::$ctrl.calcPage($index)}}</span> <span class="sep"></span></md-subheader><prm-brief-result-container class="list-item" (load-next-results-event)="$ctrl.nextResults()" ng-class="{\'item-bookmarked\' : $ctrl.showPin(item)}" [is-digest-when-in-view-disabled]="::$ctrl.isDigestWhenInViewDisabled" [item]="item" [links]="item.delivery.link" [index]="::$ctrl.getItemIndex($index)" [isfavorites]="::$ctrl.isFavorites" [is-expanded]="$ctrl.isExpanded($index)" [item-height]="$ctrl.expandedItemHeight" [is-the-highlighted-record-you-came-from]="$ctrl.isTheHighlightedRecordYouCameFrom" (expand-item-event)="$ctrl.setExpandedItem($event, $index)" (hide-dialog-event)="$ctrl.hideDialog()" (show-dialog-event)="$ctrl.showDialog()"></prm-brief-result-container></div><prm-featured-results ng-repeat-end ng-if="$ctrl.showFeaturedResults($index) && $ctrl.showTimer" [featured-results]="$ctrl.featuredResult"></prm-featured-results><div ng-if="$ctrl.displayNewspapersLink() && !$ctrl.isCitationState() && !$ctrl.isChaptersAndReviewsState()" class="padding-large"><prm-newspapers-spotlight></prm-newspapers-spotlight></div><div layout="row" layout-align="center center" ng-if="($ctrl.isShowMoreResultButton() && $ctrl.searchInfo.total != 0) && $ctrl.uiType == \'widget\'" ng-hide="$ctrl.searchInProgress" class="padding-top-large"><md-button ng-if="$ctrl.hasNextResults()" (click)="$ctrl.nextResults()" translate="nui.brief.results.loadMore" class="button-confirm button-large"></md-button></div><prm-spinner ng-if="$ctrl.resultsExists && $ctrl.searchInProgress" class="half-transparent no-text bottom-loader" layout="row" layout-align="center end" layout-margin></prm-spinner></div><prm-page-nav-menu ng-if="$ctrl.shouldDisplayPagingWidget() && $ctrl.resultsExists && !$ctrl.searchInProgress" ng-style="$ctrl.uiType == \'picker\' && {\'width\': \'100%\'}" (load-next-results-event)="$ctrl.nextResults()" [current-page]="$ctrl.pageInView" [num-of-results]="$ctrl.searchInfo.total" [has-more-results]="$ctrl.searchInfo.hasMoreResults" [max-display-results]="$ctrl.maxDisplayResults" [num-of-loaded-pages]="$ctrl.numOfLoadedPages" [show-components]="$ctrl.pagingConfigutation" [facet-to-left]="$ctrl.facetToLeft" [ui-type]="$ctrl.uiType" (page-bulk-size)="$ctrl.pickBulkSize($event)"></prm-page-nav-menu></div><md-list class="results-container" ng-if="::($ctrl.isFavorites && !$ctrl.isSavedQuery)" layout="column"><md-list-item class="list-item-wrapper in-element-dialog-parent" ng-repeat="item in $ctrl.itemlist" ng-class="{\'menu-open\':$ctrl.isExpanded($index), \'item-expanded\':$ctrl.isExpanded($index), \'last-item\': $last}"><prm-brief-result-container class="list-item in-element-dialog-context" [item]="::item" [links]="item.delivery.link" [index]="($index + 1)" [isfavorites]="::$ctrl.isFavorites" [is-expanded]="$ctrl.isExpanded($index)" [item-height]="$ctrl.expandedItemHeight" [is-digest-when-in-view-disabled]="$ctrl.isDigestWhenInViewDisabled" (expand-item-event)="$ctrl.setExpandedItem($event, $index)" (hide-dialog-event)="$ctrl.hideDialog()" (show-dialog-event)="$ctrl.showDialog()"></prm-brief-result-container></md-list-item><div layout="row" layout-align="center center" ng-if="$ctrl.itemlist && $ctrl.itemlist.length > 0" class="padding-top-large"><md-button ng-if="$ctrl.hasNextResults(\'favorites\')" (click)="$ctrl.nextResults(\'favorites\')" translate="nui.brief.results.loadMore" class="button-confirm button-large"></md-button></div><prm-spinner ng-if="$ctrl.resultsExists && $ctrl.searchInProgress" class="half-transparent no-text bottom-loader" layout="row" layout-align="center end" layout-margin></prm-spinner></md-list><prm-saved-queries-list ng-if="$ctrl.isSavedQuery" [(itemlist)]="$ctrl.itemlist" [(is-search-history)]="$ctrl.isSearchHistory"></prm-saved-queries-list><div class="list-spacer-small" ng-class="{\'list-spacer\': $ctrl.listBottomSpacer}"></div></div><prm-search-result-list-after parent-ctrl="$ctrl"></prm-search-result-list-after>');
$templateCache.put('components/search/searchResult/searchResultPageRange/search-result-page-range.html','<div layout="row" layout-align="start center"><md-input-container><md-select ng-model="$ctrl.PAGE_SIZE" role="alert" aria-live="assertive" ng-change="$ctrl.onClick()" md-selected-text="$ctrl.rangeTitle" translate-attr="{\'aria-label\': \'nui.aria.results.resultsPerPageTopTitle\'}" data-qa="change_result_size_per_page"><md-select-header translate="nui.results.resultsPerPageTop" class="padding-left-medium-multi-language"></md-select-header><md-option ng-repeat="range in $ctrl.numberOfResultsPerPageList" class="narrow-options-list" translate-attr="{\'aria-label\': \'nui.aria.results.resultsPerPageTop\'}" translate-values="{\'numberOfResults\': $ctrl.translateLabel(\'{{range}}\')}" ng-value="range" ng-class="{\'bold-text\' : $ctrl.PAGE_SIZE == range}">{{range}}</md-option></md-select></md-input-container><span ng-if="::$ctrl.totalResultVersion > 0 && $ctrl.uiType == \'picker\'" ng-class="{\'absolute-position\': $ctrl.mediaQueries.xs, \'results-includes\': $ctrl.mediaQueries.sm}" translate="nui.results.linkedpnx.frbrNew" translate-values="{\'idx_1\' : $ctrl.totalResultVersion}"></span> <span id="partialResultsWarning" ng-if="::$ctrl.showPartialResultsWarning" role="alert" aria-live="assertive" style="padding: 0px 5px"><span class="text-italic" translate="nui.search.partial.results.part1"></span> <span class="bold-text" translate="nui.search.partial.results.part2"></span> <span class="text-italic" translate="nui.search.partial.results.part3"></span> </span><span ng-if="::$ctrl.totalResultVersion>0 && $ctrl.uiType == \'widget\'" translate="nui.results.linkedpnx.frbr" translate-values="{\'idx_0\' : $ctrl.totalResultsNum, \'idx_1\' : $ctrl.totalResultVersion}"></span></div>');
$templateCache.put('components/search/searchResult/searchResultSortBy/searchResultSortBy.html','<md-input-container class="zero-margin"><md-select ng-model="$ctrl.sortBy" ng-change="$ctrl.onSortChange()" class="form-control" translate-attr="{\'aria-label\': \'nui.aria.results.sortBy\'}"><md-option ng-repeat="option in ::$ctrl.options track by option.value" value="{{::option.value}}"><span role="button" translate="results.sortby.option.{{::option.text}}" alt="{{\'nui.aria.results.sortBy\' | translate}}"></span></md-option></md-select></md-input-container><prm-search-result-sort-by-after parent-ctrl="$ctrl"></prm-search-result-sort-by-after>');
$templateCache.put('components/search/searchResult/searchResultThumbnail/search-result-thumbnail-container.html','<div><img class="fallback-img fallback-static" style="display: none" ng-if="::$ctrl.getSelectedThumbnailLink()" ng-src="{{::$ctrl.defaultThumbnailLink.linkURL}}" alt="" onload="this.style.display=\'\'"/> <img class="fallback-img" style="display: none" ng-if="::!$ctrl.isMultipleVersions() && !$ctrl.selectedThumbnailLink.linkURL && !!$ctrl.defaultThumbnailLink.linkURL && !$ctrl.isVirtualBrowse" ng-src="{{::$ctrl.defaultThumbnailLink.linkURL}}" alt="" onload="this.style.display=\'\'"/> <img class="main-img fan-img-1" style="display: none" ng-class="::{\'fan-img\' : $ctrl.isMultipleVersions() && !$ctrl.isFavoriteState() && $ctrl.selectedThumbnailLink.linkURL}" ng-if="::$ctrl.selectedThumbnailLink.linkURL" ng-src="{{::$ctrl.selectedThumbnailLink.linkURL}}" alt="" onload="this.style.display=\'\'"/> <img class="fan-img fan-img-2" style="display: none" aria-hidden="true" ng-if="::$ctrl.isMultipleVersions() &&  !$ctrl.isFavoriteState() && $ctrl.selectedThumbnailLink.linkURL" ng-src="{{::$ctrl.selectedThumbnailLink.linkURL}}" alt="" onload="this.style.display=\'\'"/> <img class="fan-img fan-img-3" style="display: none" aria-hidden="true" ng-if="::$ctrl.isMultipleVersions() && !$ctrl.isFavoriteState() && $ctrl.selectedThumbnailLink.linkURL" ng-src="{{::$ctrl.selectedThumbnailLink.linkURL}}" alt="" onload="this.style.display=\'\'"/></div><div ng-if="::$ctrl.links" ng-init="$ctrl.go()"></div><prm-search-result-thumbnail-container-after parent-ctrl="$ctrl"></prm-search-result-thumbnail-container-after>');
$templateCache.put('components/search/searchResult/searchResultToolBar/search-result-tool-bar.html','<div sticky sticky-class="is-stuck"><md-toolbar class="md-toolbar-tools results-title" ng-class="{\'is-visible\': !$ctrl.mediaQueries.gtxs && ($ctrl.showButtons()) }" layout="row" layout-align="start center"><div class="main-checkbox animate-enter-leave-scale-bounce staggered underlined-input" ng-if="!$ctrl.isRapidoSAEnabled"><prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="$ctrl.isFetchingAllItems()"></prm-spinner><md-checkbox aria-label="{{$ctrl.getSelectAriaLabel()}}" ng-if="!$ctrl.isFetchingAllItems()" ng-click="$ctrl.selectOrUnselectAll(); $ctrl.focusOnSelectTopMax()" ng-checked="$ctrl.allIn" md-indeterminate="$ctrl.indeterminateState" md-no-ink="true"></md-checkbox><span class="results-count"><span translate="nui.brief.bulk.selected" translate-values="$ctrl.getPlaceHolders($ctrl.selectedItems().length)"></span></span></div><div class="search-toolbar-title" layout="row" layout-align="center center" ng-hide="$ctrl.toggleInMobileStatus"><div><span class="text tiny-uppercase-text" ng-hide="$ctrl.hidePageNumber()" translate="nui.paging.pagenumber" translate-values="$ctrl.getPageNumberPlaceHolder()" translate-compile></span></div><div layout="row"><div><prm-search-result-page-range ng-if="$ctrl.enableTopPagination" [current-page-num]="$ctrl.currentPageNum" [total-results]="$ctrl.totalResults" [has-more-results]="$ctrl.hasMoreResults" [total-result-version]="$ctrl.totalResultVersion" [show-partial-results-warning]="$ctrl.showPartialResultsWarning" [ui-type]="$ctrl.uiType" (change-range-event)="$ctrl.pickBulkSizeData($event)"></prm-search-result-page-range><div ng-if="!$ctrl.enableTopPagination"><span class="results-count" role="alert" ng-if="::$ctrl.totalResultVersion ==0" aria-live="assertive">{{::$ctrl.totalResultsNum | number}} <span ng-if="::$ctrl.maxResults > 0">(</span><span ng-if="::$ctrl.maxResults > 0" translate="brief.results.outof"></span> <span ng-if="::$ctrl.maxResults > 0">{{::$ctrl.maxResults | number}})</span> <span translate="results.title"></span> </span><span id="partialResultsWarning" ng-if="::$ctrl.showPartialResultsWarning" role="alert" aria-live="assertive" style="padding: 0px 5px"><span class="text-italic" translate="nui.search.partial.results.part1"></span> <span class="bold-text" translate="nui.search.partial.results.part2"></span> <span class="text-italic" translate="nui.search.partial.results.part3"></span> </span><span ng-if="::$ctrl.totalResultVersion>0 && $ctrl.uiType == \'widget\'" translate="nui.results.linkedpnx.frbr" translate-values="{\'idx_0\' : $ctrl.totalResultsNum, \'idx_1\' : $ctrl.totalResultVersion}"></span></div></div></div></div><div class="search-toolbar-title" layout="row" hide-xs ng-if="::!$ctrl.mediaQueries.sm && !$ctrl.isRapidoSAEnabled"><prm-add-query-to-saved-searches ng-if="::$ctrl.getUser && !$ctrl.isBrowsHeaderResults"></prm-add-query-to-saved-searches><prm-personalize-results-button ng-if="::$ctrl.notLocal()"></prm-personalize-results-button></div><div layout="row" layout-align="end center" flex class="toolbar-actions"><div layout="row" id="slideTopMaxAlert" aria-live="{{$ctrl.getAriaLive()}}" layout-align="center center" class="floated-max-results-message" ng-style="$ctrl.needToShowSlide && (($ctrl.getDir() === \'left\') ? {\'left\' : \'0\'} : {\'right\' : \'0\'})"><span translate="nui.brief.bulk.numberOfSelectedRecords" translate-values="$ctrl.getPlaceHolders($ctrl.selectedItems().length)"></span><md-button id="chooseTopMax" tabindex="{{$ctrl.getTabIndex()}}" class="button-link" aria-label="{{::(\'nui.aria.bulk.chooseTop\' | translate:\'{max: \\\'\'+ $ctrl.numOfTopMax +\'\\\'}\')}}" aria-label="{{\'nui.aria.bulk.chooseTop\' | translate}}" ng-class="{\'disabledSlideButtonTool\': $ctrl.searchInProgress}" ng-click="$ctrl.loadAndSelectTopMax(); $ctrl.onTopMaxSlideClose()" translate="nui.brief.bulk.chooseTopMaxResults" translate-values="$ctrl.getPlaceHolders($ctrl.numOfTopMax)"></md-button><md-divider class="md-primoExplore-theme"></md-divider><md-button class="dismiss-link" tabindex="{{$ctrl.getTabIndex()}}" ng-class="{\'disabledSlideButtonTool\': $ctrl.searchInProgress}" ng-click="$ctrl.onTopMaxSlideClose(); $ctrl.updateNoNeedToInsertSlideAfterDismiss();" translate-attr="{\'aria-label\': \'nui.message.dismiss\'}"><prm-icon icon-type="{{::$ctrl.favoritesIcons.removeLabel.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.removeLabel.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.removeLabel.icon}}"></prm-icon><span translate="nui.message.dismiss"></span></md-button></div><div class="toolbar-item animate-enter-leave-scale-bounce staggered" ng-if="!$ctrl.getUser && !$ctrl.isRapidoSAEnabled && (!$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryServicePage() && !$ctrl.isDiscoveryWithExternalNoLogin())"><md-button class="md-icon-button pin-button" aria-label="{{$ctrl.isChosenFav() | translate}}" ng-click="$ctrl.pinToFavorites($event)" ng-disabled="!$ctrl.showButtons() || $ctrl.searchInProgress"><md-tooltip md-delay="400"><span translate="nui.favorites.pin.tooltip"></span></md-tooltip><prm-icon class="h-flipped-25-icon" ng-class="{\'disabledFavTool\': !$ctrl.showButtons() || $ctrl.searchInProgress}" icon-type="{{::$ctrl.favoritesIcons.pin.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.pin.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.pin.icon}}"></prm-icon></md-button></div><div class="toolbar-item animate-enter-leave-scale-bounce staggered" ng-if="$ctrl.getUser && !$ctrl.isRapidoSAEnabled"><prm-search-result-add-to-favorites-menu [disable]="!$ctrl.showButtons()" [is-section]="true" (on-add-to-favorites-event)="$ctrl.pinToFavorites($event)"></prm-search-result-add-to-favorites-menu></div><div class="toolbar-item animate-enter-leave-scale-bounce staggered" ng-if="!$ctrl.isRapidoSAEnabled"><md-button class="md-icon-button has-bottom-arrow" ng-class="$ctrl.showPushtoActions ? \'arrow-showing\' : \'\' " aria-label="{{$ctrl.isChosenActions() | translate}}" ng-click="$ctrl.switchShowPushtoActions($event);$ctrl.closeOpenTabs($event);$event.stopPropagation();" ng-disabled="!$ctrl.showButtons() || $ctrl.searchInProgress"><md-tooltip md-delay="400"><span translate="eshelf.send_to.tooltip"></span></md-tooltip><prm-icon icon-type="{{::$ctrl.favoritesIcons.favoriteActionsList.type}}" ng-class="{\'disableActionTool\': !$ctrl.showButtons() || $ctrl.searchInProgress}" svg-icon-set="{{::$ctrl.favoritesIcons.favoriteActionsList.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.favoriteActionsList.icon}}"></prm-icon></md-button></div></div><div class="toolbar-item animate-enter-leave-scale-bounce staggered" ng-if="$ctrl.toggleInMobileStatus"><md-button class="zero-margin button-link padding-zero facet-filter button-as-link-mobile link-alt-color" ng-click="$event.stopPropagation(); $event.preventDefault(); $ctrl.disableToolBar();"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button></div></md-toolbar><div id="actionsList" class="search-action-list" ng-if="$ctrl.showPushtoActions && $ctrl.showButtons()"><div class="action-list-content" ng-keydown="$ctrl.keyDownSupport($event)"><md-content layout="row"><prm-action-list [display-all]="false" [item]="$ctrl.selectedItems()" [display-close-icon]="true" flex style="margin: 8px" (close-modal)="$ctrl.switchShowPushtoActions()"></prm-action-list></md-content></div></div></div><div layout="row" flex="noshrink" class="dialog-warning" sticky offset="64" sticky-class="is-stuck" ng-if="$ctrl.needToshowErrorAlert"><prm-alert-bar style="position: fixed; bottom: 0px;width: 53.5%;" flex [alert-object]="$ctrl.topMaxAlert" role="alert" aria-live="assertive"></prm-alert-bar></div><prm-search-result-tool-bar-after parent-ctrl="$ctrl"></prm-search-result-tool-bar-after>');
$templateCache.put('components/search/searchResult/searchResultsChaptersAndReviews/chapters-results-line.html','<div layout="column"><div ng-if="::$ctrl.getBookChapters()"><prm-icon icon-type="svg" chapters-type svg-icon-set="primo-ui" icon-definition="chapters"></prm-icon><md-button href="" ng-click="$ctrl.onClick($event, \'chapters\')" class="neutralized-button arrow-link-button" ui-state="$ctrl.CHAPTERS_STATE" ui-state-params="$ctrl.chaptersStateParams(\'chapters\')" ui-sref-opts="{reload: true, inherit:true}"><span class="button-content"><span translate="{{$ctrl.getChaptersCode()}}" translate-values="$ctrl.getNumberOfChaptersPlaceHolder()" translate-compile></span></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></div><div ng-if="::$ctrl.displayBookReviews()"><prm-icon icon-type="svg" chapters-type svg-icon-set="primo-ui" icon-definition="chapters"></prm-icon><md-button href="" class="neutralized-button arrow-link-button" ui-state="$ctrl.CHAPTERS_STATE" ui-state-params="$ctrl.chaptersStateParams(\'reviews\')" ui-sref-opts="{reload: true, inherit:true}" ng-click="$ctrl.onClick($event, \'reviews\')"><span class="button-content"><span translate="{{\'nui.results.relatedItems.book2review.link\' | translate:\'{counter: \\\'\'+$ctrl.getNumberOfReviews()+\'\\\'}\'}}"></span></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></div></div><prm-chapters-results-line-after parent-ctrl="$ctrl"></prm-chapters-results-line-after>');
$templateCache.put('components/search/searchResult/searchResultsChaptersAndReviews/reviews-results-line.html','<prm-reviews-results-line-after parent-ctrl="$ctrl"></prm-reviews-results-line-after>');
$templateCache.put('components/search/topbar/bookmarkFilter/search-bookmark-filter.html','<md-button class="md-icon-button button-over-dark" ng-click="$ctrl.openQrDialogForUrl()" ng-if="$ctrl.showQrCodeButton" id="qrCodeScanner" translate-attr="{\'aria-label\': \'nui.aria.qr\'}"><md-tooltip md-delay="400"><span translate="general.QRTooltip"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-actions" icon-definition="qrCode"></prm-icon></md-button><md-button ng-if="!$ctrl.isFavorites && !$ctrl.showQrCodeButton && $ctrl.showSearchHistoryTab()" class="md-icon-button button-over-dark" aria-label="{{\'nui.favorites.gohistory.tooltip\' | translate}}" ng-click="$ctrl.goToSearchHistory()" ui-state="$ctrl.FAVORITES_STATE" ui-state-params="$ctrl.searchHistoryParams" ui-sref-opts="{reload: true, inherit:false}" href="" id="searchHistory"><md-tooltip md-delay="400"><span translate="nui.favorites.gohistory.tooltip"></span></md-tooltip><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="restore"></prm-icon></md-button><div id="fixed-buttons-holder" ng-class="{\'fixed-to-top\': $ctrl.fixedToTop(), \'mobile-bookmarkFilter-pos\': (($ctrl.isToolBareEnable() && ($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm)) ||  ($ctrl.facetToLeft && $ctrl.mediaQueries.md))}" ng-style="($ctrl.mediaQueries.xs && {\'right\': \'0\'})" layout="row" layout-align="center center"><md-button ng-if="$ctrl.isFavorites" id="search-button" class="md-icon-button button-over-dark" aria-label="{{\'nui.favorites.goSearch.tooltip\' | translate}}" ng-click="$ctrl.goToSearch()" ui-state="$ctrl.uiState" ui-state-params="$ctrl.searchStateParams" ui-sref-opts="{reload: true, inherit:false}" href=""><md-tooltip md-delay="400"><span translate="nui.favorites.goSearch.tooltip"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="magnifying-glass" layout="row"></prm-icon></md-button><md-button ng-if="!$ctrl.isFavorites && !$ctrl.isRapidoSAEnabled && (!$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryServicePage() && !$ctrl.isDiscoveryWithExternalNoLogin())" id="favorites-button" class="md-icon-button button-over-dark" aria-label="{{\'nui.favorites.goFavorites.tooltip\' | translate}}" ng-click="$ctrl.goToFavorties()" ui-state="$ctrl.FAVORITES_STATE" ui-state-params="$ctrl.favoritesStateParams" ui-sref-opts="{reload: true, inherit:false}" href=""><md-tooltip md-delay="400"><span translate="nui.favorites.goFavorites.tooltip"></span></md-tooltip><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_pin"></prm-icon></md-button><div ng-if="$ctrl.fixedToTop()" class="ng-scope"><md-button id="back-to-top-button" class="zero-margin md-icon-button md-button md-ink-ripple" type="button" aria-label="{{\'nui.results.backToTop.tooltip\' | translate}}" ng-click="$ctrl.backToTop()"><md-tooltip md-delay="400"><span translate="nui.results.backToTop.tooltip"></span></md-tooltip><prm-icon icon-type="{{$ctrl.backToTopIcon.backToTop.type}}" svg-icon-set="{{$ctrl.backToTopIcon.backToTop.iconSet}}" icon-definition="{{$ctrl.backToTopIcon.backToTop.icon}}"></prm-icon><div class="md-ripple-container"></div></md-button></div></div><prm-favorites-warning-message ng-if="$ctrl.isFavoritesWarning() && !$ctrl.isOverlayFullView && $ctrl.mediaQueries.gtsm" id="fixed-warning-message" ng-class="{\'fixed-to-top\': $ctrl.fixedToTop()}"></prm-favorites-warning-message><prm-search-bookmark-filter-after parent-ctrl="$ctrl"></prm-search-bookmark-filter-after>');
$templateCache.put('components/search/topbar/logo/logo.html','<div class="product-logo" id="banner" aria-label="{{\'nui.aria.logo.link.open\' | translate}}" ng-if="!$ctrl.disableLogo"><a ng-href="{{::$ctrl.logoURL}}"><a ng-if="::!$ctrl.needSref" ng-href="{{::$ctrl.logoURL}}" ng-click="$ctrl.logoClick()"><img class="logo-image" ng-if="::!$ctrl.isEmailMode()" id="logoImage" data-logo="email-template" translate-attr="{ alt: \'nui.header.LogoAlt\' }" ng-src="{{::$ctrl.iconLink}}"/> <img class="logo-image" ng-if="::$ctrl.isEmailMode()" height="35" id="logoImage" data-logo="email-template" translate-attr="{ alt: \'nui.header.LogoAlt\' }" ng-src="{{::$ctrl.iconLink}}"/></a><md-button ng-if="::$ctrl.needSref" class="organization-logo" ui-state="\'exploreMain.search\'" ui-state-params="{vid: \'{{$ctrl.vid}}\'}" ui-state-opts="{reload: true, inherit: false}" href="" ng-click="$ctrl.logoClick()"><img class="logo-image" ng-if="::!$ctrl.isEmailMode()" id="logoImage" data-logo="email-template" translate-attr="{ alt: \'nui.header.LogoAlt\' }" ng-src="{{::$ctrl.iconLink}}"/> <img ng-if="::$ctrl.isEmailMode()" class="logo-image" id="logoImage" height="35" data-logo="email-template" translate-attr="{ alt: \'nui.header.LogoAlt\' }" ng-src="{{::$ctrl.iconLink}}"/></md-button></a></div><div class="product-logo" id="banner" ng-if="$ctrl.disableLogo" style="cursor:auto"><img class="logo-image" ng-if="::!$ctrl.isEmailMode()" id="logoImage" translate-attr="{ alt: \'nui.header.LogoAlt\' }" ng-src="{{::$ctrl.iconLink}}"/> <img class="logo-image" ng-if="::$ctrl.isEmailMode()" height="35" id="logoImage" translate-attr="{ alt: \'nui.header.LogoAlt\' }" ng-src="{{::$ctrl.iconLink}}"/></div><prm-logo-after parent-ctrl="$ctrl"></prm-logo-after>');
$templateCache.put('components/search/topbar/mainMenu/find-db-dialog-template.html','<md-dialog aria-label="List dialog" style="width: 100%"><md-dialog-content><iframe flex style="border-width:0px;width:100%;min-height:470px" src="{{ctrl.getUrl()}}"></iframe></md-dialog-content><md-dialog-actions layout="row"><span flex></span><md-button ng-click="ctrl.closeDialog()" class=""><span translate="nui.finddb.closeTooltip"></span></md-button><span ng-if="ctrl.displayFDBNothingSelectedErr" translate="finddb.nodatabases" class="prm-warn"></span><md-button ng-click="ctrl.goToSearch()" class="button-confirm"><span translate="nui.finddb.go.to.search"></span></md-button></md-dialog-actions></md-dialog>');
$templateCache.put('components/search/topbar/mainMenu/main-menu-full.html','<div ng-class="::{\'mobile-main-menu-bg\' : $ctrl.mediaQueries.xs && $ctrl.isSignedIn()}"><md-content class="overlay-menu-content layout-full-height" layout="column" layout-align-gt-sm="start center" layout-align="start start"><div role="document"><div layout="column" layout-align="center start"><md-button md-autofocus id="mainMenuFullCloseButton" ng-click="$ctrl.closeLinksMenu()" class="md-icon-button close-button zero-margin" aria-label="{{\'nui.aria.links.close\' | translate}}" tabindex="0"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></md-button><div class="prm-user-menu-content" ng-if="$ctrl.isSignedIn()"><div class="user-menu-header" layout="row"><div layout="column" flex=""><span class="tiny-uppercase-text" translate="eshelf.menu.signedInAs"></span> <span class="ng-binding" style="font-size: small">{{$ctrl.userName()}}</span></div></div></div><div layout-gt-xs="row" class="settings-container align-self-stretch" layout-align="center start" ng-style="((($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm) && $ctrl.isSignedIn() && {\'margin-top\':\'4em\'}))"><div layout="row" layout-xs="column" class="padded-container-medium" layout-align="center center" layout-align-xs="start start" role="list"><prm-library-card-menu (action-event)="$ctrl.closeLinksMenu()" ng-if="!$ctrl.isDepositDisplay && !$ctrl.isDiscoveryServicesPage() && !$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryWithExternalNoLogin()" role="listitem"></prm-library-card-menu><md-divider class="vertical-divider" ng-if="$ctrl.displayLanguage" tabindex="-1" hide-xs aria-hidden="true"></md-divider><div role="listitem" layout="column" ng-if="$ctrl.displayLanguage"><div class="overlay-menu-item" id="moreViewLanguageItem" tabindex="-1" layout="row" layout-align="center center"><label for="moreViewLanguageItem" class="display-language-label" translate="eshelf.menu.displayLangNew"></label><prm-icon icon-type="svg" tabindex="-1" svg-icon-set="primo-ui" icon-definition="earth"></prm-icon><prm-change-lang tabindex="-1" is-main-menu="true" (change-lang-event)="$ctrl.closeLinksMenu()"></prm-change-lang></div></div><div tabindex="-1" layout="row" layout-align="center center" hide-gt-xs role="listitem"><md-button class="button-with-icon zero-margin" ng-if="!$ctrl.advancedSearch && $ctrl.showUserArea && $ctrl.isSearchPageState()" ng-click="$ctrl.switchAdvancedSearch()"><prm-icon icon-type="{{::$ctrl.searchBoxIcons.searchTextBox.type}}" svg-icon-set="{{::$ctrl.searchBoxIcons.searchTextBox.iconSet}}" icon-definition="{{::$ctrl.searchBoxIcons.searchTextBox.icon}}"></prm-icon><span translate="label.advanced_search"></span></md-button></div><md-divider class="vertical-divider" tabindex="-1" hide-xs aria-hidden="true"></md-divider><prm-authentication [is-logged-in]="$ctrl.isLoggedIn" layout="column" ng-if="!$ctrl.isDiscoveryServicesPage() && !$ctrl.isDiscoveryLocalNoLogin()  && !$ctrl.isDiscoveryWithExternalNoLogin()" layout-align="start start" role="listitem"></prm-authentication><md-menu-item ng-if="$ctrl.mobileMenu.getMobileMenu() && $ctrl.isRefworksActionEnabled() && $ctrl.showUserArea" class="my-refworks-ctm"><md-button class="button-with-icon refworks-user-area-btn" href="https://refworks.proquest.com/" ng-click="$ctrl.refworksWithBeacon()" target="refworks-window" translate-attr="{\'aria-label\': \'nui.aria.refWorks\'}"><prm-icon icon-type="svg" svg-icon-set="primo-actions" icon-definition="refworks"></prm-icon><span translate="eshelf.menu.refworks"></span></md-button></md-menu-item><md-menu-item ng-if="$ctrl.mobileMenu.getMobileMenu()&&$ctrl.showUserArea && !$ctrl.isSummonOverAlma() && !$ctrl.isDiscoveryServicesPage() && !$ctrl.isDiscoveryLocalNoLogin()  && !$ctrl.isDiscoveryWithExternalNoLogin()" class="my-search-history-ctm"><md-button class="button-with-icon" ng-click="$ctrl.goToSearchHistory()" ui-state="$ctrl.FAVORITES_STATE" ui-state-params="$ctrl.searchHistoryParams" ui-sref-opts="{reload: true, inherit:false}" translate-attr="{\'aria-label\': \'nui.aria.goHistory\'}"><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="restore"></prm-icon><span translate="eshelf.menu.searchHistory"></span></md-button></md-menu-item><div tabindex="-1" layout="row" layout-align="center center" hide-gt-xs role="listitem" ng-if="$ctrl.isReportProblem()"><md-button class="button-with-icon zero-margin report-problem-menu-mobile" ng-click="$ctrl.openReportFromMainMenu()" translate-attr="{\'aria-label\': \'nui.aria.openReportProblem\'}" data-qa="open_report_problem_btn_mobile"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="exclamation-mark"></prm-icon><span translate="report.Title"></span></md-button></div></div></div><md-divider style="width: 80%;" ng-if="!$ctrl.isDepositDisplay" tabindex="-1" ng-style="(($ctrl.mediaQueries.sm && !$ctrl.isSignedIn() && {\'margin-top\':\'4em\'}) || ($ctrl.mediaQueries.sm && $ctrl.isSignedIn() && {\'margin-top\':\'8em\'}))"></md-divider><div class="custom-links-container" layout="row" layout-wrap layout-align="center start" layout-align-sm="start start" ng-if="!$ctrl.isDepositDisplay"><div ng-repeat="link in $ctrl.viewUrlsList" class="main-menu-button" ng-if="$ctrl.isShowTags(link.url)"><md-button ng-if="link[\'href\']" href="{{link[\'href\']}}" target="{{::$ctrl.getTargetAttribute(link)}}" class="transparent-card" layout="column" layout-align="center center" ng-click="$ctrl.closeLinksMenuAfterNavigation();$ctrl.performAction(link);" ng-hide="$ctrl.dispalyResourceSharing(link.url) || $ctrl.hideLegantoMenuLink(link.url,link.label)" aria-label="{{$ctrl.getMenuLabel(link) | translate}}{{$ctrl.newWindowIndication(link)}}"><span class="md-headline" translate="{{::$ctrl.getMenuLabel(link)}}"></span> <span class="md-subhead" translate="{{::$ctrl.getMenuTooltip(link)}}"></span> <span class="accessible-only">{{$ctrl.newWindowIndication(link)}}</span></md-button><md-button ng-if="link[\'sref\']" href="" target="{{::$ctrl.getTargetAttribute(link)}}" ui-state="link[\'sref\'][\'state\']" ui-state-params="link[\'sref\'][\'params\']" ui-state-opts="link[\'sref\'][\'opts\']" class="transparent-card" layout="column" layout-align="center center" ng-click="$ctrl.closeLinksMenuAfterNavigation();$ctrl.performAction(link);" ng-hide="$ctrl.dispalyResourceSharing(link.url) || $ctrl.hideLegantoMenuLink(link.url,link.label)" aria-label="{{$ctrl.getMenuLabel(link) | translate}}{{$ctrl.newWindowIndication(link)}}"><span class="md-headline" translate="{{::$ctrl.getMenuLabel(link)}}"></span> <span class="md-subhead" translate="{{::$ctrl.getMenuTooltip(link)}}"></span> <span class="accessible-only">{{$ctrl.newWindowIndication(link)}}</span></md-button></div></div></div></div></md-content></div>');
$templateCache.put('components/search/topbar/mainMenu/main-menu.html','<div class="top-nav-bar-links buttons-group" id="mainMenu" tabindex="-1" layout="row" layout-align="center center" flex="100" role="list"><div data-main-menu-item="{{urlConfig.label}}" ng-repeat="urlConfig in $ctrl.viewUrlsList |limitTo:$ctrl.showCount()" style="height: 100%" role="listitem" ng-if="$ctrl.isShowTags(urlConfig.label)"><md-button ng-if="::urlConfig[\'href\']" href="{{::urlConfig[\'href\']}}" target="{{::$ctrl.getTargetAttribute(urlConfig)}}" class="zero-margin flex-button multi-line-button button-over-dark" layout="column" layout-align="center center" (click)="::$ctrl.performAction(urlConfig)" ng-disabled="::$ctrl.dispalyResourceSharing(urlConfig.url)" ng-hide="::$ctrl.hideLegantoMenuLink(urlConfig.url,urlConfig.label)" aria-label="{{$ctrl.getMenuLabel(urlConfig) | translate}}{{::$ctrl.newWindowIndication(urlConfig)}}"><span class="item-content" translate="{{::$ctrl.getMenuLabel(urlConfig)}}"></span><md-tooltip md-direction="down" md-delay="400" class="multi-row-tooltip slide-tooltip-anim"><span class="item-description popover animate-popover" translate="{{::$ctrl.getMenuTooltip(urlConfig)}}"></span></md-tooltip></md-button><md-button ng-if="::urlConfig[\'sref\']" href="" target="{{::$ctrl.getTargetAttribute(urlConfig)}}" ui-state="urlConfig[\'sref\'][\'state\']" ui-state-params="urlConfig[\'sref\'][\'params\']" ui-state-opts="urlConfig[\'sref\'][\'opts\']" class="zero-margin flex-button multi-line-button button-over-dark" layout="column" layout-align="center center" (click)="::$ctrl.performAction(urlConfig)" ng-disabled="::$ctrl.dispalyResourceSharing(urlConfig.url)" ng-hide="::$ctrl.hideLegantoMenuLink(urlConfig.url,urlConfig.label)" aria-label="{{$ctrl.getMenuLabel(urlConfig) | translate}}{{::$ctrl.newWindowIndication(urlConfig)}}"><span class="item-content" translate="{{::$ctrl.getMenuLabel(urlConfig)}}"></span><md-tooltip md-direction="down" md-delay="400" class="multi-row-tooltip slide-tooltip-anim"><span class="item-description popover animate-popover" translate="{{::$ctrl.getMenuTooltip(urlConfig)}}"></span></md-tooltip></md-button></div><md-button tabindex="0" class="zero-margin flex-button align-self-stretch" layout="column" layout-align="center center" ng-if="$ctrl.showMoreOptionsButton()" (click)="$ctrl.disableMobileMenu()" id="more-links-button" translate-attr-title="mainmenu.label.moreoptions" translate-attr="{\'aria-label\': \'nui.aria.mainmenu.label.moreOptions\'}"><span class="item-content" translate-attr-title="mainmenu.label.moreoptions"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="dots-horizontal"></prm-icon></span><md-tooltip md-direction="down"><span class="item-description popover animate-popover" translate="nui.mainmenu.description.more"></span></md-tooltip></md-button><prm-top-nav-bar-links-after parent-ctrl="$ctrl"></prm-top-nav-bar-links-after></div><prm-main-menu-after parent-ctrl="$ctrl"></prm-main-menu-after>');
$templateCache.put('components/search/topbar/qrCode/qr-code-action.html','<div layout="column" layout-align="center center" class="send-actions-content-item layout-row"><md-content layout-fill><div layout="column" layout-align="center center" class="padded-container"><img style="height: 150px; width: 150px" id="{{::$ctrl.qrImageId}}" src="{{::$ctrl.qrImageSrc}}" alt="{{::$ctrl.qrUrl}}"> <span translate="general.QRScanCode" class="margin-top-medium margin-bottom-medium" ng-style="!$ctrl.mediaQueries.gtmd && {\'max-width\': \'250px\'}"></span></div><div class="animate-enter-leave-scale-bounce" layout-align="center center" ng-class="$ctrl.mediaQueries.gtmd ? \'layout-row\' : \'layout-column\'"><md-button class="button-confirm button-large" ng-class="{\'iPad-button-with-text-fixed-width\': $ctrl.mediaQueries.gtxs}" ng-click="$ctrl.copyQrUrlToClipboard()" ng-hide="$ctrl.copySuccessful" clipboard type="button" text="$ctrl.UrlToCopy" on-copied="$ctrl.clipboardSuccess() | translate" on-error="$ctrl.clipboardFailure(err) | translate" id="copyQrCodeActionLink" translate-attr="{\'aria-label\': \'nui.aria.qr.copy\'}"><span translate="general.QRCopyLink"></span></md-button><div ng-if="$ctrl.copySuccessful" layout="row" layout-align="center center" layout-padding><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="check"></prm-icon><span translate="general.QRCopyLinkText" role="alert"></span></div><md-button class="button-confirm button-large" ng-click="$ctrl.copyQrImageToClipboard()" ng-hide="$ctrl.copySuccessfulImage" ng-if="$ctrl.showCopyImageButton" clipboard type="button" on-copied="$ctrl.clipboardSuccessImage() | translate" on-error="$ctrl.clipboardFailureImage(err) | translate" id="copy-qrCode-image" translate-attr="{\'aria-label\': \'nui.aria.qr.copyImage\'}"><span translate="general.QRCopyImage"></span></md-button><div ng-if="$ctrl.copySuccessfulImage" layout="row" layout-align="center center" layout-padding><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="check"></prm-icon><span translate="general.QRCopyLinkImage" role="alert"></span></div></div></md-content></div>');
$templateCache.put('components/search/topbar/qrCode/qr-code-dialog.html','<div layout="column" layout-align="center center"><md-dialog-content><div layout="column" layout-align="center center" class="padded-container"><img style="height: 150px; width: 150px" id="{{::$ctrl.qrImageId}}" src="{{::$ctrl.qrImageSrc}}" alt="{{\'nui.aria.qr.code\' | translate}}"> <span translate="general.QRScanCode" class="margin-top-medium margin-bottom-medium" ng-style="!$ctrl.mediaQueries.gtmd && {\'max-width\': \'250px\'}"></span><md-button ng-class="{\'mobile-button-with-text-fixed-width\': !$ctrl.mediaQueries.gtmd}" ng-click="$ctrl.copyQrImageToClipboard()" ng-hide="$ctrl.copySuccessfulImage" ng-if="$ctrl.showCopyImageButton" clipboard type="button" on-copied="$ctrl.clipboardSuccessImage() | translate" on-error="$ctrl.clipboardFailureImage(err) | translate" id="copy-qrCode-image" translate-attr="{\'aria-label\': \'nui.aria.qr.copyImage\'}"><span translate="general.QRCopyImage"></span><md-tooltip md-delay="400" ng-if="!$ctrl.mediaQueries.gtmd"><span translate="general.QRCopyLinkImage.tooltip"></span></md-tooltip></md-button><div ng-if="$ctrl.copySuccessfulImage" layout="row" layout-align="center center" layout-padding><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="check"></prm-icon><span translate="general.QRCopyLinkImage" role="alert"></span></div></div></md-dialog-content><md-dialog-actions class="animate-enter-leave-scale-bounce" layout="row" layout-align="center center"><md-button ng-class="{\'mobile-button-with-text-fixed-width\': !$ctrl.mediaQueries.gtmd}" ng-click="$ctrl.copyQrUrlToClipboard()" ng-hide="$ctrl.copySuccessful" clipboard type="button" text="$ctrl.UrlToCopy" on-copied="$ctrl.clipboardSuccess() | translate" on-error="$ctrl.clipboardFailure(err) | translate" id="copyQrCodeDialogLink" translate-attr="{\'aria-label\': \'nui.aria.qr.copy\'}"><span translate="general.QRCopyLink"></span><md-tooltip md-delay="400" ng-if="!$ctrl.mediaQueries.gtmd"><span translate="general.QRCopyLinkTextButton.tooltip"></span></md-tooltip></md-button><div ng-if="$ctrl.copySuccessful" layout="row" layout-align="center center" layout-padding><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="check"></prm-icon><span translate="general.QRCopyLinkText" role="alert"></span></div><md-button class="button-confirm animate-scale animate-enter-leave-scale-bounce" ng-class="{\'mobile-button-with-text-fixed-width\': !$ctrl.mediaQueries.gtmd}" type="submit" style="margin-right:20px;" ng-click="$ctrl.cancelQrCopy()" id="closeQrCodeDialog" translate-attr="{\'aria-label\': \'nui.aria.qr.close\'}"><span translate="general.close"></span><md-tooltip md-delay="400" ng-if="!$ctrl.mediaQueries.gtmd"><span translate="general.closeButton.tooltip"></span></md-tooltip></md-button></md-dialog-actions></div>');
$templateCache.put('components/search/topbar/qrCode/qr-code.html','<div ng-include src="$ctrl.getQrHtml()"></div><prm-qr-code-after parent-ctrl="$ctrl"></prm-qr-code-after>');
$templateCache.put('components/search/topbar/skipTo/skip-to.html','<md-button href="" tabindex="0" ng-repeat="link in $ctrl.skipLinks track by link" (click)="$ctrl.scrollToElementId(link)" aria-label="{{\'nui.aria.skip.\'+$ctrl.getLabelValue(link) | translate}}"><span translate>{{::(\'nui.aria.skip.\'+$ctrl.getLabelValue(link))}}</span></md-button><prm-skip-to-after parent-ctrl="$ctrl"></prm-skip-to-after>');
$templateCache.put('components/search/topbar/userArea/authentication.html','<md-button ng-if="!$ctrl.isLoggedInIDP()" ng-click="$ctrl.handleLogin();" aria-label="{{\'eshelf.signin.title\' | translate}}" class="button-with-icon zero-margin"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="sign-in"></prm-icon><span translate="eshelf.signin.title"></span></md-button><md-button ng-if="$ctrl.isLoggedInIDP()" ng-click="$ctrl.handleLogout(authenticationMethod);" aria-label="{{\'eshelf.signout.title.link\' | translate}}" class="button-with-icon zero-margin"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="sign-out"></prm-icon><span ng-if="!$ctrl.idpLogout" translate="eshelf.signout.title.link"></span> <span ng-if="$ctrl.idpLogout" translate="nui.bor_info_failed.signout"></span></md-button><prm-authentication-after parent-ctrl="$ctrl"></prm-authentication-after>');
$templateCache.put('components/search/topbar/userArea/user-area-expandable.html','<span id="loggedInIndicator" role="alert" class="accessible-only hidden">{{$ctrl.getRoleAlertMessage()}}</span><md-button id="signInBtn" class="user-button sign-in-btn-ctm" ng-click="$ctrl.handleLogin()" ng-if="!$ctrl.isSignedIn() && (!$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryServicePage() && !$ctrl.isDiscoveryWithExternalNoLogin())" translate-attr="{\'aria-label\': \'nui.aria.signin\'}"><span ng-if="!$ctrl.isSignedIn()" translate="eshelf.signin.title"></span> <span ng-if=""><prm-spinner class="inline-loader" ng-if="$ctrl.showSpinner()"></prm-spinner></span></md-button><md-menu md-position-mode="{{$ctrl.isRTL() ? \'target-left\' : \'target-right\'}} target" md-offset="0 60" ng-if="!$ctrl.isSignedIn()&&($ctrl.displayLanguage || $ctrl.showUserArea) && $ctrl.isShowUserMenu()"><md-button class="button-with-menu-arrow" translate-attr="{\'aria-label\': \'eshelf.signin.menu\'}" ng-click="$mdOpenMenu($event); $ctrl.mainMenuFocusedDialog()"><span translate="eshelf.signin.menu"></span> <span class="menu-arrow"></span></md-button><md-menu-content width="4" class="prm-user-menu-content"><h2 class="accessible-only" translate="nui.menu" ng-if="$ctrl.isOpenMenuDialog"></h2><md-menu-item ng-if="$ctrl.displayLanguage" class="my-languages-ctm"><md-button aria-label="{{\'eshelf.menu.displayLangNew\' | translate}}{{\' \'}}{{$ctrl.languageCode | translate}}{{\' \'}}{{\'nui.aria.clickToChange\' | translate}}" ng-click="$ctrl.showLoginDialog()" id="changeLang"><prm-icon class="rotate-20" icon-type="svg" svg-icon-set="primo-ui" icon-definition="earth"></prm-icon><span translate="eshelf.menu.displayLangNew"></span>&nbsp; <span class="bold-text" translate="mypref.language.option.{{::$ctrl.getLang()}}"></span></md-button></md-menu-item><md-menu-divider ng-if="::$ctrl.displayLanguage && $ctrl.showUserArea"></md-menu-divider><md-menu-item class="my-library-card-ctm" ng-if="::$ctrl.showUserArea && (!$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryServicePage() && !$ctrl.isDiscoveryWithExternalNoLogin())"><md-button class="button-with-icon" ng-click="$ctrl.goToMyLibraryCard()" translate-attr="{\'aria-label\': \'nui.aria.menu.librarycard\'}"><prm-icon class="rotate-20" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details"></prm-icon><span translate="nui.menu.librarycard"></span></md-button></md-menu-item><md-menu-item ng-if="::!$ctrl.isOvp() && $ctrl.showUserArea" class="ovl-button-ctm"><md-button class="button-with-icon" ng-click="$ctrl.goToUserSettings()" translate-attr="{\'aria-label\': \'nui.aria.goSettings\'}"><prm-icon class="rotate-20" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details"></prm-icon><span translate="nui.details.header.ovl"></span></md-button></md-menu-item><md-menu-divider ng-if="::$ctrl.showUserArea"></md-menu-divider><md-menu-item class="my-refworks-ctm" ng-if="::$ctrl.isRefworksActionEnabled() && $ctrl.showUserArea && !$ctrl.isRapidoSAEnabled()"><md-button class="button-with-icon refworks-user-area-btn" href="https://refworks.proquest.com/" ng-click="$ctrl.refworksWithBeacon()" target="refworks-window" translate-attr="{\'aria-label\': \'nui.aria.refWorks\'}"><prm-icon icon-type="svg" svg-icon-set="primo-actions" icon-definition="refworks"></prm-icon><span translate="eshelf.menu.refworks"></span></md-button></md-menu-item><md-menu-divider class="my-refworks-separator-ctm" ng-if="::$ctrl.isRefworksActionEnabled()  && $ctrl.showUserArea"></md-menu-divider><md-menu-item class="my-favorties-ctm" ng-if="::$ctrl.showUserArea && !$ctrl.isSummonOverAlma() && (!$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryServicePage() && !$ctrl.isDiscoveryWithExternalNoLogin()) && !$ctrl.isRapidoSAEnabled()"><md-button class="button-with-icon" ng-click="$ctrl.goToFavorties()" ui-state="$ctrl.FAVORITES_STATE" ui-state-params="$ctrl.favoritesStateParams" ui-sref-opts="{reload: true, inherit:false}" translate-attr="{\'aria-label\': \'nui.aria.favorites.goFavorites\'}"><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_pin"></prm-icon><span translate="eshelf.menu.savedItems"></span></md-button></md-menu-item><md-menu-item class="my-search-history-ctm" ng-if="::$ctrl.showUserArea && !$ctrl.isSummonOverAlma()  && (!$ctrl.isDiscoveryLocalNoLogin() && !$ctrl.isDiscoveryServicePage() && !$ctrl.isDiscoveryWithExternalNoLogin()) && !$ctrl.isRapidoSAEnabled()"><md-button class="button-with-icon" ng-click="$ctrl.goToSearchHistory()" ui-state="$ctrl.FAVORITES_STATE" ui-state-params="$ctrl.searchHistoryParams" ui-sref-opts="{reload: true, inherit:false}" translate-attr="{\'aria-label\': \'nui.aria.goHistory\'}" (keydown)="$ctrl.keydownSupportSignOut($event)"><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="restore"></prm-icon><span translate="eshelf.menu.searchHistory"></span></md-button></md-menu-item></md-menu-content></md-menu><md-menu ng-if="$ctrl.isSignedIn()" md-position-mode="{{$ctrl.isRTL() ? \'target-left\' : \'target-right\'}} target" md-offset="0 71"><md-button aria-label="{{$ctrl.userName().length==0 ? (\'nui.clisckSignIn.tooltip\' | translate) : $ctrl.userName() + \' \' + (\'nui.clisckSignOut.tooltip\' | translate)}}" class="user-button user-menu-button button-with-menu-arrow" ng-click="$mdOpenMenu($event); $ctrl.mainMenuFocusedDialog()"><span class="user-name">{{::$ctrl.userName()}}</span> <span class="menu-arrow"></span></md-button><md-menu-content width="5" class="prm-user-menu-content"><h2 class="accessible-only" translate="nui.menu"></h2><md-menu-item><div class="user-menu-header"><div layout="column" flex><span class="tiny-uppercase-text" translate="eshelf.menu.signedInAs"></span> <span class="bold-text" style="padding-right:1rem">{{$ctrl.userName()}}</span></div><md-button class="md-primary" id="signOutButton" ng-click="$ctrl.handleLogout(authenticationMethod)" aria-label="{{\'nui.aria.signOut\' | translate}}"><span class="bold-text" translate="eshelf.menu.signOut"></span></md-button></div></md-menu-item><md-menu-divider ng-if="::$ctrl.showUserArea"></md-menu-divider><md-menu-item ng-if="::!$ctrl.isOvp() && $ctrl.showUserArea" class="ovl-button-ctm"><md-button class="button-with-icon" ng-click="$ctrl.goToUserSettings()"><prm-icon class="rotate-20" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details"></prm-icon><span translate="nui.details.header.ovl"></span></md-button></md-menu-item><md-menu-item class="my-library-card-ctm" ng-if="::$ctrl.showUserArea && !$ctrl.isRapidoSAEnabled()"><md-button class="button-with-icon" ng-click="$ctrl.goToMyLibraryCard()" aria-label="{{\'nui.aria.menu.librarycard\' | translate}}"><prm-icon class="rotate-20" icon-type="svg" svg-icon-set="primo-ui" icon-definition="account-card-details"></prm-icon><span translate="nui.menu.librarycard"></span></md-button></md-menu-item><md-menu-item class="menu-item-indented my-loans-ctm" ng-if="::$ctrl.isOvp() && $ctrl.showUserArea && !$ctrl.isRapidoSAEnabled()"><md-button ng-click="$ctrl.goToLoans()" aria-label="{{\'nui.aria.menu.myLoans\' | translate}}"><span translate="eshelf.menu.myLoans"></span></md-button></md-menu-item><md-menu-item class="menu-item-indented my-requests-ctm" ng-if="::$ctrl.isOvp() && $ctrl.showUserArea"><md-button ng-click="$ctrl.goToRequests()" aria-label="{{\'nui.aria.menu.myRequests\' | translate}}"><span translate="eshelf.menu.myRequests"></span></md-button></md-menu-item><md-menu-item class="menu-item-indented my-PersonalDetails-ctm" ng-if="::$ctrl.isOvp() && $ctrl.showUserArea && $ctrl.showUserSettingBtn()"><md-button ng-click="$ctrl.goToPersonalDetails()" aria-label="{{\'nui.aria.myPersonalDetails\' | translate}}" data-qa="show_user_setting_btn"><span translate="nui.eshelf.menu.userSettings"></span></md-button></md-menu-item><md-menu-divider ng-if="::$ctrl.showUserArea"></md-menu-divider><md-menu-item class="my-refworks-ctm" ng-if="::$ctrl.isRefworksActionEnabled()  && $ctrl.showUserArea && !$ctrl.isRapidoSAEnabled()"><md-button class="button-with-icon refworks-user-area-btn" href="https://refworks.proquest.com/" ng-click="$ctrl.refworksWithBeacon()" target="refworks-main-menu" aria-label="{{\'nui.aria.refWorks\' | translate}}"><prm-icon icon-type="svg" svg-icon-set="primo-actions" icon-definition="refworks"></prm-icon><span translate="eshelf.menu.refworks"></span></md-button></md-menu-item><md-menu-divider class="my-refworks-separator-ctm" ng-if="::$ctrl.isRefworksActionEnabled()  && $ctrl.showUserArea && !$ctrl.isRapidoSAEnabled()"></md-menu-divider><md-menu-item class="my-favorties-ctm" ng-if="::$ctrl.showUserArea && !$ctrl.isSummonOverAlma() && !$ctrl.isRapidoSAEnabled()"><md-button class="button-with-icon" ng-click="$ctrl.goToFavorties()" ui-state="$ctrl.FAVORITES_STATE" ui-state-params="$ctrl.favoritesStateParams" ui-sref-opts="{reload: true, inherit:false}" aria-label="{{\'nui.aria.favorites.goFavorites\' | translate}}"><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="prm_pin"></prm-icon><span translate="eshelf.menu.savedItems"></span></md-button></md-menu-item><md-menu-item class="my-search-history-ctm" ng-if="::$ctrl.showUserArea && !$ctrl.isSummonOverAlma() && !$ctrl.isRapidoSAEnabled()"><md-button class="button-with-icon" ng-click="$ctrl.goToSearchHistory()" ui-state="$ctrl.FAVORITES_STATE" ui-state-params="$ctrl.searchHistoryParams" ui-sref-opts="{reload: true, inherit:false}" aria-label="{{\'nui.aria.goHistory\' | translate}}"><prm-icon class="rotate-25" icon-type="svg" svg-icon-set="primo-ui" icon-definition="restore"></prm-icon><span translate="eshelf.menu.searchHistory"></span></md-button></md-menu-item><md-menu-divider ng-if="$ctrl.displayLanguage"></md-menu-divider><md-menu-item ng-if="$ctrl.displayLanguage" class="my-languages-ctm"><md-button aria-label="{{\'eshelf.menu.displayLangNew\' | translate}}{{\' \'}}{{$ctrl.languageCode | translate}}{{\' \'}}{{\'nui.aria.clickToChange\' | translate}}" ng-click="$ctrl.showLoginDialog()" (keydown)="$ctrl.keydownSupportSignIn($event)"><prm-icon class="rotate-20" icon-type="svg" svg-icon-set="primo-ui" icon-definition="earth"></prm-icon><span translate="eshelf.menu.displayLangNew"></span>&nbsp; <span class="bold-text" translate="mypref.language.option.{{::$ctrl.getLang()}}"></span></md-button></md-menu-item></md-menu-content></md-menu><prm-user-area-expandable-after parent-ctrl="$ctrl"></prm-user-area-expandable-after>');
$templateCache.put('components/search/topbar/userArea/user-area.html','<span id="loggedInIndicator" role="alert" class="accessible-only hidden" ng-style="::{\'display\': $ctrl.isBlocked}">{{::$ctrl.getRoleAlertMessage()}}</span><md-button tabindex="-1" class="user-menu-button accessible-only" aria-label="{{::$ctrl.signInOrOutTooltipLabel}}" ng-click="$event.stopPropagation();$ctrl.enableMobileMenu()" hide-xs><div class="user-button-text" layout="column" layout-align="center start"><span class="user-name">{{$ctrl.displayedUser}} </span><span class="user-language text-uppercase" ng-if="$ctrl.displayLanguage" translate="mypref.language.option.{{$ctrl.selectedLanguage}}"></span></div></md-button><md-button class="user-menu-button" aria-label="{{::$ctrl.signInOrOutTooltipLabel}}" (click)="$ctrl.changUserStatus()" hide-xs><div class="user-menu-button-loader ng-scope layout-align-center-center layout-row" layout="row" layout-align="center center"><prm-spinner class="inline-loader ng-isolate-scope half-transparent no-text" ng-if="$ctrl.showSpinner()"></prm-spinner></div><div ng-if="!$ctrl.showSpinner()" ng-class="{\'user-button-text\': $ctrl.userName().length > 0}" layout="column" layout-align="center start"><span class="user-name">{{$ctrl.displayedUser}} </span><span class="user-language text-uppercase" ng-if="$ctrl.displayLanguage" translate="mypref.language.option.{{$ctrl.selectedLanguage}}"></span></div><md-tooltip md-direction="down" md-delay="400"><span ng-if="$ctrl.userName().length == 0" translate="nui.clisckSignIn.tooltip"></span> <span ng-if="$ctrl.userName().length > 0" translate="nui.clisckSignOut.tooltip"></span></md-tooltip></md-button><md-button class="mobile-menu-button zero-margin" aria-label="{{::$ctrl.signInOrOutTooltipLabel}}" (click)="$ctrl.enableMobileMenu()" style="min-width: 60px" ng-if="$ctrl.detectMobile()"><prm-icon [icon-type]="::$ctrl.topBarIcons.more.type" [svg-icon-set]="::$ctrl.topBarIcons.more.iconSet" [icon-definition]="::$ctrl.topBarIcons.more.icon"></prm-icon></md-button><md-fab-toolbar md-direction="left" md-open="$ctrl.showUserMenu" hide-xs (keydown)="$ctrl.keydownSupport($event)"><md-fab-trigger class="align-with-text" ng-class="{\'show-user-info\': $ctrl.userName().length > 0}"><md-button aria-hidden="true" tabindex="-1" class="button-with-icon zero-margin" aria-label="{{::$ctrl.signInOrOutTooltipLabel}}"><div style="opacity: 0;" class="user-button-text" layout="column" layout-align="center start"><span class="user-name">{{$ctrl.displayedUser}}</span> <span class="user-language" ng-if="$ctrl.displayLanguage" translate="mypref.language.option.{{$ctrl.selectedLanguage}}"></span></div></md-button></md-fab-trigger><md-toolbar><md-fab-actions class="md-toolbar-tools zero-padding buttons-group"><prm-authentication layout="flex" [is-logged-in]="$ctrl.userName().length > 0"></prm-authentication><prm-change-lang aria-label="{{\'eshelf.signin.title\' | translate}}" ng-if="$ctrl.displayLanguage" label-type="icon"></prm-change-lang><prm-library-card-menu ng-if="::$ctrl.showUserArea"></prm-library-card-menu></md-fab-actions></md-toolbar></md-fab-toolbar><prm-user-area-after parent-ctrl="$ctrl"></prm-user-area-after>');
$templateCache.put('components/search/virtualBrowse/virtualBrowseItem/virtual-browse-item.html','<md-card><md-tooltip class="multi-row-tooltip" md-visible="isVisible" md-direction="top" md-delay="$ctrl.tooltipDelay"><prm-virtual-browse-item-info [virtual-browse-item]="$ctrl.virtualBrowseItem"></prm-virtual-browse-item-info></md-tooltip><div class="card-image"><prm-search-result-thumbnail-container ng-if="$ctrl.renderFlag && $ctrl.virtualBrowseItem.recordId" class="md-card-image" [is-virtual-browse]="true" [links]="$ctrl.virtualBrowseItem.thumbnails" [pnx-id]="$ctrl.virtualBrowseItem.recordId" [virtual-browse-item]="$ctrl.virtualBrowseItem"></prm-search-result-thumbnail-container></div><md-card-title><md-card-title-text>{{$ctrl.virtualBrowseItem.title}}</md-card-title-text></md-card-title><md-card-content><p class="zero-margin"><span class="weak-text">{{$ctrl.virtualBrowseItem.date}}</span></p></md-card-content></md-card><prm-virtual-browse-item-after parent-ctrl="$ctrl"></prm-virtual-browse-item-after>');
$templateCache.put('components/search/virtualBrowse/virtualBrowseItemInfo/virtual-browse-item-info.html','<div layout="column"><h3 class="bold-text">{{$ctrl.virtualBrowseItem.title}}</h3><p><span>{{$ctrl.virtualBrowseItem.author}}</span> <span>{{$ctrl.virtualBrowseItem.date}}</span></p><p><span>{{$ctrl.virtualBrowseItem.callNumber}}</span></p></div><prm-virtual-browse-item-info-after parent-ctrl="$ctrl"></prm-virtual-browse-item-info-after>');
$templateCache.put('components/security/login/loginHelp/login-help.html','<div layout="column" layout-align="center center " class="collapsable-container" ng-class="$ctrl.showMoreInfo ? \'collapsed\':\'expanded\' "><md-button class="button-as-link" ng-show="$ctrl.showMoreInfoButton" ng-click="$ctrl.toggleShowMoreInfo()" tabindex="0"><span translate="nui.login.help"></span></md-button><md-content layout="column" layout-padding ng-show="$ctrl.showMoreInfo"><div ng-repeat="helpLink in $ctrl.loginHelpLinks"><a href="{{ helpLink.linkURL }}" target="_blank"><span translate="{{helpLink.label}}"></span><prm-icon external-link [icon-type]="::$ctrl.loginIcons.externalLinkIcon.type" [svg-icon-set]="::$ctrl.loginIcons.externalLinkIcon.iconSet" [icon-definition]="::$ctrl.loginIcons.externalLinkIcon.icon"></prm-icon></a></div><p ng-show="$ctrl.showHelpDescription" translate="nui.help.description"></p></md-content></div><prm-login-help-after parent-ctrl="$ctrl"></prm-login-help-after>');
$templateCache.put('components/security/login/loginItem/login-item.html','<div class="md-list-item-text" layout="column"><div layout="row"><span class="list-item-title md-display-3" translate="{{$ctrl.getProfileLinkForDisplay( $ctrl.authenticationMethod.index )}}"></span><prm-icon external-link ng-show="$ctrl.authenticationMethod.isExternal()" icon-type="{{::$ctrl.loginIcons.externalLinkIcon.type}}" svg-icon-set="{{::$ctrl.loginIcons.externalLinkIcon.iconSet}}" icon-definition="{{::$ctrl.loginIcons.externalLinkIcon.icon}}"></prm-icon></div><p translate="{{$ctrl.getProfileLinkDescriptionForDisplay( $ctrl.authenticationMethod.index )}}"></p></div><prm-login-item-after parent-ctrl="$ctrl"></prm-login-item-after>');
$templateCache.put('components/security/login/selfRegistration/selfRegistration.html','<div class="self_registration_form_wrapper"><h4 class="form_title" translate="nui.login.selfRegistrationForm.title"></h4><div class="text_wrapper"><div class="validation_msg" ng-if="$ctrl.showPasswordValidationMsg"><span role="alert" translate="nui.selfRegistrationForm.passwordValidationMsg"></span></div><div class="validation_msg" ng-if="$ctrl.showUserValidationMsg"><span role="alert" translate="nui.selfRegistrationForm.userValidationMsg"></span></div></div><form class="self_registration_form" name="selfRegistrationForm" ng-if="$ctrl.showForm" layout="column"><div class="form_item"><prm-form-field class="form_field" [field]="$ctrl.registrationType" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'USER_NAME\')"><prm-form-field class="form_field" [field]="$ctrl.userName" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_row"><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'PASSWORD\')"><prm-form-field class="form_field" [field]="$ctrl.password" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'CONFIRM_PASSWORD\')"><prm-form-field class="form_field" [field]="$ctrl.confirmPassword" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div></div><div class="form_item" ng-if="$ctrl.showOrganizationFields() && $ctrl.isFormEnabled(\'COMPANY_NAME\')"><prm-form-field class="form_field" [field]="$ctrl.companyName" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_row"><div class="form_item" ng-if="$ctrl.showIndividualFields() && $ctrl.isFormEnabled(\'FIRST_NAME\')"><prm-form-field class="form_field" [field]="$ctrl.firstName" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showIndividualFields() && $ctrl.isFormEnabled(\'LAST_NAME\')"><prm-form-field class="form_field" [field]="$ctrl.lastName" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div></div><div class="form_item" ng-if="$ctrl.showIndividualFields() && $ctrl.isFormEnabled(\'EMAIL\')"><prm-form-field class="form_field" [field]="$ctrl.email" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'ADDRESS_LINE_1\')"><prm-form-field class="form_field" [field]="$ctrl.addressLine1" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'ADDRESS_LINE_2\')"><prm-form-field class="form_field" [field]="$ctrl.addressLine2" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_row"><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'CITY\')"><prm-form-field class="form_field" [field]="$ctrl.city" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'STATE\')"><prm-form-field class="form_field" [field]="$ctrl.state" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div></div><div class="form_row"><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'ZIP_CODE\')"><prm-form-field class="form_field" [field]="$ctrl.zipCode" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'COUNTRY\')"><prm-form-field class="form_field" [field]="$ctrl.country" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div></div><div class="form_row"><div class="form_item" ng-if="$ctrl.showOrganizationFields() && $ctrl.isFormEnabled(\'PRIMARY_CONTACT_FIRST_NAME\')"><prm-form-field class="form_field" [field]="$ctrl.primaryContactFirstName" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showOrganizationFields() && $ctrl.isFormEnabled(\'PRIMARY_CONTACT_LAST_NAME\')"><prm-form-field class="form_field" [field]="$ctrl.primaryContactLastName" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div></div><div class="form_item" ng-if="$ctrl.showOrganizationFields() && $ctrl.isFormEnabled(\'PRIMARY_CONTACT_EMAIL\')"><prm-form-field class="form_field" [field]="$ctrl.primaryContactEmail" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'PHONE_NUMBER\')"><prm-form-field class="form_field" [field]="$ctrl.phoneNumber" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="form_item compliance_statement" ng-if="$ctrl.showFields() && $ctrl.isFormEnabled(\'COMPLIANCE_STATEMENT\')"><prm-form-field class="form_field" [field]="$ctrl.complianceStatement" [data]="$ctrl.formData" [form]="::this.selfRegistrationForm"></prm-form-field></div><div class="margin-buttons"><md-button class="button-secondary" (click)="$ctrl.cancelRegistrationClicked()"><span translate="nui.selfRegistrationForm.cancel"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.registerInProgress" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.selfRegistrationForm.register" | translate}}</span></md-button></div></form></div><prm-self-registration-after parent-ctrl="$ctrl"></prm-self-registration-after>');
$templateCache.put('components/security/login/unionCatalogLogin/union-catalog-login.html','<div class="layout-full-width" layout="column"><div layout="row" layout-align="center center" style="margin-top: 1.5em; min-height: 40px;" class="layout-align-center-center layout-row"><h2 class="md-headline light-text" layout="row" layout-align="center center"><span translate="login.dual.title"></span></h2></div><md-dialog-content><md-content><md-list role="list" class="padded-container"><div class="filter-institution-union-catalog" layout="column" layout-align="start center"><md-input-container class="centered-input"><label translate="login.union.title" class="text-uppercase"></label> <input type="text" ng-model="searchText"/></md-input-container></div><md-list-item ng-repeat="institutionDetails in $ctrl.unionCatalogInstitutionsList | filter:searchText | orderBy:\'name\'" class="md-2-line md-long-text disable-hover list-login" ng-click="$ctrl.goToInstitutionLogin( institutionDetails )" aria-label="{{institutionDetails.name}}"><prm-union-catalog-login-institution-item [institution-details]="institutionDetails"></prm-union-catalog-login-institution-item><div class="md-secondary"><prm-icon [icon-type]="::$ctrl.loginIcons.gotoLinkIcon.type" [svg-icon-set]="::$ctrl.loginIcons.gotoLinkIcon.iconSet" [icon-definition]="::$ctrl.loginIcons.gotoLinkIcon.icon"></prm-icon></div></md-list-item><md-list-item ng-repeat="directLoginDetails in $ctrl.directLoginList | filter:searchText | orderBy:\'name\'" class="md-2-line md-long-text disable-hover list-login" ng-href="{{directLoginDetails.link}}" target="_self" aria-label="{{directLoginDetails.name}}"><prm-union-catalog-login-institution-item [institution-details]="directLoginDetails"></prm-union-catalog-login-institution-item><div class="md-secondary"><prm-icon [icon-type]="::$ctrl.loginIcons.gotoLinkIcon.type" [svg-icon-set]="::$ctrl.loginIcons.gotoLinkIcon.iconSet" [icon-definition]="::$ctrl.loginIcons.gotoLinkIcon.icon"></prm-icon></div></md-list-item></md-list></md-content></md-dialog-content><md-dialog-actions class="animate-enter-leave-scale-bounce" layout="row" layout-align="center center" ng-if="!hideActionsBar"><md-button ng-if="!$ctrl.standAlone()" class="button-large" ng-click="$ctrl.cancelLogin()" aria-label="{{\'nui.aria.login.cancel\' | translate}}"><span translate="login.cancel"></span></md-button></md-dialog-actions></div><prm-union-catalog-login-after parent-ctrl="$ctrl"></prm-union-catalog-login-after>');
$templateCache.put('components/collectionDiscovery/collectionGallery/galleryCollectionsList/galleryCollection/gallery-collection.html','<a class="collection-folder" layout="column" ng-mouseenter="$ctrl.showFolderInfo = true" ng-mouseleave="$ctrl.showFolderInfo = false" ng-class="{\'is-active\': $ctrl.showFolderInfo}" ng-click="$ctrl.sendCollectionDiscoveryBeacon()" ui-state="$ctrl.COLLECTION_DISCOVERY_STATE" ui-state-params="$ctrl.collectionStateParams" ui-sref-opts="{reload: true, inherit:false, }" aria-label="{{::$ctrl.title | translate}}{{\' \'}}{{::(\'nui.aria.collectionDiscovery.collectionFolder\' | translate:{\'idx_1\': $ctrl.index, \'idx_2\': $ctrl.totalCollections})}}{{\' \'}}{{$ctrl.description | translate}}" role="application"><div class="collection-overlay" layout="column" layout-align="start-start"><div class="item-title" layout="column" layout-align="start start"><div class="item-meta" layout-align="start-center"><span ng-if="!$ctrl.isGalleryLobby" class="item-type">{{\'nui.colldiscovery.subcollection.title\' | translate}}</span> <span ng-if="$ctrl.isGalleryLobby" class="item-type">{{\'nui.colldiscovery.collection.title\' | translate}}</span></div><h3><span>{{::$ctrl.title}}</span></h3></div><div class="item-info"><div class="item-meta" layout-align="start-center"><span class="item-type">{{\'nui.colldiscovery.subcollections.title\' | translate}}</span></div><h3><span>{{$ctrl.title}}</span></h3><p ng-click="$ctrl.checkClick($event)" ng-bind-html="$ctrl.description"></p></div></div><div class="collection-images" layout="row" layout-wrap flex><div ng-repeat="thumbnail in $ctrl.thumbnails track by $index" style="background-image: url({{thumbnail}}); height: inherit"></div></div><div class="item-actions result-item-actions" ng-if="!$ctrl.isRapidoSAEnabled"><prm-save-to-favorites-button [recordid]="::$ctrl.collectionRecordId" [get-record-function]="::$ctrl.getRecordFunction" [is-collection-discovery]="true" [collection]="::$ctrl.collection"></prm-save-to-favorites-button></div></a><prm-gallery-collection-after parent-ctrl="$ctrl"></prm-gallery-collection-after>');
$templateCache.put('components/collectionDiscovery/collectionGallery/galleryItemsList/galleryItem/gallery-item.html','<span class="urlToXmlPnx" title="{{::$ctrl.getPnxInXmlUrl()}}" aria-hidden="true" data-url="{{::$ctrl.getPnxInXmlUrl()}}"></span><div class="collection-element" ng-click="$ctrl.openFullViewDialog($event)" ng-if="::$ctrl.itemsViewStyle === \'gallery\'" ng-mouseenter="$ctrl.itemInFocus = true" ng-mouseleave="$ctrl.itemInFocus = false" ng-class="{\'is-active\': $ctrl.itemInFocus}" aria-label="{{::\'mediatype.\'+$ctrl.type | translate}} - {{::$ctrl.title}}, {{::\'nui.aria.collectionDiscovery.collectionItem\' | translate: {\'idx_1\': $ctrl.index, \'idx_2\': $ctrl.totalItems} }}" role="application"><prm-spinner class="inline-loader display-inline dark-on-light half-transparent" ng-if="$ctrl.item.rtaInProgress"></prm-spinner><figure><div class="image-holder" layout="row" layout-align="center center"><prm-search-result-thumbnail-container class="media-content-images" ng-class="::{\'dedup-images-holder\' : $ctrl.isMultipleVersions() && !$ctrl.isFavoriteState()}" [item]="::$ctrl.item" [links]="::$ctrl.item.delivery.link" [frbr]="false" [is-frbr-generic]="false"></prm-search-result-thumbnail-container></div></figure><div class="item-info"><span class="resource-type"><span class="tiny-uppercase-text">{{::\'mediatype.\'+$ctrl.type | translate}}</span></span><h3 class="item-title">{{::$ctrl.title}}</h3><p class="item-displayLine">{{card.DisplayLine1}}</p></div><div class="item-actions result-item-actions" ng-if="!$ctrl.isRapidoSAEnabled"><prm-save-to-favorites-button [item]="$ctrl.item" [is-favorites]="false" [index]="$ctrl.index + 1" [is-collection-discovery]="true"></prm-save-to-favorites-button></div></div><div class="collection-element" ng-click="$ctrl.openFullViewDialog($event)" layout="column" ng-if="::$ctrl.itemsViewStyle === \'grid\'" ng-mouseenter="$ctrl.itemInFocus = true" ng-mouseleave="$ctrl.itemInFocus = false" ng-class="{\'is-active\': $ctrl.itemInFocus}" aria-label="{{::\'mediatype.\'+$ctrl.type | translate}} - {{::$ctrl.title}}, {{::\'nui.aria.collectionDiscovery.collectionItem\' | translate: {\'idx_1\': $ctrl.index, \'idx_2\': $ctrl.totalItems} }}" role="application"><prm-spinner class="inline-loader display-inline dark-on-light half-transparent" ng-if="$ctrl.item.rtaInProgress"></prm-spinner><figure><div class="image-holder" layout="row" layout-align="center center"><prm-search-result-thumbnail-container class="media-content-images" ng-class="::{\'dedup-images-holder\' : $ctrl.isMultipleVersions() && !$ctrl.isFavoriteState()}" [item]="::$ctrl.item" [links]="::$ctrl.item.delivery.link" [frbr]="false" [is-frbr-generic]="false"></prm-search-result-thumbnail-container></div><div class="item-actions result-item-actions" ng-if="!$ctrl.isRapidoSAEnabled"><prm-save-to-favorites-button [item]="$ctrl.item" [is-favorites]="false" [index]="$ctrl.index + 1" [is-collection-discovery]="true"></prm-save-to-favorites-button></div></figure><div class="item-info"><span class="resource-type"><span class="tiny-uppercase-text">{{::\'mediatype.\'+$ctrl.type | translate}}</span></span><h3 class="item-title">{{::$ctrl.title}}</h3><p class="item-displayLine">{{item.DisplayLine1}}</p></div></div><prm-gallery-item-after parent-ctrl="$ctrl"></prm-gallery-item-after>');
$templateCache.put('components/infra/widgets/alerts/alertTemplates/general.html','<div layout="row" class="bar alert-bar zero-margin-bottom" layout-align="center center"><span class="bar-text margin-right-small" dynamic-html="$ctrl.htmlMsg"></span><md-button (click)="$ctrl.onClose()"><prm-icon icon-type="{{::$ctrl.favoritesIcons.removeLabel.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.removeLabel.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.removeLabel.icon}}"></prm-icon><span translate="nui.message.dismiss"></span></md-button></div>');
$templateCache.put('components/infra/widgets/alerts/alertTemplates/requestAlert.html','<div layout="row" class="bar alert-bar zero-margin-bottom" layout-align="center center" dynamic-html="$ctrl.htmlMsg"></div>');
$templateCache.put('components/infra/widgets/alerts/alertTemplates/signIn.html','<div layout="row" class="bar alert-bar" layout-align="center center" ng-if="$ctrl.showMessage() && $ctrl.isGuestOrOffcampusForSignIn()"><span class="bar-text" translate="{{$ctrl.htmlMsg}}" translate-values="{{$ctrl.msgValues}}"></span><prm-authentication [is-logged-in]="$ctrl.userName().length > 0" [idp-logout]="$ctrl.idpLogout" flex="none"></prm-authentication><md-divider></md-divider><md-button aria-label="{{::(\'nui.message.dismiss\' | translate)}}" (click)="$ctrl.onClose()" class="dismiss-alert-button zero-margin" ng-class="$ctrl.mediaQueries.xs ? \'md-icon-button\' : \'button-with-icon\' "><prm-icon icon-type="{{::$ctrl.favoritesIcons.removeLabel.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.removeLabel.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.removeLabel.icon}}"></prm-icon><span translate="nui.message.dismiss" hide-xs></span></md-button></div>');
$templateCache.put('components/infra/widgets/alerts/alertTemplates/simple.html','<div layout="row" class="bar alert-bar zero-margin-bottom" layout-align="center center"><span class="bar-text" translate="{{$ctrl.htmlMsg}}"></span><md-button (click)="$ctrl.onClose()"><prm-icon icon-type="{{::$ctrl.favoritesIcons.removeLabel.type}}" svg-icon-set="{{::$ctrl.favoritesIcons.removeLabel.iconSet}}" icon-definition="{{::$ctrl.favoritesIcons.removeLabel.icon}}"></prm-icon><span translate="nui.message.dismiss"></span></md-button></div>');
$templateCache.put('components/infra/widgets/alerts/alertTemplates/simpleWithoutDismiss.html','<div layout="row" class="bar alert-bar zero-margin-bottom" layout-align="center center"><span class="bar-text" translate="{{$ctrl.htmlMsg}}"></span></div>');
$templateCache.put('components/search/actions/mendeleyAction/mendeleyToast/mendeley-toast.html','<md-toast ng-class="{\'mobile-define\':$ctrl.detectMobile(),\'layout-column\':$ctrl.detectMobile()}" class="md-toast-content" role="alert"><div ng-if="$ctrl.isSuccess && !$ctrl.inProgress" layout="row" layout-align="center center" class="md-toast-content" style="justify-content: center;"><prm-icon class="prm-positive md-toast-icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="check"></prm-icon><div class="md-toast-text"><span translate="nui.mendeley.message.exported"></span><span ng-if="$ctrl.title"><span>:</span><span>&nbsp;</span><span class="md-toast-text-block"><span>"</span><span class="md-toast-text-ellipsis" dir="auto">{{$ctrl.title}}</span><span>"</span></span></span></div></div><div ng-if="$ctrl.inProgress" layout="row" layout-align="center center" class="md-toast-content" style="justify-content: center;"><span class="md-toast-text" translate="nui.mendeley.message.exporting"></span></div><div ng-if="!$ctrl.isSuccess && !$ctrl.inProgress" layout="row" layout-align="center center" class="md-toast-content" style="justify-content: center;"><prm-icon class="prm-warn md-toast-icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="error-outline"></prm-icon><div class="md-toast-text"><span translate="nui.mendeley.message.failed"></span><span ng-if="$ctrl.title"><span>:</span><span>&nbsp;</span><span class="md-toast-text-block"><span>"</span><span class="md-toast-text-ellipsis" dir="auto">{{$ctrl.title}}</span><span>"</span></span></span></div><md-button ng-if="!$ctrl.detectMobile()" ng-click="$ctrl.onDismiss()" aria-label="{{::(\'nui.message.dismiss\' | translate)}}"><span class="ng-scope" translate="nui.message.dismiss"></span></md-button></div><div ng-if="!$ctrl.isSuccess && !$ctrl.inProgress && $ctrl.detectMobile()" div layout="row" layout-align="center center" class="md-toast-content" style="justify-content: center;"><md-button ng-click="$ctrl.onDismiss()" aria-label="{{::(\'nui.message.dismiss\' | translate)}}"><span class="ng-scope" translate="nui.message.dismiss"></span></md-button></div></md-toast><prm-mendeley-toast-after parent-ctrl="$ctrl"></prm-mendeley-toast-after>');
$templateCache.put('components/search/fullView/getit/almaMashup/almaMashup.html','<form target="{{$ctrl.getTargetName()}}" method="post" action="{{$ctrl.linkPart}}" id="{{$ctrl.serviceName}}MashupForm" ng-if="::$ctrl.isFormAvailable()" style="display: none"><input type="hidden" ng-repeat="param in $ctrl.jsonPart" name="{{param.name}}" value="{{param.value}}"><md-button type="submit"></md-button></form><iframe iframe-onload="{{::$ctrl.iframeResize(\'Almaviewit\')}}" class="mashup-iframe" ng-src="{{$ctrl.getLink()}}" style="width:100%;border:none;" ng-if="::$ctrl.isLinkAvailable() && !$ctrl.isAlmaGetit()" name="AlmaviewitMashupIframe" ng-style="::(!$ctrl.isAlmaIframe && {\'height\':\'211px\'})"></iframe><iframe iframe-onload="{{::$ctrl.iframeResize(\'Almagetit\')}}" class="mashup-iframe" ng-src="{{$ctrl.getLink()}}" ng-style="::(!$ctrl.isAlmaIframe && {\'height\':\'211px\'})" style="width:100%;border:none;" ng-if="::$ctrl.isLinkAvailable() && $ctrl.isAlmaGetit()" name="AlmagetitMashupIframe"></iframe><prm-alma-mashup-after parent-ctrl="$ctrl"></prm-alma-mashup-after>');
$templateCache.put('components/search/fullView/getit/almaMoreInst/alma-more-inst.html','<h3 class="medium-uppercase-bold"><span translate="nui.brief.results.tabs.getit_other"></span></h3><md-tabs md-dynamic-height md-selected="$ctrl.selectedTab" class="tabs-as-app hidden-tabs"><md-tab label="Institutions List" id="{{$ctrl.TABS.INST_LIST}}"><md-content><md-list><md-list-item class="md-2-line separate-list-items narrow-list-item" ng-repeat="almaInst in $ctrl.getInstitutions()"><md-button class="neutralized-button layout-full-width layout-display-flex" (click)="$ctrl.selectedTab = $ctrl.TABS.MASHUP; $ctrl.loadMashup(almaInst)"><div layout="row" flex="100" layout-align="space-between center"><div class="md-list-item-text"><h3 translate="{{almaInst.inst}}"></h3><p><span class="availability-status {{almaInst.availabilityStatus}}" translate="fulldisplay.availabilty.{{almaInst.availabilityStatus}}"></span></p></div><prm-icon icon-type="{{$ctrl.opacLocations.rightArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.rightArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.rightArrow.icon}}"></prm-icon></div></md-button></md-list-item></md-list></md-content></md-tab><md-tab label="Alma Mashup" id="{{$ctrl.TABS.MASHUP}}"><md-button (click)="$ctrl.selectedTab = $ctrl.TABS.INST_LIST; $ctrl.unloadMashup()" class="back-button button-with-icon zero-margin"><prm-icon icon-type="{{$ctrl.opacLocations.leftArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.leftArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.leftArrow.icon}}"></prm-icon><span translate="nui.getit_other.back"></span></md-button><prm-alma-mashup ng-if="$ctrl.links.length > 0" [links-array]="$ctrl.links"></prm-alma-mashup></md-tab></md-tabs><prm-alma-more-inst-after parent-ctrl="$ctrl"></prm-alma-more-inst-after>');
$templateCache.put('components/search/fullView/getit/almaOtherMembers/alma-other-members.html','<md-button class="section-title" layout-fill aria-expanded="{{!$ctrl.isCollapsed}}" (click)="$ctrl.collapseSection($event)" ng-class="{\'collapsed\': $ctrl.isCollapsed}" id="alma_other_members"><div layout="row" layout-align="start center"><div class="medium-uppercase-bold bold"><br><span translate="{{::$ctrl.label}}"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right" ng-class="{\'rotate-90\': !$ctrl.isCollapsed}"></prm-icon></div></div></md-button><prm-spinner class="margin-left-medium inline-loader dark-on-light ng-scope ng-isolate-scope" ng-if="$ctrl.loadOtherMemberInProgress || $ctrl.opacRequestInProgress"></prm-spinner><md-tabs md-dynamic-height md-selected="$ctrl.selectedTab" class="tabs-as-app hidden-tabs section-content animate-max-height-variable" ng-hide="$ctrl.isCollapsed"><md-tab label="Institutions List" id="{{$ctrl.TABS.INST_LIST}}"><md-content><md-list><md-list-item class="md-2-line separate-list-items narrow-list-item" ng-repeat="almaInst in $ctrl.getInstitutions()"><md-button class="neutralized-button layout-full-width layout-display-flex" (click)="$ctrl.selectedTab = $ctrl.TABS.OPAC; $ctrl.loadOtherMember(almaInst)"><div layout="row" flex="100" layout-align="space-between center"><div class="md-list-item-text"><p class="inst-name">{{almaInst.instName}}</p><p><span class="availability-status {{almaInst.availabilityStatus}}" translate="fulldisplay.otherMembers.availabilty.{{almaInst.availabilityStatus}}"></span></p></div><prm-icon icon-type="{{$ctrl.opacLocations.rightArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.rightArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.rightArrow.icon}}"></prm-icon></div></md-button></md-list-item></md-list></md-content></md-tab><md-tab label="Alma Member Getit" id="{{$ctrl.TABS.OPAC}}"><md-button (click)="$ctrl.selectedTab = $ctrl.TABS.INST_LIST" class="back-button button-with-icon zero-margin"><prm-icon icon-type="{{$ctrl.opacLocations.leftArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.leftArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.leftArrow.icon}}"></prm-icon><span translate="nui.getit_other.back"></span></md-button><prm-opac ng-if="$ctrl.memberItem && $ctrl.availabilityType === \'P\' && !$ctrl.loadOtherMemberInProgress" [item]="$ctrl.memberItem" [member-inst]="$ctrl.memberInst" [service-mode]="$ctrl.serviceMode" [register-user]="$ctrl.registerUser" [service-scroll-id]="::$ctrl.serviceScrollId" [is-overlay-full-view]="::$ctrl.isOverlayFullView"></prm-opac><prm-alma-viewit-items ng-repeat="service in ::$ctrl.servicesList" ng-if="$ctrl.memberItem && $ctrl.availabilityType === \'E\' && !$ctrl.loadOtherMemberInProgress && $ctrl.getServices(service.name) && $ctrl.getServices(service.name).length" [service-type]="::service.name" [services]="::$ctrl.getServices(service.name)" [read-only]="true" [header]="service.header"></prm-alma-viewit-items></md-tab></md-tabs><prm-alma-other-members-after parent-ctrl="$ctrl"></prm-alma-other-members-after>');
$templateCache.put('components/search/fullView/getit/almaOtherUnits/alma-other-units.html','<md-button class="section-title" layout-fill aria-expanded="{{!$ctrl.isCollapsed}}" (click)="$ctrl.collapseSection($event)" ng-class="{\'collapsed\': $ctrl.isCollapsed}"><div layout="row" layout-align="start center"><h3 class="medium-uppercase-bold"><br><span translate="{{::$ctrl.label}}"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right" ng-class="{\'rotate-90\': !$ctrl.isCollapsed}"></prm-icon></h3></div></md-button><md-tabs md-dynamic-height md-selected="$ctrl.selectedTab" class="tabs-as-app hidden-tabs section-content animate-max-height-variable" ng-hide="$ctrl.isCollapsed"><md-tab label="Units List" id="{{::$ctrl.TABS.UNITS_LIST}}"><md-content><md-list><md-list-item class="md-2-line separate-list-items narrow-list-item" ng-repeat="almaUnit in ::$ctrl.getUnits()"><md-button class="neutralized-button layout-full-width layout-display-flex" (click)="$ctrl.selectedTab = $ctrl.TABS.UNIT_SERVICES; $ctrl.selectedUnit = almaUnit"><div layout="row" flex="100" layout-align="space-between center"><div class="md-list-item-text"><h3>{{::almaUnit.unitName}}</h3><p><span class="availability-status available_online" translate="fulldisplay.otherMembers.availabilty.available_online"></span></p></div></div></md-button></md-list-item></md-list></md-content></md-tab><md-tab label="Alma Unit Viewit" id="{{::$ctrl.TABS.UNIT_SERVICES}}"><md-button (click)="$ctrl.selectedTab = $ctrl.TABS.UNITS_LIST; $ctrl.selectedUnit = undefined" class="back-button button-with-icon zero-margin"><span translate="nui.getit_other.back"></span></md-button><prm-alma-viewit-items ng-if="$ctrl.selectedUnit" [services]="$ctrl.selectedUnit.services" [read-only]="true" [header]="\'viewit.fulltext\'"></prm-alma-viewit-items></md-tab></md-tabs><prm-alma-other-units-after parent-ctrl="$ctrl"></prm-alma-other-units-after>');
$templateCache.put('components/search/fullView/getit/almaViewit/almaViewit.html','<prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="!$ctrl.isCalculateSvcDone"></prm-spinner><prm-alert-bar [alert-object]="$ctrl.reqAlert" ng-if="$ctrl.isCalculateSvcDone && $ctrl.showReqAlert()"></prm-alert-bar><prm-alma-viewit-items ng-repeat="service in $ctrl.servicesList" ng-if="($ctrl.isCalculateSvcDone && $ctrl.getServices(service.name) && $ctrl.getServices(service.name).length) && !$ctrl.showAdditionalServices" [service-type]="service.name" [services]="$ctrl.getServices(service.name)" [related-only]="$ctrl.isRelatedOnly(service.name)" [related]="$ctrl.isRelated(service.name)" [read-only]="false" [sub-header]="service.subHeader" [header]="service.header"></prm-alma-viewit-items><prm-additional-services ng-if="$ctrl.showAdditionalServices && $ctrl.item.delivery.additionalElectronicServices" [item]="::$ctrl.item"></prm-additional-services><md-button ng-if="$ctrl.displayShowMoreButton() && $ctrl.isCalculateSvcDone" class="button-link show-more-less-btn first-letter-uppercase" (click)="$ctrl.changeShowAdditionalServices()"><span ng-show="!$ctrl.showAdditionalServices" translate-attr="{\'aria-label\': \'nui.aria.fulldisplay.multiple.showmore\'}" translate="nui.getit_full.multiple_showmore"></span><prm-icon ng-show="!$ctrl.showAdditionalServices" link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down" class="ng-scope ng-isolate-scope"></prm-icon><span ng-show="$ctrl.showAdditionalServices" translate-attr="{\'aria-label\': \'nui.aria.fulldisplay.multiple.showless\'}" translate="nui.getit_full.multiple_showless"></span><prm-icon ng-show="$ctrl.showAdditionalServices" link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" class="ng-scope ng-isolate-scope"></prm-icon></md-button><prm-alma-viewit-after parent-ctrl="$ctrl"></prm-alma-viewit-after>');
$templateCache.put('components/search/fullView/getit/almaViewit/almaViewitItems.html','<div class="spaced-rows"><div class="in-element-dialog-context margin-top-small" layout="row" flex><div class="md-list-item-text" layout="column" layout-wrap flex><div ng-if="::(!$ctrl.related || $ctrl.relatedOnly)" translate="{{$ctrl.header}}" class="bold-text"></div><span ng-if="::$ctrl.serviceType === \'DIGITAL\'" class="margin-left-small"><em aria-label="{{$ctrl.getDigitalPageSizeLabel(\'nui.aria.representations.pageSize\')}}">{{$ctrl.getDigitalPageSizeLabel(\'fulldisplay.representations.pageSize\')}}</em></span></div><md-button class="md-icon-button md-mini _md-secondary-container no-shodow" ng-if="::$ctrl.showSpecialRepresentationsFilterButton && $ctrl.services.length > 1" aria-label="{{\'nui.aria.locationItems.filterButton\' | translate}}" (click)="$ctrl.toggleSpecialRepresentationsFilterPanel()"><md-tooltip><span ng-if="$ctrl.showSpecialRepresentationsFilters" translate="nui.aria.locationItems.filterOut"></span> <span ng-if="!$ctrl.showSpecialRepresentationsFilters" translate="nui.aria.locationItems.filter"></span></md-tooltip><prm-icon ng-if="!$ctrl.showSpecialRepresentationsFilters" icon-type="{{$ctrl.opacLocations.filter.type}}" svg-icon-set="{{$ctrl.opacLocations.filter.iconSet}}" icon-definition="{{$ctrl.opacLocations.filter.icon}}"></prm-icon><prm-icon ng-if="$ctrl.showSpecialRepresentationsFilters" icon-type="{{$ctrl.opacLocations.filterOut.type}}" svg-icon-set="{{$ctrl.opacLocations.filterOut.iconSet}}" icon-definition="{{$ctrl.opacLocations.filterOut.icon}}"></prm-icon></md-button></div><span ng-if="::$ctrl.related" translate="{{$ctrl.subHeader}}" class="bold-text margin-left-large"></span></div><prm-alma-representations-filter ng-if="$ctrl.showSpecialRepresentationsFilters && $ctrl.services.length > 1" [services]="::$ctrl.services" (filter-event)="$ctrl.filterSpecialRepresentations($event)" (clear-filters-event)="$ctrl.clearSpecialRepresentationsFilter($event)"></prm-alma-representations-filter><md-list layout="column" ng-if="$ctrl.services && !$ctrl.isEsploroService()" class="separate-list-items"><div ng-class="{\'scrolling-area primo-scrollbar\': $ctrl.showPagingBar}"><md-list-item ng-repeat="item in $ctrl.getServices() track by $index" class="md-3-line in-element-dialog-parent animate-opacity-and-scale" (click)="$ctrl.onClick($event, item);$ctrl.runOperationBeacon(item)" tabindex="-1" aria-label="{{item.packageName}} {{$ctrl.viewItAvailability(item)}} {{\'nui.aria.newWindow\' | translate}}" ng-class="{\'pointer\' : $ctrl.isLinkable(item)}"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text" aria-live="assertive" layout="row" layout-wrap flex><div flex flex-xs="100"><p ng-if="::(item.relatedTitle && $ctrl.related)" ng-bind="item.relatedTitle"></p><h3 ng-if="item.serviceDescription"><span ng-bind="item.serviceDescription">{{item.serviceDescription}}</span></h3><div ng-if="item.packageName" class="record-status-text"><a class="item-title" ng-if="$ctrl.isLinkable(item)" ng-href="{{item.serviceUrl}}" ng-click="$event.preventDefault()">{{$ctrl.getPackageName(item.packageName)}}</a> <span ng-if="!$ctrl.isLinkable(item)" ng-bind="item.packageName"></span></div><span class="item-status" layout="column" ng-if="item.availiability" ng-repeat="ava in item.parsedAvailiability">{{ava}}</span><h4 ng-if="item.publicAccessModel && $ctrl.isPublicAccessModelEnabled()"><span translate="fulldisplay.accessModel"></span> <span ng-click="$ctrl.checkClick($event)" ng-bind-html="item.publicAccessModel"/></h4><h4 ng-if="item.numberOfFiles || item.fileType"><span ng-if="item.numberOfFiles">{{item.numberOfFiles + \' \'}}</span> <span ng-if="item.numberOfFiles" translate="c.searchhtmlCreator.files"></span> <span ng-if="item.fileType">{{\' (\' + item.fileType + (item.numberOfFiles === 1 ? \', \' + item.firstFileSize : \'\') + \')\'}}</span></h4><h4 ng-if="item.serviceNotAvailable"><span ng-click="$ctrl.checkClick($event)" ng-bind-html="item.serviceNotAvailable"></span> <span ng-if="item.serviceNotAvailableReason" ng-bind="item.serviceNotAvailableReason"></span></h4><p class="text-italic ng-scope layout-row weak-text" ng-if="item.authNote" layout="row"><span flex="none" class="flex-none"><prm-icon ng-class="" icon-type="{{$ctrl.viewItIcons.authNote.type}}" svg-icon-set="{{$ctrl.viewItIcons.authNote.iconSet}}" icon-definition="{{$ctrl.viewItIcons.authNote.icon}}"></prm-icon></span><span class="ng-binding" ng-click="$ctrl.checkClick($event)" ng-bind-html="item.authNote" dir="auto"></span></p><p class="text-italic ng-scope layout-row weak-text" ng-if="$ctrl.hasRegistrationRequiredNote(item)" layout="row"><span flex="none" class="flex-none"><prm-icon ng-class="" icon-type="{{$ctrl.viewItIcons.registration.type}}" svg-icon-set="{{$ctrl.viewItIcons.registration.iconSet}}" icon-definition="{{$ctrl.viewItIcons.registration.icon}}"></prm-icon></span><span ng-click="$ctrl.checkClick($event)" ng-bind-html="item.deniedNote" id="denied-note"/></p><p class="text-italic ng-scope layout-row weak-text" ng-if="$ctrl.cdlItemNotAvailable(item) && $ctrl.cdlNoteNotEmpty(item)" layout="row"><span flex="none" class="flex-none"><prm-icon ng-class="" icon-type="{{$ctrl.viewItIcons.registration.type}}" svg-icon-set="{{$ctrl.viewItIcons.registration.iconSet}}" icon-definition="{{$ctrl.viewItIcons.registration.icon}}"></prm-icon></span><span ng-click="$ctrl.checkClick($event)" ng-bind-html="item.cdlDeniedNote" id="cdl-denied-note"/></p><p class="text-italic ng-scope layout-row weak-text" ng-if="item.publicNote" layout="row"><span flex="none" class="flex-none"><prm-icon ng-class="" ng-if="item.serviceType != \'DIGITAL\'" icon-type="{{$ctrl.viewItIcons.publicNote.type}}" svg-icon-set="{{$ctrl.viewItIcons.publicNote.iconSet}}" icon-definition="{{$ctrl.viewItIcons.publicNote.icon}}"></prm-icon><prm-icon ng-class="" ng-if="item.serviceType === \'DIGITAL\' && !item.hasAccess && !$ctrl.readOnly" icon-type="{{$ctrl.viewItIcons.lock.type}}" svg-icon-set="{{$ctrl.viewItIcons.lock.iconSet}}" icon-definition="{{$ctrl.viewItIcons.lock.icon}}"></prm-icon></span><span ng-click="$ctrl.checkClick($event)" dir="auto" tabindex="-1" ng-bind-html="item.publicNote" id="public-note"/></p><p (click)="$ctrl.disableClick($event)" ng-if="item.toggleLicense" class="ng-scope license" style="padding: 1em 1.5em"><span class="ng-binding ng-scope" ng-repeat="line in item.licence track by $index" ng-bind-html="line+\'<br/>\'"></span></p></div></div><div class="_md-secondary-container"><md-button ng-if="item.licenceExist===\'true\'" class="button-link" aria-label="{{ $ctrl.getLicenseButtonAriaLabel(item) }}" (click)="$ctrl.getLicense(item,$event)" aria-expanded="{{$ctrl._expandCollapseToggleLicense}}"><span ng-if="!item.toggleLicense" class="ng-scope" translate="c.uresolver.viewit.license.show_license"></span> <span ng-if="item.toggleLicense" class="ng-scope" translate="c.uresolver.viewit.license.hide_license"></span></md-button><prm-icon ng-if="!$ctrl.readOnly && (item.serviceType != \'DIGITAL\' || item.hasAccess===true)" layout-margin icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon><prm-icon ng-class="" ng-if="item.serviceType === \'DIGITAL\' && item.hasAccess===false && !$ctrl.readOnly" layout-margin icon-type="{{$ctrl.viewItIcons.lock.type}}" svg-icon-set="{{$ctrl.viewItIcons.lock.iconSet}}" icon-definition="{{$ctrl.viewItIcons.lock.icon}}"></prm-icon></div></div></md-list-item></div></md-list><prm-paging-bar ng-if="$ctrl.showPagingBar" [paging-bar-labels]="::$ctrl.electronicServicesPagingAriaLabels" [list-size]="::$ctrl.services.length" [bulk-size]="10" (move-to-page-event)="$ctrl.moveToPage($event)"></prm-paging-bar><md-button ng-if="$ctrl.serviceType === \'DIGITAL\' && $ctrl.getActualPageSize() < $ctrl.filteredServices.length" class="button-link" (click)="$ctrl.showMoreRepresentations()" aria-label="{{\'nui.aria.representations.showmore\' | translate}}" translate="fulldisplay.representations.showmore"></md-button><md-list layout="column" ng-if="$ctrl.services && $ctrl.isEsploroService()" flex><md-list-item class="md-3-line in-element-dialog-parent md-list-item-inner" ng-if="$ctrl.services[0].researchFileList" ng-repeat="item in $ctrl.services[0].researchFileList track by $index" ng-disabled="item.haveAccessRight ? \'disabled\' : null" (click)="$ctrl.onClickEsploro($event, $ctrl.services[0].serviceUrl + \'#\' + item.pid, item.haveAccessRight)" tabindex="0" aria-label="{{item.fileName}}{{\' \'}}{{!item.haveAccessRight ? \'nui.aria.newWindow\' : \'\' | translate}}" ng-class="{\'pointer\' : !item.haveAccessRight}"><div class="md-avatar" layout="column"><prm-icon ng-if="$ctrl.isPdfFile(item)" icon-type="svg" svg-icon-set="primo-ui" icon-definition="pdf"></prm-icon><prm-icon ng-if="$ctrl.isTextFile(item)" icon-type="svg" svg-icon-set="primo-ui" icon-definition="txt"></prm-icon><prm-icon ng-if="$ctrl.isZipFile(item)" icon-type="svg" svg-icon-set="primo-ui" icon-definition="zip"></prm-icon><prm-icon ng-if="$ctrl.isGenericFile(item)" icon-type="svg" svg-icon-set="primo-ui" icon-definition="generic-file"></prm-icon><span class="avatar-text">{{ item.format }}</span></div><div class="md-list-item-text" layout="column"><h3 class="item-title" style="white-space: normal"><span ng-if="item.fileSupplemental" class="entity-type">{{ \'c.uresolver.viewit.esploro.supplemental\' | translate }}</span> <span ng-if="item.fileSupplemental && item.fileType" class="entity-type">/ </span><span ng-if="item.fileType" class="entity-type">{{ item.fileType }}</span> <span ng-if="item.fileType || item.fileSupplemental">\u2014 </span>{{ item.fileName }} ({{item.size}})</h3><h4 ng-if="item.description"><span ng-if="item.description">{{ item.description }}</span></h4><p><span ng-if="item.licenseUrl"><a target="_blank" (click)="$ctrl.onClickLicenseUrl(item.licenseUrl)">{{ item.licenseName ? item.licenseName : item.licenseUrl}}</a> </span><span ng-if="item.licenseName && !item.licenseUrl">{{ item.licenseName }}</span> <span ng-if="item.licenseName && item.accessRightStatement">, </span><span ng-if="item.accessRightStatement">{{ item.accessRightStatement }}</span> <span ng-if="item.accessRightStatement && item.accessRightDeniedNote">, </span><span ng-if="item.accessRightDeniedNote">{{ item.accessRightDeniedNote }}</span> <span ng-if="item.accessRightStatement && item.embargoExpiryDate">, </span><span ng-if="item.embargoExpiryDate">{{\'c.uresolver.viewit.esploro.expiryDate\' | translate}} {{ item.embargoExpiryDate }}</span></p></div><div class="_md-secondary-container"><prm-icon ng-if="item.haveAccessRight === false" layout-margin icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon><prm-icon ng-class="" ng-if="item.haveAccessRight === true" layout-margin icon-type="{{$ctrl.viewItIcons.lock.type}}" svg-icon-set="{{$ctrl.viewItIcons.lock.iconSet}}" icon-definition="{{$ctrl.viewItIcons.lock.icon}}"></prm-icon></div></md-list-item><md-list-item class="md-3-line in-element-dialog-parent md-list-item-inner" ng-if="$ctrl.services[0].researchLinksList" ng-repeat="item in $ctrl.services[0].researchLinksList track by $index" (click)="$ctrl.onClickEsploro($event, item.displayInViewer ? $ctrl.services[0].serviceUrl + \'#\' + item.linkPid : item.linkURL,false)" tabindex="0" aria-label="{{item.linkTitle ? item.linkURL : item.linkTitle}}{{\' \'}}{{\'nui.aria.newWindow\' | translate}}" ng-class="{\'pointer\' : true}"><div class="md-avatar" layout="column"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="link"></prm-icon><span class="avatar-text">{{\'c.uresolver.viewit.esploro.typeurl\' | translate}}</span></div><div class="md-list-item-text" layout="column"><h3 class="item-title"><span ng-if="item.linkSupplemental" class="entity-type">{{ \'c.uresolver.viewit.esploro.supplemental\' | translate }}</span> <span ng-if="item.linkSupplemental && item.linkType" class="entity-type">/ </span><span ng-if="item.linkType" class="entity-type">{{ item.linkType }}</span> <span ng-if="item.linkType || item.linkSupplemental">\u2014 </span><span ng-if="item.linkTitle">{{ item.linkTitle }}</span> <span ng-if="!item.linkTitle">{{ item.linkURL }}</span></h3><h4 ng-if="item.linkDescription"><span ng-if="item.linkDescription">{{ item.linkDescription }}</span></h4><p><span ng-if="item.linkLicenseURL"><a target="_blank" (click)="$ctrl.onClickLicenseUrl(item.linkLicenseURL)">{{ item.linkLicenseName ? item.linkLicenseName : item.linkLicenseURL}}</a> </span><span ng-if="item.linkLicenseName && !item.linkLicenseURL">{{ item.linkLicenseName }}</span> <span ng-if="item.linkLicenseName && item.linkRights">, </span><span ng-if="item.linkRights">{{ item.linkRights }}</span></p></div><div class="_md-secondary-container"><prm-icon layout-margin icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon></div></md-list-item></md-list><prm-alma-viewit-items-after parent-ctrl="$ctrl"></prm-alma-viewit-items-after>');
$templateCache.put('components/search/fullView/getit/howToGetit/howovp.html','<prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="$ctrl.servicesListIsLoading"></prm-spinner><div><md-list layout="column" class="separate-list-items" ng-if="$ctrl.services.serviceinfo && $ctrl.services.serviceinfo.length > 0 && !$ctrl.ngrsEnabledAndRSLinkIsOnlyService()"><md-list-item ng-repeat="service in $ctrl.filteredServices() track by $index"><md-button class="neutralized-button layout-full-width layout-display-flex" (click)="$ctrl.onClick(service)" md-ink-ripple="red" aria-label="{{\'nui.aria.fulldisplay.howToGetIt\' | translate:\'{service: \\\'\'+service.type+\'\\\'}\'}}{{!$ctrl.isOvp(service) ? \'nui.aria.newWindow\' : \'\' | translate}}"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text layout-wrap flex" layout="row"><div flex flex-xs="100" layout="column"><span ng-if="service[\'service-type\'] !== \'OvL\'" translate="{{service.type}}"></span> <span ng-if="service[\'service-type\'] === \'OvL\'"><a ng-href="{{service[\'link-to-service\']}}" ng-click="$event.preventDefault()" translate="{{service.type}}"></a></span> <span class="italic-text weak-text" ng-if="service.publicNote.length > 0" ng-click="$ctrl.checkClick($event)" ng-bind-html="service.publicNote"></span> <span ng-if="!service.publicNote.length > 0">&nbsp;</span></div><prm-icon ng-if="!$ctrl.isOvp(service)" class="padding-right-small" icon-type="{{$ctrl.opacLocations.externalLinkIcon.type}}" svg-icon-set="{{$ctrl.opacLocations.externalLinkIcon.iconSet}}" icon-definition="{{$ctrl.opacLocations.externalLinkIcon.icon}}"><span translate="{{service.type}}"></span></prm-icon><prm-icon ng-if="$ctrl.isOvp(service)" class="padding-right-small" icon-type="{{$ctrl.opacLocations.rightArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.rightArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.rightArrow.icon}}"></prm-icon></div></div></md-button></md-list-item></md-list><md-list layout="column" class="separate-list-items"><md-list-item ng-if="$ctrl.isWebhook() && $ctrl.isSuprima()" ng-repeat="service in $ctrl.getRecordLinkForWebhook() track by $index"><md-button class="neutralized-button layout-full-width layout-display-flex" (click)="$ctrl.onWebhookClick(service)" md-ink-ripple="red"><div class="in-element-dialog-context" layout="row" flex><div class="md-list-item-text layout-wrap flex" layout="row"><div flex flex-xs="100" layout="column"><span><a ng-href="{{service.linkURL}}" ng-click="$event.preventDefault()" translate="{{service.displayLabel}}"></a></span> <span>&nbsp;</span></div><prm-icon class="padding-right-small" icon-type="{{$ctrl.opacLocations.externalLinkIcon.type}}" svg-icon-set="{{$ctrl.opacLocations.externalLinkIcon.iconSet}}" icon-definition="{{$ctrl.opacLocations.externalLinkIcon.icon}}"><span translate="{{service.displayLabel}}"></span></prm-icon></div></div></md-button></md-list-item></md-list></div><div ng-if="$ctrl.isLoggedIn() && (!$ctrl.services.serviceinfo || $ctrl.services.serviceinfo.length == 0)"><span translate="nui.request.norequests"></span></div><alma-howovp-after parent-ctrl="$ctrl"></alma-howovp-after>');
$templateCache.put('components/search/fullView/getit/howToGetit/htgi-back-button.html','<md-button ng-if="!$ctrl.historyStack.isEmpty()" (click)="$ctrl.goBack()" class="back-button button-with-icon zero-margin"><prm-icon icon-type="{{$ctrl.opacLocations.leftArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.leftArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.leftArrow.icon}}"></prm-icon><span translate="{{$ctrl.label}}"></span></md-button><alma-htgi-back-button-after parent-ctrl="$ctrl"></alma-htgi-back-button-after>');
$templateCache.put('components/search/fullView/getit/howToGetit/htgi-service.html','<prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="!$ctrl.isCalculateSvcIdDone"></prm-spinner><div layout="column" layout-fill><alma-htgi-tabs ng-if="$ctrl.isCalculateSvcIdDone" [item]="$ctrl.item" [service-scroll-id]="::$ctrl.serviceScrollId" [is-overlay-full-view]="::$ctrl.isOverlayFullView"></alma-htgi-tabs></div><alma-htgi-svc-after parent-ctrl="$ctrl"></alma-htgi-svc-after>');
$templateCache.put('components/search/fullView/getit/howToGetit/htgi-tabs.html','<prm-alert-bar [alert-object]="$ctrl.reqAlert"></prm-alert-bar><prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="!$ctrl.isCalculateSvcIdDone"></prm-spinner><md-tabs md-dynamic-height md-selected="$ctrl.selectedTab" class="tabs-as-app hidden-tabs"><md-tab label="Requests List"><md-content><alma-howovp [item]="$ctrl.item" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></alma-howovp></md-content></md-tab><md-tab label="Dummy"/><md-tab label="Request Form"><alma-htgi-back-button [history-stack]="::$ctrl.backToHistoryStack" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></alma-htgi-back-button><md-content><prm-request (change-tab-event)="$ctrl.onChangeTabEvent($event)" [item]="$ctrl.item" [service]="$ctrl.service" [is-overlay-full-view]="::$ctrl.isOverlayFullView" layout="column"></prm-request></md-content></md-tab><md-tab label="Request reply"><alma-htgi-back-button [history-stack]="::$ctrl.backToHistoryStack" [request-status]="$ctrl.responseStatus.isSuccess" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></alma-htgi-back-button><md-content layout="column"><div ng-class="$ctrl.responseStatus.isSuccess ? \'success-bar\': \'error-bar\'" class="bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span translate-default="{{$ctrl.getResponseMessage()}}" translate="{{$ctrl.getResponseMessage()}}"></span></div></md-content></md-tab></md-tabs><alma-htgi-tabs-after parent-ctrl="$ctrl"></alma-htgi-tabs-after>');
$templateCache.put('components/search/fullView/getit/opac/back-button.html','<md-button ng-if="!$ctrl.historyStack.isEmpty()" (click)="$ctrl.goBack()" class="back-button button-with-icon zero-margin"><prm-icon icon-type="{{$ctrl.opacLocations.leftArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.leftArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.leftArrow.icon}}"></prm-icon><span translate="{{$ctrl.label}}"></span></md-button><prm-opac-back-button-after parent-ctrl="$ctrl"></prm-opac-back-button-after>');
$templateCache.put('components/search/fullView/getit/opac/opac.html','<prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="!$ctrl.isCalculateSvcIdDone"></prm-spinner><div layout="column" layout-fill><prm-request-services ng-if="$ctrl.serviceMode ===\'ovp\' && $ctrl.isCalculateSvcIdDone" [item]="$ctrl.item" [member-inst]="$ctrl.memberInst" [location-services]="$ctrl.locationServices" (change-tab-event)="$ctrl.onChangeTabEvent($event)" [enable-library-level-list]="$ctrl.isShowLiraryLevelList" [no-login]="$ctrl.noLogin"></prm-request-services><prm-requests-services-ovl ng-if="$ctrl.serviceMode ===\'ovl\'" [item]="$ctrl.item" [member-inst]="$ctrl.memberInst"></prm-requests-services-ovl><prm-request-services ng-if="$ctrl.serviceMode ===\'howovp\' && $ctrl.isCalculateSvcIdDone && $ctrl.memberInst" [item]="$ctrl.item" [member-inst]="$ctrl.memberInst" [location-services]="$ctrl.locationServices" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></prm-request-services></div><md-tabs md-dynamic-height md-selected="$ctrl.selectedTab" class="tabs-as-app hidden-tabs" ng-if="$ctrl.serviceMode ===\'ovp\' || $ctrl.hasLocations()"><md-tab ng-if="$ctrl.hasLocations()" label="Main" md-on-select="requestsLimit(15); showRequestOptions(); $ctrl.focusOnLocations();"><prm-opac-back-button [history-stack]="$ctrl.backToHistoryStack" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></prm-opac-back-button><md-content class="overflow-hidden"><prm-locations ng-if="($ctrl.isCalculateSvcIdDone && $ctrl.isServicesListIsLoadingDone) || $ctrl.displayHoldingsWithoutWaiting" [item]="$ctrl.item" [member-inst]="$ctrl.memberInst" action="" (change-tab-event)="$ctrl.onChangeTabEvent($event)" [is-filtered]="$ctrl.isLocationFiltered" [filters]="$ctrl.filters" [is-locations-filter-visible]="$ctrl.isLocationsFilterVisible" [register-user]="$ctrl.registerUser" [loc-to-update]="$ctrl.mmsId" [service-scroll-id]="::$ctrl.serviceScrollId" [header-label]="$ctrl.headerLabelLocations"></prm-locations></md-content></md-tab><md-tab label="two" md-on-select="showBackButton(); hideRequestOptions()"><div class="tab-header"><prm-opac-back-button ng-if="$ctrl.displayBackToLocationButton()" [history-stack]="$ctrl.backToHistoryStack" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></prm-opac-back-button></div><md-content class="overflow-hidden"><prm-location-items ng-if="$ctrl.isCalculateSvcIdDone && $ctrl.isServicesListIsLoadingDone && $ctrl.hasLocations()" [item]="$ctrl.item" [loc]="$ctrl.loc" (change-tab-event)="$ctrl.onChangeTabEvent($event)" [is-filtered]="$ctrl.isLocationFiltered" [filters]="$ctrl.filters" [is-locations-filter-visible]="$ctrl.isLocationsFilterVisible" [drop-down-options]="$ctrl.dropDownOptions" [register-user]="$ctrl.registerUser" [item-to-update]="$ctrl.itemId" [service-scroll-id]="::$ctrl.serviceScrollId" [enable-library-level-list]="$ctrl.isShowLiraryLevelList"></prm-location-items></md-content></md-tab><md-tab label="Request Form" md-on-select="showBackButton(); checkForRequestOptions()"><prm-opac-back-button [history-stack]="$ctrl.backToHistoryStack" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></prm-opac-back-button><md-content><prm-request (change-tab-event)="$ctrl.onChangeTabEvent($event)" [item]="$ctrl.item" [service]="$ctrl.service" [is-overlay-full-view]="::$ctrl.isOverlayFullView" layout="column"></prm-request></md-content></md-tab><md-tab label="Request reply" md-on-select="showBackButton()"><prm-opac-back-button [history-stack]="$ctrl.backToHistoryStack" [request-status]="$ctrl.responseStatus.isSuccess" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></prm-opac-back-button><md-content layout="column"><div ng-class="$ctrl.responseStatus.isSuccess ? \'success-bar\': \'error-bar\'" class="bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span class="accessible-only" role="alert" translate="nui.aria.scan.request.submitted" ng-if="$ctrl.responseStatus.isSuccess"></span> <span translate-default="{{$ctrl.getResponseMessage()}}" translate="{{$ctrl.getResponseMessage()}}"></span> <span ng-if="$ctrl.responseStatus.adjustedStartTime && $ctrl.responseStatus.adjustedEndTime" translate="nui.request.adjustedTimesAlert" translate-values="$ctrl.getAdjustedTimesAlertPlaceHolder()"></span></div></md-content></md-tab><md-tab label="Library" ng-if="$ctrl.isShowLiraryLevelList" md-on-select="requestsLimit(15); showRequestOptions(); $ctrl.focusOnLocations();"><prm-opac-back-button [history-stack]="$ctrl.backToHistoryStack" (change-tab-event)="$ctrl.onChangeTabEvent($event)"></prm-opac-back-button><md-content layout="column"><prm-locations ng-if="($ctrl.isCalculateSvcIdDone && $ctrl.isServicesListIsLoadingDone) || $ctrl.displayHoldingsWithoutWaiting" [item]="$ctrl.item" [member-inst]="$ctrl.memberInst" action="" (location-filter-event)="$ctrl.onLocationFilterEvent($event)" (library-filter-event)="$ctrl.onLibraryFilterEvent($event)" (change-tab-event)="$ctrl.onChangeTabEvent($event)" [is-filtered]="$ctrl.isLocationFiltered" [filters]="$ctrl.filters" [is-locations-filter-visible]="$ctrl.isLocationsFilterVisible" [register-user]="$ctrl.registerUser" [loc-to-update]="$ctrl.mmsId" [service-scroll-id]="::$ctrl.serviceScrollId" [header-label]="$ctrl.headerLabelLibraries" [enable-library-level-list]="$ctrl.isShowLiraryLevelList" [is-overlay-full-view]="::$ctrl.isOverlayFullView"></prm-locations></md-content></md-tab></md-tabs><prm-opac-after parent-ctrl="$ctrl"></prm-opac-after>');
$templateCache.put('components/search/fullView/getit/opac/service-button.html','<md-button ng-if="$ctrl.service.allowed === \'Y\' && $ctrl.service[\'link-to-service\']" class="button-as-link" (click)="$ctrl.getServiceDetails()" ng-class="{\'button-external-link\': $ctrl.service[\'service-type\'] == \'OvL\' && $ctrl.service[\'link-to-service\']}" aria-label="{{::$ctrl.buttonAriaLabel}}"><span translate="{{$ctrl.service.type}}"></span><prm-icon external-link ng-if="$ctrl.service[\'service-type\'] == \'OvL\' && $ctrl.service[\'link-to-service\']" [icon-type]="::$ctrl.actionIcons.externalLinkIcon.type" [svg-icon-set]="::$ctrl.actionIcons.externalLinkIcon.iconSet" [icon-definition]="::$ctrl.actionIcons.externalLinkIcon.icon"></prm-icon></md-button><prm-service-button-after parent-ctrl="$ctrl"></prm-service-button-after>');
$templateCache.put('components/search/fullView/getit/viewOnline/view-online-multiple-links.html','<div ng-if="$ctrl.getLinksBySectionName(\'linktorsrcNonOa\').length > 0 && ($ctrl.multiplelLinksExpanded || $ctrl.isInitialSection(\'linktorsrcNonOa\'))" class="margin-bottom-medium" ng-class="{\'all-links-options\': !$ctrl.isTab2Full()}" role="list"><span ng-if="!$ctrl.isHeaderIsEmpty(\'nui.getit_full.multiple_linktorsrc_subsc\')" class="section-header" translate="nui.getit_full.multiple_linktorsrc_subsc"></span> <a ng-repeat="link in $ctrl.getLinksList(\'linktorsrcNonOa\') | limitTo: $ctrl.initialSectionLimit" ng-if="link.link" class="arrow-link links-section" layout="row" layout-align="{{::!$ctrl.isTab2Full() ? \'space-between center\' : \'\'}}" href="{{link.link}}" target="_blank" aria-label="{{\'nui.aria.fulldisplay.viewOnline\' | translate:\'{link: \\\'\'+$ctrl.getCode(link)+\'\\\'}\'}}{{\'nui.aria.newWindow\' | translate}}" ng-click="$ctrl.multiplelLinksExpanded ? $ctrl.runOperationBeacon(\'linktorsrcadditional\'): $ctrl.runOperationBeacon(\'linktorsrc\')"><span ng-bind-html="$ctrl.getCode(link)"></span><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon></a></div><div ng-if="$ctrl.getLinksBySectionName(\'openUrl\').length > 0 && ($ctrl.multiplelLinksExpanded || $ctrl.isInitialSection(\'openUrl\'))" class="margin-bottom-medium" ng-class="{\'all-links-options\': !$ctrl.isTab2Full()}" role="list"><span ng-if="!$ctrl.isHeaderIsEmpty(\'nui.getit_full.multiple_linkresolver\')" class="section-header" translate="nui.getit_full.multiple_linkresolver"></span><prm-login-alma-mashup ng-if="$ctrl.isAlmaMashUpLink() || $ctrl.isSfxMashUp()" [internal-login]="true"></prm-login-alma-mashup><prm-alma-mashup ng-if="$ctrl.isAlmaMashUpLink() || $ctrl.isSfxMashUp()" [links-array]="$ctrl.getLinksList(\'openUrl\')" class="display-block"></prm-alma-mashup><a ng-if="link.link && $ctrl.isSfxLink() && !$ctrl.isSfxMashUp()" ng-repeat="link in $ctrl.getLinksList(\'openUrl\') | limitTo: $ctrl.initialSectionLimit" class="arrow-link links-section" layout="row" layout-align="{{::!$ctrl.isTab2Full() ? \'space-between center\' : \'\'}}" href="{{link.link}}" target="_blank" aria-label="{{\'nui.aria.fulldisplay.viewOnline\' | translate:\'{link: \\\'\'+$ctrl.getCode(link)+\'\\\'}\'}}{{\'nui.aria.newWindow\' | translate}}" ng-click="$ctrl.multiplelLinksExpanded ? $ctrl.runOperationBeacon(\'openurladditional\'): $ctrl.runOperationBeacon(\'openurlfulltext\')"><span ng-bind-html="$ctrl.getCode(link)"></span><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon></a></div><div ng-if="$ctrl.getLinksBySectionName(\'linktorsrcOa\').length > 0 && ($ctrl.multiplelLinksExpanded || $ctrl.isInitialSection(\'linktorsrcOa\'))" class="margin-bottom-medium" ng-class="{\'all-links-options\': !$ctrl.isTab2Full()}" role="list"><span ng-if="!$ctrl.isHeaderIsEmpty(\'nui.getit_full.multiple_linktorsrc_oa\')" class="section-header" translate="nui.getit_full.multiple_linktorsrc_oa"></span> <a ng-if="link.link" ng-repeat="link in $ctrl.getLinksList(\'linktorsrcOa\') | limitTo: $ctrl.initialSectionLimit" class="arrow-link links-section" layout="row" layout-align="{{::!$ctrl.isTab2Full() ? \'space-between center\' : \'\'}}" href="{{link.link}}" target="_blank" aria-label="{{\'nui.aria.fulldisplay.viewOnline\' | translate:\'{link: \\\'\'+$ctrl.getCode(link)+\'\\\'}\'}}{{\'nui.aria.newWindow\' | translate}}" ng-click="$ctrl.multiplelLinksExpanded ? $ctrl.runOperationBeacon(\'linktorsrcadditional\'): $ctrl.runOperationBeacon(\'linktorsrc\')"><span ng-bind-html="$ctrl.getCode(link)"></span><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon></a></div><div><md-button ng-if="$ctrl.isMultBtnNeedToBeShow()" class="button-link show-more-less-btn first-letter-uppercase" aria-expanded="{{$ctrl.multiplelLinksExpanded}}" ng-click="$ctrl.toggleMultipleLinks($event)" ng-class="{\'collapsed\': !$ctrl.multiplelLinksExpanded}" translate-attr="{\'aria-label\': $ctrl.showMoreLessAria()}"><span translate="{{$ctrl.showMoreLess()}}"></span><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" ng-class="{\'rotate-180\': !$ctrl.multiplelLinksExpanded}"></prm-icon></md-button></div>');
$templateCache.put('components/search/fullView/getit/viewOnline/view-online-single-link.html','<div ng-repeat="link in $ctrl.getLinks()" ng-class="$ctrl.isTab2Full() ? \'more-section\' : \'all-links-options\'" role="list"><a ng-if="link.link" class="arrow-link" href="{{link.link}}" target="_blank" aria-label="{{\'nui.aria.fulldisplay.viewOnline\' | translate:\'{link: \\\'\'+$ctrl.getCode(link)+\'\\\'}\'}}{{\'nui.aria.newWindow\' | translate}}" ng-click="$ctrl.setAndRunOperationBeacon(link)"><div layout="row" layout-align="{{::!$ctrl.isTab2Full() ? \'space-between center\' : \'\'}}"><span ng-bind-html="$ctrl.getCode(link)"></span><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon><prm-icon ng-if="$ctrl.isTab2Full()" link-arrow icon-type="{{::$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{::$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{::$ctrl.availabilityLineIcons.arrowRight.icon}}" [display-mode]="::$ctrl.displayMode"></prm-icon></div></a></div>');
$templateCache.put('components/search/fullView/getit/viewOnline/viewOnline.html','<div ng-include src="$ctrl.getViewOnlineHtml()"></div><prm-view-online-after parent-ctrl="$ctrl"></prm-view-online-after>');
$templateCache.put('components/search/fullView/ngrs/backToLibrarySearchButton/back-to-library-search-button.html','<prm-back-to-library-search-button-after parent-ctrl="$ctrl"></prm-back-to-library-search-button-after>');
$templateCache.put('components/search/fullView/ngrs/getItRequest/bookGetItRequest.html','<div id="offer_request_main_tile" class="main_tile_request_form" ng-if="::$ctrl.isSignedIn()"><div class="getItNgrs"><div class="text_wrapper"><h4 class="form_title" translate="nui.ngrs.request.physical.title" ng-if="::!$ctrl.isDigitalOffer()"></h4><h4 class="form_title" translate="nui.ngrs.request.digital.title" ng-if="::$ctrl.isDigitalOffer()"></h4></div><div class="offer_details_main_tail_s"><prm-offer-details-tile [item]="::$ctrl.item" [bestoffer]="$ctrl._bestOffer" [isdigitaloffer]="::$ctrl.isdigitaloffer"></prm-offer-details-tile></div><div class="text_wrapper"><div class="validation_msg" ng-if="$ctrl.isDigitalOffer() && !$ctrl.isDigitalFormValidation()"><span role="alert" translate="nui.ngrs.request.validation_msg"></span></div><div class="validation_msg" ng-if="!$ctrl.isDigitalOffer() && $ctrl.isPhysicalJournal() && !$ctrl.isJournalFormValidation()"><span role="alert" translate="nui.ngrs.request.physical.journal.validation_msg"></span></div><div class="request_form_message" ng-if="$ctrl._showRequestFormMessage"><prm-icon class="form_message_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-info"></prm-icon><span class="form_message_text" ng-bind-html="$ctrl._requestFormMessage"></span></div></div><form class="fill_details" name="getItNgrs" layout="column" ng-if="::!$ctrl.isDigitalOffer()"><div class="form_item form_item_pickup" ng-if="::((!$ctrl._pickupAnywhereEnabled  &&  $ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\') &&\xA0!$ctrl.isFNRotaOffer()) ||\r\n             (!$ctrl._pickupAnywhereEnabled\xA0&&\xA0$ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\')\xA0&&\xA0!$ctrl.isCodeEnabledforForm(\'PICKUP_INSTITUTION\')\xA0&&\xA0$ctrl.isFNRotaOffer()))"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.locationField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item form_item_pickup" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupInstitutionFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item form_item_pickup" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupLibraryFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'VOLUME\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'ISSUE\') && $ctrl.isPhysicalJournal()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-issue"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.issueField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'PUBLICATION_DATE\') && $ctrl.isPhysicalJournal()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-calender"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.publicationDateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOT_NEEDED_AFTER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-not-needed-after"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.dateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><span ng-if="::$ctrl._tempRapidoLocateSerialMultivolumeOffers"><md-tooltip md-delay="600" md-direction="top"><span class="bold-text" translate="rapido.tiles.physical.refineOffer.tooltip"></span></md-tooltip><span class="button-small-media"><md-button ng-disabled="$ctrl._refineOfferDisabled" class="button-with-icon button-secondary" ng-if="$ctrl.refineOfferIsVisible()" (click)="$ctrl.refineOffer()"><prm-icon icon-type="{{::$ctrl.actionIcons.syncIcon.type}}" svg-icon-set="{{::$ctrl.actionIcons.syncIcon.iconSet}}" icon-definition="{{::$ctrl.actionIcons.syncIcon.icon}}"></prm-icon><span>{{"rapido.tiles.physical.refineOffer" | translate}}</span></md-button><prm-spinner class="inline-loader dark-on-light refine-spinner" layout-align="center center" ng-if="$ctrl._refineOfferInProgress"></prm-spinner></span></span><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)" ng-disabled="$ctrl.requestSubmitted()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><form class="fill_details" name="getItNgrs" layout="column" ng-if="::$ctrl.isDigitalOffer()"><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'EMAIL\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-form-envelope"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.emailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showAlternativeEmail()"><div class="icon_border alternativeEmail"></div><prm-form-field class="form_field" [field]="$ctrl.alternativeEmailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'CHAPTER_TITLE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-chapter"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.chapterTitleField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'CHAPTER_AUTHOR\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-author"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.chapterAuthorField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'VOLUME\') && $ctrl.isCodeEnabledforForm(\'CHAPTER_NUMBER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><div class="form_field_parent"><prm-form-field class="form_field_2 first" [field]="$ctrl.chapterNumberField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field><prm-form-field class="form_field_2" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'VOLUME\') && !$ctrl.isCodeEnabledforForm(\'CHAPTER_NUMBER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::!$ctrl.isCodeEnabledforForm(\'VOLUME\') && $ctrl.isCodeEnabledforForm(\'CHAPTER_NUMBER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.chapterNumberField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'FROM_PAGE_TO_PAGE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-pages"></prm-icon></div><div class="form_field_parent"><prm-form-field class="form_field_2 first" [field]="$ctrl.fromPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field><prm-form-field class="form_field_2" [field]="$ctrl.toPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.isShowCopyRightsStatement()" ng-click="$ctrl.updateCopyRightsValue()" tabindex="-1"><prm-form-field class="form_field copyright_field" [field]="$ctrl.copyRightsCheckBoxField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.requestSubmitted()" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><div class="spinner-container" ng-if="$ctrl.isShowRequestSpinner()"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="space-between"></prm-spinner></div><md-button (click)="$ctrl.cancelForm($event)" class="close_s">x</md-button></div><div class="offer_details_main_tail"><md-button id="form-close-btn" (keydown)="$ctrl.closeKeydownSupport($event)" (click)="$ctrl.cancelForm($event)" class="close">x</md-button><prm-offer-details-tile [item]="::$ctrl.item" [bestoffer]="$ctrl._bestOffer" [isdigitaloffer]="::$ctrl.isdigitaloffer"></prm-offer-details-tile></div></div><prm-alert-bar class="alert-bar" [alert-object]="$ctrl.getSignInLink()" ng-if="::!$ctrl.isSignedIn()"></prm-alert-bar>');
$templateCache.put('components/search/fullView/ngrs/getItRequest/getItRequest.html','<div ng-include src="$ctrl.getRequestHtml()" class="relative-position"></div><prm-get-it-request-after parent-ctrl="$ctrl"></prm-get-it-request-after>');
$templateCache.put('components/search/fullView/ngrs/getItRequest/jornalGetItRequest.html','<div id="journal_request_main_tile" class="main_tile_request_form" ng-if="::$ctrl.isSignedIn()"><div class="getItNgrs"><div class="text_wrapper"><h4 class="form_title" translate="nui.ngrs.request.journal.title"></h4><div class="request_form_message" ng-if="$ctrl._showRequestFormMessage"><prm-icon class="form_message_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-info"></prm-icon><span class="form_message_text" ng-bind-html="$ctrl._requestFormMessage"></span></div></div><form class="fill_details" name="getItNgrs" layout="column"><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'EMAIL\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-form-envelope"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.emailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showAlternativeEmail()"><div class="icon_border alternativeEmail"></div><prm-form-field class="form_field" [field]="$ctrl.alternativeEmailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'ARTICLE_TITLE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-chapter"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.articleTitleField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'ARTICLE_AUTHOR\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-author"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.articleAuthorField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'VOLUME\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'ISSUE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-issue"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.issueField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'FROM_PAGE_TO_PAGE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-pages"></prm-icon></div><div class="form_field_parent"><prm-form-field class="form_field_2 first" [field]="$ctrl.fromPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field><prm-form-field class="form_field_2" [field]="$ctrl.toPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'PUBLICATION_DATE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-calender"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.publicationDateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOT_NEEDED_AFTER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-not-needed-after"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.dateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.isShowCopyRightsStatement()" ng-click="$ctrl.updateCopyRightsValue()" tabindex="-1"><prm-form-field class="form_field copyright_field" [field]="$ctrl.copyRightsCheckBoxField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.requestSubmitted()" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><div class="spinner-container" ng-if="$ctrl.isShowRequestSpinner()"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="space-between"></prm-spinner></div><md-button (click)="$ctrl.cancelForm($event)" class="close_s">x</md-button></div><div class="offer_details_main_tail"><md-button id="form-close-btn" (keydown)="$ctrl.closeKeydownSupport($event)" (click)="$ctrl.cancelForm($event)" class="close">x</md-button></div></div><prm-alert-bar class="alert-bar" [alert-object]="$ctrl.getSignInLink()" ng-if="::!$ctrl.isSignedIn()"></prm-alert-bar>');
$templateCache.put('components/search/fullView/ngrs/getItRequest/lastResortGetItRequest.html','<div id="no_offer_request_main_tile" class="main_tile_request_form" ng-if="::$ctrl.isSignedIn()"><div class="getItNgrs"><div class="text_wrapper"><h4 class="form_title" translate="nui.ngrs.request.no_offer.title"></h4><div class="validation_msg" ng-if="!$ctrl.isDigitalFormValidation()"><span translate="nui.ngrs.request.validation_msg"></span></div><div class="request_form_message" ng-if="$ctrl._showRequestFormMessage"><prm-icon class="form_message_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-info"></prm-icon><span class="form_message_text" ng-bind-html="$ctrl._requestFormMessage"></span></div></div><form class="fill_details" name="getItNgrs" layout="column"><div ng-if="!$ctrl.isdigitaloffer || $ctrl.isJournal()"><div class="form_item" ng-if="::((!$ctrl._pickupAnywhereEnabled  &&  $ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\') &&\xA0!$ctrl.isFNRotaOffer()) ||\r\n                (!$ctrl._pickupAnywhereEnabled\xA0&&\xA0$ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\')\xA0&&\xA0!$ctrl.isCodeEnabledforForm(\'PICKUP_INSTITUTION\')\xA0&&\xA0$ctrl.isFNRotaOffer()))"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.locationField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupInstitutionFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupLibraryFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'VOLUME\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div></div><div ng-if="$ctrl.isdigitaloffer || $ctrl.isPartOf()"><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'EMAIL\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-form-envelope"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.emailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showAlternativeEmail()"><div class="icon_border alternativeEmail"></div><prm-form-field class="form_field" [field]="$ctrl.alternativeEmailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item form_item_title" ng-if="::$ctrl.isBook() && $ctrl.isCodeEnabledforForm(\'CHAPTER_TITLE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-chapter"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.chapterTitleField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item form_item_author" ng-if="::$ctrl.isBook() && $ctrl.isCodeEnabledforForm(\'CHAPTER_AUTHOR\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-author"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.chapterAuthorField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isBook() && $ctrl.isCodeEnabledforForm(\'VOLUME\') && $ctrl.isCodeEnabledforForm(\'CHAPTER_NUMBER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><div class="form_field_parent"><prm-form-field class="form_field_2 first" [field]="$ctrl.chapterNumberField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field><prm-form-field class="form_field_2" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div></div><div class="form_item" ng-if="::$ctrl.isBook() && !$ctrl.isCodeEnabledforForm(\'VOLUME\') && $ctrl.isCodeEnabledforForm(\'CHAPTER_NUMBER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.chapterNumberField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isBook() && $ctrl.isCodeEnabledforForm(\'VOLUME\') && !$ctrl.isCodeEnabledforForm(\'CHAPTER_NUMBER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isBook() && $ctrl.isCodeEnabledforForm(\'FROM_PAGE_TO_PAGE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-pages"></prm-icon></div><div class="form_field_parent"><prm-form-field class="form_field_2 first" [field]="$ctrl.fromPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field><prm-form-field class="form_field_2" [field]="$ctrl.toPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div></div></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOT_NEEDED_AFTER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-not-needed-after"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.dateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.isShowCopyRightsStatement()" ng-click="$ctrl.updateCopyRightsValue()" tabindex="-1"><prm-form-field class="form_field copyright_field" [field]="$ctrl.copyRightsCheckBoxField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.requestSubmitted()" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><div class="spinner-container" ng-if="$ctrl.isShowRequestSpinner()"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="space-between"></prm-spinner></div><md-button (click)="$ctrl.cancelForm($event)" class="close_s">x</md-button></div><div class="offer_details_main_tail"><md-button id="form-close-btn" (keydown)="$ctrl.closeKeydownSupport($event)" (click)="$ctrl.cancelForm($event)" class="close">x</md-button></div></div><prm-alert-bar class="alert-bar" [alert-object]="$ctrl.getSignInLink()" ng-if="::!$ctrl.isSignedIn()"></prm-alert-bar>');
$templateCache.put('components/search/fullView/ngrs/getItRequest/musicGetItRequest.html','<div id="offer_request_main_tile" class="main_tile_request_form" ng-if="::$ctrl.isSignedIn()"><div class="getItNgrs"><div class="text_wrapper"><h4 class="form_title" translate="nui.ngrs.request.physical.title" ng-if="::!$ctrl.isDigitalOffer()"></h4><h4 class="form_title" translate="nui.ngrs.request.digital.title" ng-if="::$ctrl.isDigitalOffer()"></h4></div><div class="text_wrapper"><div class="validation_msg" ng-if="$ctrl.isDigitalOffer() && !$ctrl.isDigitalFormValidation()"><span role="alert" translate="nui.ngrs.request.music.validation_msg"></span></div><div class="request_form_message" ng-if="$ctrl._showRequestFormMessage"><prm-icon class="form_message_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-info"></prm-icon><span class="form_message_text" ng-bind-html="$ctrl._requestFormMessage"></span></div></div><div class="offer_details_main_tail_s"><prm-offer-details-tile [item]="::$ctrl.item" [bestoffer]="$ctrl._bestOffer" [isdigitaloffer]="::$ctrl.isdigitaloffer"></prm-offer-details-tile></div><form class="fill_details" name="getItNgrs" layout="column" ng-if="::!$ctrl.isDigitalOffer()"><div class="form_item" ng-if="::((!$ctrl._pickupAnywhereEnabled  &&  $ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\') &&\xA0!$ctrl.isFNRotaOffer()) ||\r\n            (!$ctrl._pickupAnywhereEnabled\xA0&&\xA0$ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\')\xA0&&\xA0!$ctrl.isCodeEnabledforForm(\'PICKUP_INSTITUTION\')\xA0&&\xA0$ctrl.isFNRotaOffer()))"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.locationField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupInstitutionFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupLibraryFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'VOLUME\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOT_NEEDED_AFTER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-not-needed-after"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.dateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.requestSubmitted()" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><form class="fill_details" name="getItNgrs" layout="column" ng-if="::$ctrl.isDigitalOffer()"><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'EMAIL\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-form-envelope"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.emailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showAlternativeEmail()"><div class="icon_border alternativeEmail"></div><prm-form-field class="form_field" [field]="$ctrl.alternativeEmailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'FROM_PAGE_TO_PAGE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-pages"></prm-icon></div><div class="form_field_parent"><prm-form-field class="form_field_2 first" [field]="$ctrl.fromPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field><prm-form-field class="form_field_2" [field]="$ctrl.toPageField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'COMPOSER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-composer"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.composerField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'OPUS\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-issue"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.opusField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'SONG_MOVEMENT\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-song"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.songMovementField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'PART\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-music-part"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.partField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOT_NEEDED_AFTER\') && $ctrl.isblankform"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-not-needed-after"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.dateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.isShowCopyRightsStatement()" ng-click="$ctrl.updateCopyRightsValue()" tabindex="-1"><prm-form-field class="form_field copyright_field" [field]="$ctrl.copyRightsCheckBoxField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.requestSubmitted()" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><div class="spinner-container" ng-if="$ctrl.isShowRequestSpinner()"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="space-between"></prm-spinner></div><md-button (click)="$ctrl.cancelForm($event)" class="close_s">x</md-button></div><div class="offer_details_main_tail"><md-button id="form-close-btn" (keydown)="$ctrl.closeKeydownSupport($event)" (click)="$ctrl.cancelForm($event)" class="close">x</md-button><prm-offer-details-tile ng-if="::$ctrl.hasDigitalBestOffer()" [item]="::$ctrl.item" [bestoffer]="$ctrl._bestOffer" [isdigitaloffer]="::$ctrl.isdigitaloffer"></prm-offer-details-tile></div></div><prm-alert-bar class="alert-bar" [alert-object]="$ctrl.getSignInLink()" ng-if="::!$ctrl.isSignedIn()"></prm-alert-bar>');
$templateCache.put('components/search/fullView/ngrs/getItRequest/otherGetItRequest.html','<div id="offer_request_main_tile" class="main_tile_request_form" ng-if="::$ctrl.isSignedIn()"><div class="getItNgrs"><div class="text_wrapper"><h4 class="form_title" translate="nui.ngrs.request.physical.title" ng-if="::!$ctrl.isDigitalOffer()"></h4><h4 class="form_title" translate="nui.ngrs.request.digital.title" ng-if="::$ctrl.isDigitalOffer()"></h4><div class="request_form_message" ng-if="$ctrl._showRequestFormMessage"><prm-icon class="form_message_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-info"></prm-icon><span class="form_message_text" ng-bind-html="$ctrl._requestFormMessage"></span></div></div><div class="offer_details_main_tail_s"><prm-offer-details-tile [item]="::$ctrl.item" [bestoffer]="$ctrl._bestOffer" [isdigitaloffer]="::$ctrl.isdigitaloffer"></prm-offer-details-tile></div><form class="fill_details" name="getItNgrs" layout="column" ng-if="::!$ctrl.isDigitalOffer()"><div class="form_item" ng-if="::((!$ctrl._pickupAnywhereEnabled  &&  $ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\') &&\xA0!$ctrl.isFNRotaOffer()) ||\r\n            (!$ctrl._pickupAnywhereEnabled\xA0&&\xA0$ctrl.isCodeEnabledforForm(\'PICKUP_LOCATION\')\xA0&&\xA0!$ctrl.isCodeEnabledforForm(\'PICKUP_INSTITUTION\')\xA0&&\xA0$ctrl.isFNRotaOffer()))"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.locationField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupInstitutionFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::!$ctrl._pickupAnywhereEnabled  && \xA0$ctrl.isFNRotaOfferDropDowns()"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.pickupLibraryFNField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'VOLUME\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-volume"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.volumeField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOT_NEEDED_AFTER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-not-needed-after"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.dateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm submit_btn" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)" ng-disabled="citationLinker.$invalid"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><form class="fill_details" name="getItNgrs" layout="column" ng-if="::$ctrl.isDigitalOffer()"><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'EMAIL\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-form-envelope"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.emailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showAlternativeEmail()"><div class="icon_border alternativeEmail"></div><prm-form-field class="form_field" [field]="$ctrl.alternativeEmailField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOT_NEEDED_AFTER\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-not-needed-after"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.dateField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="::$ctrl.isCodeEnabledforForm(\'NOTE\')"><div class="icon_border"><prm-icon class="form_icon" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-note"></prm-icon></div><prm-form-field class="form_field" [field]="$ctrl.noteField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="form_item" ng-if="$ctrl.isShowCopyRightsStatement()" ng-click="$ctrl.updateCopyRightsValue()" tabindex="-1"><prm-form-field class="form_field copyright_field" [field]="$ctrl.copyRightsCheckBoxField" [data]="$ctrl.formData" [form]="::this.getItNgrs"></prm-form-field></div><div class="margin-buttons"><md-button class="button-with-icon button-secondary" (click)="$ctrl.clearForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.requestSubmitted()" type="submit" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{"nui.ngrs.send.request" | translate}}</span></md-button></div></form><div class="spinner-container" ng-if="$ctrl.isShowRequestSpinner()"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="space-between"></prm-spinner></div><md-button (click)="$ctrl.cancelForm($event)" class="close_s">x</md-button></div><div class="offer_details_main_tail"><md-button id="form-close-btn" (keydown)="$ctrl.closeKeydownSupport($event)" (click)="$ctrl.cancelForm($event)" class="close">x</md-button><prm-offer-details-tile [item]="::$ctrl.item" [bestoffer]="$ctrl._bestOffer" [isdigitaloffer]="::$ctrl.isdigitaloffer"></prm-offer-details-tile></div></div><prm-alert-bar class="alert-bar" [alert-object]="$ctrl.getSignInLink()" ng-if="::!$ctrl.isSignedIn()"></prm-alert-bar>');
$templateCache.put('components/search/fullView/ngrs/librariesAroundBar/librariesAroundBar.html','<div class="main_tile"><md-button prm-brief-internal-button-marker (click)="$ctrl.getPhysicalResult()" ng-keydown="$event.stopPropagation()" class="neutralized-button arrow-link-button"><div class="tile"><div class="icon"><md-icon alt="" class="ng-scope my_icon md-primoExplore-theme"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon></md-icon></div><div class="button-content text"><span id="text_line"><span translate="nui.ngrs.physical.book.yourself"></span><div class="second_line"><span style="font-style:normal;font-weight:bold;" translate="nui.ngrs.physical.libraries.around"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></div></span></div></div></md-button></div><prm-libraries-around-bar-after parent-ctrl="$ctrl"></prm-libraries-around-bar-after>');
$templateCache.put('components/search/fullView/ngrs/multiSelectFilter/multi-select-filter.html','<div layout="row" layout-align="start center" class="prm-requests-filter-control-visibility"><md-input-container class="static-select empty-select-on-init" layout="row"><label class="bold-text"><span translate="{{$ctrl.filterLabel}}"></span></label><md-select multiple="multiple" ng-model="$ctrl.filterValues" ng-change="$ctrl.changeFilter()" aria-label="{{::($ctrl.filterLabel | translate)}}, {{\'nui.aria.menu.librarycard.requests.MultiSelectfilter\' | translate}}" md-on-open="$ctrl.selectAll()"><md-option ng-repeat="option in ::$ctrl.getSortedFilterOption()" class="prm-select-checkbox" value="{{::option.value}}" ng-selected="$ctrl.isSelected(v)"><span translate="{{::option.key}}"></span></md-option></md-select></md-input-container></div><prm-multi-select-filter-after parent-ctrl="$ctrl"></prm-multi-select-filter-after>');
$templateCache.put('components/search/fullView/ngrs/ngrsBriefResultLine/ngrsBriefResultLine.html','<div id="ngrs_line"><div id="physical_offer"><prm-brief-result-physical-best-offer [item]="::$ctrl.item" [openphysicalform]="$ctrl._openPhysicalForm" [opendigitalform]="$ctrl._openDigitalForm" [offer-found]="$ctrl.isOfferFound()" [loan-period]="$ctrl.getLoanPeriod()" [supply-time]="$ctrl.getSupplyTime()"></prm-brief-result-physical-best-offer></div><div id="digital_offer"><prm-brief-result-digital-best-offer [item]="::$ctrl.item" [opendigitalform]="$ctrl._openDigitalForm" [openphysicalform]="$ctrl._openPhysicalForm" [digital-supply-time]="$ctrl.getDigitalSupplyTime()"></prm-brief-result-digital-best-offer></div><div id="delivery_options"><prm-brief-result-delivery-option-link></prm-brief-result-delivery-option-link></div></div><div class="physical_form" ng-if="$ctrl.showPhysicalForm()"><prm-get-it-request [item]="::$ctrl.item" [getitformopen]="$ctrl._getItFormOpen" [openphysicalform]="$ctrl._openPhysicalForm" [offerfound]="$ctrl._offerFound" [display]="$ctrl._display" [showmessagebar]="$ctrl._showMessageBar" [bestoffer]="$ctrl._physicalBestOffer" [digitalbestoffer]="$ctrl._digitalBestOffer" [piclocs]="$ctrl._picLocs" [opendigitalform]="$ctrl._openDigitalForm" [openphysicalform]="$ctrl._openPhysicalForm" [isblankform]="false" [openblankform]="$ctrl._openBlankForm"></prm-get-it-request></div><div class="digital_form" ng-if="$ctrl.showDigitalForm()"><prm-get-it-request [item]="::$ctrl.item" [isdigitaloffer]="true" [getitformopen]="$ctrl._getItFormOpen" [offerfound]="$ctrl._offerFound" [display]="$ctrl._display" [showmessagebar]="$ctrl._showMessageBar" [bestoffer]="$ctrl._physicalBestOffer" [digitalbestoffer]="$ctrl._digitalBestOffer" [piclocs]="$ctrl._picLocs" [opendigitalform]="$ctrl._openDigitalForm" [openphysicalform]="$ctrl._openPhysicalForm" [isblankform]="false" [openblankform]="$ctrl._openBlankForm"></prm-get-it-request></div><prm-ngrs-brief-result-Line-after parent-ctrl="$ctrl"></prm-ngrs-brief-result-Line-after>');
$templateCache.put('components/search/fullView/ngrs/noOfferFound/noOfferFound.html','<md-content class="msg-bar" layout="column" ng-if="$ctrl.showSuceesBar()"><div ng-class="$ctrl.isRequestOK() ? \'success-bar\': \'error-bar\'" class="bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span role="alert" translate="{{$ctrl.getResponseMessage()}}"></span></div></md-content><div class="main_tile" ng-if="!$ctrl.getShowForm() || ($ctrl.showSuceesBar() && $ctrl.isRequestOK())"><md-button prm-brief-internal-button-marker (click)="::$ctrl.isSignedIn()? $ctrl.setShowForm() : $ctrl.signIn()" ng-keydown="$event.stopPropagation()" class="neutralized-button arrow-link-button"><div class="tile"><div class="icon"><md-icon alt="" class="my_icon"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-no-offer"></prm-icon></md-icon></div><div class="button-content text"><span id="text_line_1"><span translate="nui.ngrs.no_offer.line_1"></span></span><div id="text_line_2"><div class="second_line"><span style="font-style:normal;font-weight:bold;" translate="nui.ngrs.no_offer.line_2"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></div></div></div></div></md-button></div><div ng-if="$ctrl.getShowForm() && !$ctrl.showSuceesBar()"><prm-get-it-request (submit-request-form-event)="$ctrl.recieveSubmitEvent($event)" [item]="::$ctrl.item" [isdigitaloffer]="::false" [offerfound]="$ctrl._offerFound" [display]="$ctrl._display" [showmessagebar]="$ctrl._showMessageBar" [bestoffer]="::$ctrl.bestoffer" [digitalbestoffer]="::$ctrl._digitalBestOffer" [piclocs]="$ctrl._picLocs" [opendigitalform]="::$ctrl._openDigitalForm" [openphysicalform]="::$ctrl._openPhysicalForm" [isblankform]="::true" [openblankform]="$ctrl._openBlankForm"></prm-get-it-request></div><div class="spinner-container" ng-if="$ctrl.isShowRequestSpinner() && !$ctrl.showSuceesBar()"><prm-spinner class="inline-loader dark-on-light" layout="row" layout-align="space-between"></prm-spinner></div><prm-service-no-offer-found-after parent-ctrl="$ctrl"></prm-service-no-offer-found-after>');
$templateCache.put('components/search/fullView/ngrs/physicalBestOffer/physicalBestOffer.html','<div class="main_tiles"><div class="icon-wrapper" ng-class="$ctrl.isTilesPlaceholderActive() ? \'display-icon-animation\' : \'\'"><prm-icon class="icon" icon-type="svg" ng-if="::!$ctrl.isDigitalOffer()" svg-icon-set="primo-ui" icon-definition="ngrs-delivery-box-tile"></prm-icon><prm-icon class="icon" icon-type="svg" ng-if="::$ctrl.isDigitalOffer()" svg-icon-set="primo-ui" icon-definition="ngrs-delivery-envelope-tile"></prm-icon></div><div class="offer_details-wrapper centered-text min-tile-height" ng-if="$ctrl.isTilesPlaceholderActive()"><span translate="rapido.tiles.placeholder.text"></span></div><div class="offer_details-wrapper min-tile-height" ng-if="$ctrl.isNoOfferFound()"><div ng-if="$ctrl.isNoOfferFound()" class="offer_details"><div class="first_line"><span ng-if="::$ctrl.isNoOfferFound()"></span></div><div class="keep_for rota_line" ng-if="::$ctrl.isDigitalOffer()"><span translate="rapido.tiles.no.offer.after.placeholder.digital"></span></div><div class="keep_for rota_line" ng-if="::!$ctrl.isDigitalOffer()"><span translate="rapido.tiles.no.offer.after.placeholder.physical"></span></div><div class="keep_for last_line"><span translate="rapido.tiles.no.offer.after.placeholder.last_line"></span></div></div></div><div class="offer_details-wrapper" ng-if="$ctrl.showOfferTile() && !$ctrl.dontShowAnyOfferTile()"><div class="offer_details"><div class="first_line"><span translate="rapido.tiles.physical.best_offer.line_1" ng-if="::!$ctrl.isDigitalOffer()"></span> <span translate="rapido.tiles.digital.best_offer.line_1" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() != \'book\'"></span> <span translate="rapido.tiles.digital_chapter.best_offer.line_1" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() == \'book\'"></span></div><div ng-if="!$ctrl._showPickupAnywhere || $ctrl.showPickupInstitutionOfferDetails()"><div class="delivered_in"><span translate="rapido.tiles.physical.best_offer.line_2.first_part" ng-if="::!$ctrl.isDigitalOffer() && $ctrl.isSupplyTime() && !$ctrl.isUnavailableResource()"></span> <span translate="rapido.tiles.digital.best_offer.line_2.first_part" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() != \'book\'"></span> <span translate="rapido.tiles.digital_chapter.best_offer.line_2.first_part" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() == \'book\'"></span> <span class="bold_text" ng-if="::!$ctrl.isUnavailableResource()">{{$ctrl.getSupplyTime()}}</span> <span class="bold_text" translate="rapido.tiles.physical.best_offer.line_2.second_part" ng-if="::!$ctrl.isDigitalOffer() && $ctrl.isSupplyTime() && !$ctrl.isUnavailableResource()"></span> <span class="bold_text" translate="rapido.tiles.digital.best_offer.line_2.second_part" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() != \'book\'"></span> <span class="bold_text" translate="rapido.tiles.digital_chapter.best_offer.line_2.second_part" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() == \'book\'"></span> <span translate="rapido.tiles.physical.best_offer.delivery_unknown" ng-if="::!$ctrl.isDigitalOffer() && $ctrl.isSupplyTime() && $ctrl.isUnavailableResource()"></span></div><div ng-if="::!$ctrl.isDigitalOffer() && $ctrl.isLoanPeriod()" class="keep_for" ng-class="{ \'last_line\' : !$ctrl.isShowPatronCost(), \'first_line_terms\' : !$ctrl.isSupplyTime() }"><span translate="rapido.tiles.physical.best_offer.line_3.first_part"></span>&nbsp;<span class="bold_text">{{$ctrl.getLoanPeriod()}}</span>&nbsp;<span class="bold_text" translate="rapido.tiles.physical.best_offer.line_3.second_part"></span></div><div ng-if="::!$ctrl.isDigitalOffer() && !$ctrl.isLoanPeriod()" class="keep_for" ng-class=" ::!$ctrl.isShowPatronCost() ? \'last_line\' : \'\'"><span translate="rapido.tiles.physical.no_best_offer.line_3"></span></div><div ng-if="::$ctrl.isDigitalOffer()" class="keep_for"><span translate="rapido.tiles.digital.best_offer.line_3" ng-if="::$ctrl.getResourceType() != \'book\'"></span> <span translate="rapido.tiles.digital_chapter.best_offer.line_3" ng-if="::$ctrl.getResourceType() == \'book\'"></span></div><div ng-if="::$ctrl.isShowPatronCost()" class="patron_cost last_line"><span translate="rapido.tiles.digital.best_offer.line_4"></span>&nbsp; <span class="bold_text">{{$ctrl.getPatronCost()}}</span>&nbsp; <span class="bold_text">{{$ctrl.getCurrency()}}</span>&nbsp;</div></div><div ng-if="::$ctrl._showPickupAnywhere && !$ctrl.isDigitalOffer()"><div class="first_line_rota" ng-if="!$ctrl.pickupInformationSelected()"><span translate="nui.ngrs.pickup.information.pickupInformationNotSelected"></span></div><div class="first_line_rota" ng-if="$ctrl.cannotcalculateoffer"><span translate="nui.ngrs.pickup.information.cannotCalculateOffer"></span></div><div class="pickupButton"><span class="first_line_rota" translate="nui.ngrs.pickup.information.pickupAtFieldLabel"></span><md-button class="pickup_information_btn md-ink-ripple button-link" (click)="::$ctrl.isSignedIn() ? $ctrl.openPickupAnywhereForm() : $ctrl.signIn()" aria-label="{{\'nui.ngrs.pickup.information.selectPickupInformation\' | translate}}"><md-tooltip>{{$ctrl.getPickupAnywhereSelectedLocation()}}</md-tooltip><prm-icon style="vertical-align: bottom;" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon><span>{{$ctrl.getPickupAnywhereSelectedLocation()}}</span></md-button></div></div><md-button id="{{$ctrl.isDigitalOffer() ? \'get_it_btn_digital\' : \'get_it_btn_physical\'}}" ng-disabled="$ctrl.isGetItButtonDisabled()" ng-if="::$ctrl.isSignedIn()" ng-class="$ctrl.getTileClass()" (click)="$ctrl.getItRequest()" aria-label="{{$ctrl.getButtonAriaLable()}}"><span translate="nui.ngrs.physical.getitbtn"></span></md-button><md-button id="{{$ctrl.isDigitalOffer() ? \'get_it_btn_digital-not-signed\' : \'get_it_btn_physical-not-signed\'}}" ng-if="::!$ctrl.isSignedIn()" ng-class="$ctrl.getTileClass()" (click)="$ctrl.signIn()" aria-label="{{$ctrl.getButtonAriaLable()}}"><span translate="nui.ngrs.physical.getitbtn"></span></md-button></div></div><div class="offer_details-wrapper" ng-if="!$ctrl.showOfferTile() && !$ctrl.dontShowAnyOfferTile()"><div class="offer_details"><div class="first_line_rota" ng-if="!$ctrl._showPickupAnywhere || ($ctrl.showPickupInstitutionOfferDetails() && (!$ctrl.isPersonalDelivery() || $ctrl.isDigitalOffer()))"><div><div class="rota_line"><div ng-if="::!($ctrl.isJournal()) || $ctrl.isPhysicalJournal()"><span style="font-weight: bold;" ng-if="::!$ctrl.isDigitalOffer()" translate="rapido.tiles.physical.no_best_offer.line_1"></span> <span style="font-weight: bold;" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() != \'book\' && !$ctrl.isPhysicalJournal()" translate="rapido.tiles.digital.no_best_offer.line_1"></span> <span style="font-weight: bold;" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() == \'book\'" translate="rapido.tiles.digital_chapter.no_best_offer.line_1"></span></div><span style="font-weight: bold;" ng-if="::$ctrl.isJournal() && $ctrl.isDigitalOffer()" translate="rapido.tiles.journal.no_best_offer.line_1"></span></div><div class="rota_line" ng-if="::!$ctrl.isDigitalOffer()"><span translate="rapido.tiles.physical.no_best_offer.line_2"></span></div><div class="rota_line" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() == \'book\'"><span translate="rapido.tiles.digital_chapter.no_best_offer.line_2"></span></div><div class="rota_line" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() != \'book\' && !$ctrl.isJournal()"><span translate="rapido.tiles.digital.no_best_offer.line_2"></span></div><div class="rota_line" ng-if="::$ctrl.isDigitalOffer() && $ctrl.isJournal()"><span translate="rapido.tiles.journal.no_best_offer.line_2"></span></div><div><div ng-if="::!($ctrl.isJournal())"><span ng-if="::!$ctrl.isDigitalOffer()" translate="rapido.tiles.physical.no_best_offer.line_3"></span> <span ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() != \'book\'" translate="rapido.tiles.digital.no_best_offer.line_3"></span> <span ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() == \'book\'" translate="rapido.tiles.digital_chapter.no_best_offer.line_3"></span></div><span ng-if="::$ctrl.isJournal()" translate="rapido.tiles.journal.no_best_offer.line_3"></span></div></div></div><div ng-if="$ctrl._showPickupAnywhere && !$ctrl.isDigitalOffer()"><div class="offer_details-wrapper"><div class="first_line_rota" ng-if="!$ctrl.pickupInformationSelected()"><span translate="nui.ngrs.pickup.information.pickupInformationNotSelected"></span></div><div class="first_line_rota" ng-if="$ctrl.isPersonalDelivery() && $ctrl.pickupInformationSelected()"><span translate="nui.ngrs.pickup.information.noPersonalDeliveryOffer"></span></div><div class="first_line_rota" ng-if="$ctrl.cannotcalculateoffer"><span translate="nui.ngrs.pickup.information.cannotCalculateOffer"></span></div></div><div class="pickupButton"><span class="first_line_rota" translate="nui.ngrs.pickup.information.pickupAtFieldLabel"></span><md-button class="pickup_information_btn md-ink-ripple button-link" (click)="::$ctrl.isSignedIn() ? $ctrl.openPickupAnywhereForm() : $ctrl.signIn()" aria-label="{{\'nui.ngrs.pickup.information.selectPickupInformation\' | translate}}"><md-tooltip>{{$ctrl.getPickupAnywhereSelectedLocation()}}</md-tooltip><prm-icon style="vertical-align: bottom;" icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-location"></prm-icon><span>{{$ctrl.getPickupAnywhereSelectedLocation()}}</span></md-button></div></div><md-button id="{{$ctrl.isDigitalOffer() ? \'get_it_btn_digital\' : \'get_it_btn_physical\'}}" ng-disabled="$ctrl.isGetItButtonDisabled() || (!$ctrl.showOfferTile() && $ctrl.isPersonalDelivery() && !$ctrl.isDigitalOffer())" ng-if="::$ctrl.isSignedIn()" ng-class="$ctrl.getTileClass()" (click)="$ctrl.getItRequest()" aria-label="{{$ctrl.getButtonAriaLable()}}"><span translate="nui.ngrs.physical.getitbtn"></span></md-button><md-button id="{{$ctrl.isDigitalOffer() ? \'get_it_btn_digital-not-signed\' : \'get_it_btn_physical-not-signed\'}}" ng-if="::!$ctrl.isSignedIn()" ng-class="$ctrl.getTileClass()" (click)="$ctrl.signIn()" aria-label="{{$ctrl.getButtonAriaLable()}}"><span translate="nui.ngrs.physical.getitbtn"></span></md-button></div></div></div><prm-service-physical-best-offer-after parent-ctrl="$ctrl"></prm-service-physical-best-offer-after>');
$templateCache.put('components/search/fullView/ngrs/physicalDeliveryMoreOptionRow/physicalDeliveryMoreOptionRow.html','<table><tr><td class="space">{{ $ctrl.getDeliveryIn() }} <span translate="nui.ngrs.physical.numofdays"></span></td><td class="space">{{ $ctrl.getKeepFor() }} <span translate="nui.ngrs.physical.numofdays"></span></td><td class="space">{{ $ctrl.getRenewable() }}</td><td class="space"><md-button class="get_it_btn" (click)="$ctrl.getItRequest()"><span translate="nui.ngrs.physical.getitbtn"></span></md-button></td></tr></table><prm-physical-delivery-more-option-row-after parent-ctrl="$ctrl"></prm-physical-delivery-more-option-row-after>');
$templateCache.put('components/search/fullView/ngrs/physicalDeliveryOptions/physicalDeliveryOptions.html','<div class="main_tile"><md-button prm-brief-internal-button-marker (click)="$ctrl.getPhysicalResult()" ng-keydown="$event.stopPropagation()" class="neutralized-button arrow-link-button"><div class="tile"><div class="button-content text"><span id="text_line"><span translate="nui.ngrs.physical.see.more.options"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></span></div></div></md-button></div><prm-physical-delivery-options-after parent-ctrl="$ctrl"></prm-physical-delivery-options-after>');
$templateCache.put('components/search/fullView/ngrs/physicalDeliveryOptionsTable/physicalDeliveryOptionsTable.html','<div id="main_tiles"><div class="table_frame"><md-button (click)="$ctrl.close()" class="close">x</md-button><div class="text_line_1"><span class="my_icon"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="more-options"></prm-icon></span>&nbsp <span class="title-item"><p translate="nui.ngrs.physical.delivery.options"></p></span></div><div class="inner_div"><div class="options_table"><table><tr><th><div class="tr_icon"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="delivered-in"></prm-icon></div><div translate="nui.ngrs.physical.delivery.in"></div></th><th><div class="tr_icon"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="clock"></prm-icon></div><div translate="nui.ngrs.physical.delivery.keep.for"></div></th><th><div div class="tr_icon"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="renewable"></prm-icon></div><div translate="nui.ngrs.physical.delivery.renewable"></div></th><th class="empty_th"></th></tr></table><prm-physical-delivery-more-option-row ng-repeat="policy in $ctrl.getPolicies()" [policy]="policy" [openphysicalform]="$ctrl.openphysicalform" [bestoffer]="$ctrl.bestoffer" [showmoredeliveryoptions]="$ctrl.showmoredeliveryoptions"></prm-physical-delivery-more-option-row></div><div class="filters"><div class="filter_results arrow_filter"><span id="filter_title" translate="nui.ngrs.filter.results.title"></span><md-button type="button" (click)="$ctrl.collapse()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up" ng-class="{\'rotate-180\':!$ctrl.isCollapse()}"></prm-icon></md-button></div><div ng-if="!$ctrl.isCollapse()"><div class="delivered_in"><span id="delivered_in" translate="nui.ngrs.filter.delivered.in"></span></div><div><prm-slider-field></prm-slider-field></div><div class="delivered_in"><span id="keep_for" translate="nui.ngrs.filter.keep.for"></span></div><div><prm-slider-field></prm-slider-field></div></div></div></div></div></div><prm-physical-delivery-options-table-after parent-ctrl="$ctrl"></prm-physical-delivery-options-table-after>');
$templateCache.put('components/search/fullView/ngrs/pickup-anywhere-form/pickupAnywhereForm.html','<div id="pickup_information_form" class="main-pickup-information-form" ng-if="::$ctrl.isSignedIn()"><div class="pickup-information-form"><div class="text_wrapper"><h4 class="form_title" translate="nui.ngrs.pickup.information.title"></h4></div><form class="fill_details" name="pickupInformationForm" layout="column"><div class="form_item" ng-if="$ctrl.showHomeDelivery"><prm-form-field class="form_field" [field]="$ctrl.pickupLocation" [data]="$ctrl.formData" [form]="::this.pickupInformationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showPickupDropdowns"><prm-form-field class="form_field" [field]="$ctrl.pickupInstitutionField" [data]="$ctrl.formData" [form]="::this.pickupInformationForm"></prm-form-field></div><div class="form_item" ng-if="$ctrl.showPickupDropdowns"><prm-form-field class="form_field" [field]="$ctrl.pickupLibraryField" [data]="$ctrl.formData" [form]="::this.pickupInformationForm"></prm-form-field></div><div class="margin-buttons" style="margin-left: -2em; margin-right: 2em;"><md-button class="button-confirm" type="submit" type="submit" ng-disabled="$ctrl.selectButtonDisabled()" (keydown)="$ctrl.saveKeydownSupport($event)" (click)="$ctrl.submitForm($event)"><span>{{"nui.ngrs.pickup.information.select" | translate}}</span></md-button></div></form></div><div class="offer_details_main_tail"><md-button id="form-close-btn" (keydown)="$ctrl.cancelForm($event)" (click)="$ctrl.cancelForm($event)" class="close">x</md-button></div></div><prm-alert-bar class="alert-bar" [alert-object]="$ctrl.getSignInLink()" ng-if="::!$ctrl.isSignedIn()"></prm-alert-bar><pickup-anywhere-form-after parent-ctrl="$ctrl"></pickup-anywhere-form-after>');
$templateCache.put('components/search/fullView/ngrs/progressBar/progress-bar.html','<div class="ProgressBar" layout="row" layout-align="space-between start" aria-label="{{\'nui.ngrs.aria.request.status.title\' | translate}}"><ol class="ProgressBarSteps"><li class="ProgressBar-step"><prm-progress-checkbox [status]="::$ctrl.requested"></prm-progress-checkbox></li><li class="ProgressBar-step"><prm-progress-checkbox [status]="::$ctrl.inProcess"></prm-progress-checkbox></li><li class="ProgressBar-step" ng-if="::!$ctrl.isDigitalRequest()"><prm-progress-checkbox [status]="::$ctrl.shipped"></prm-progress-checkbox></li><li class="ProgressBar-step" ng-if="::!$ctrl.isDigitalRequest()"><prm-progress-checkbox [status]="::$ctrl.received"></prm-progress-checkbox></li><li class="ProgressBar-step" ng-if="::$ctrl.isDigitalRequest()"><prm-progress-checkbox class="ProgressBar-step" [status]="::$ctrl.sent"></prm-progress-checkbox></li></ol></div><prm-progress-bar-after parent-ctrl="$ctrl"></prm-progress-bar-after>');
$templateCache.put('components/search/fullView/ngrs/rapidoMessageBar/rapido-message-bar.html','<div class="main_tile"><div class="tile"><div class="icon" ng-if="$ctrl.isSuccess()"><md-icon alt="" class="my_icon_green"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="rapido-success"></prm-icon></md-icon></div><div class="icon" ng-if="!$ctrl.isSuccess()"><md-icon alt="" class="my_icon_red"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="rapido-failed"></prm-icon></md-icon></div><div class="text"><span id="text_line"><span role="alert" translate="{{$ctrl.getMessage()}}"></span></span></div></div></div><prm-rapido-message-bar-after parent-ctrl="$ctrl"></prm-rapido-message-bar-after>');
$templateCache.put('components/search/fullView/ngrs/rapidoNoOfferMessage/rapidoNoOfferMessage.html','<div class="main_tile" ng-if="!$ctrl._showForm"><md-button ng-if="$ctrl.messageLinkable" id="no_offer_message_out_button" prm-brief-internal-button-marker aria-label="{{::$ctrl.getExpandAriaLabel()}}" (click)="$ctrl.clickOnNoOfferMessage()" ng-keydown="$event.stopPropagation()" class="neutralized-button arrow-link-button"><div class="button-content text tile"><span id="no_offer_message_out_text_part1" translate="nui.ngrs.no.offer.message.termsAndConditions.first"></span><div id="no_offer_message_text_part2" class="second_line"><span translate="nui.ngrs.no.offer.message.termsAndConditions.second"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></div></div></md-button><div ng-if="!$ctrl.messageLinkable" class="tile"><div class="button-content text"><span id="no_offer_message_out_text_notClickable" ng-bind-html="$ctrl.fullNoOfferMessage()"></span></div></div></div><div class="form-wrapper" ng-if="$ctrl._showForm"><div id="no_offer_message_text_title" class="form-title"><span translate="nui.ngrs.no.offer.message.termsAndConditions.title"></span></div><div><span aria-label="{{$ctrl._messageContent}}" style="font-style:normal" ng-bind-html="$ctrl._messageContent"></span></div><div id="no_offer_message_back_button" class="button-wrapper"><md-button prm-brief-internal-button-marker aria-label="{{\'nui.ngrs.no.offer.message.back\' | translate}}" (click)="$ctrl.clickBack()" class="back-button button-with-icon zero-margin md-button md-primoExplore-theme md-ink-ripple"><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon><div class="button-label"><span translate="nui.ngrs.no.offer.message.back"></span></div></md-button></div></div><prm-rapido-no-offer-message-after parent-ctrl="$ctrl"></prm-rapido-no-offer-message-after>');
$templateCache.put('components/search/fullView/ngrs/resultsButton/ngrs-results-button.html','<div class="margin-bottom-medium" aria-hidden="false" style="" ng-if="::$ctrl.isRapidoLinksTileRequired()"><md-card class="default-card padded-container-medium zero-margin _md"><p class="zero-margin" ng-if="::$ctrl.isRapidoExpandRequired()"><span translate="nui.ngrs.didnt_find"></span>&nbsp;<md-button id="global-search" class="neutralized-button arrow-link-button rapido-expand-link horizontal-content-control button-as-link" ng-click="$ctrl.changeSearchScope()" aria-label="{{\'nui.ngrs.aria.expand_link\' | translate}}"><span translate="nui.ngrs.expand_link"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></p><p class="zero-margin"><md-button id="local-search" ng-if="::$ctrl.isBackToSearchRequired()" class="horizontal-content-control left-button neutralized-button arrow-link-button rapido-expand-link button-as-link" ng-click="$ctrl.navigateBackToSearchResults()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon><span translate="nui.ngrs.backtolocal.btn"></span></md-button><md-divider ng-if="::$ctrl.isBackToSearchRequired()" class="unskewed-divider"></md-divider><md-button ng-if="::$ctrl.isStillNotFoundRequired()" id="ill-request-link" class="neutralized-button arrow-link-button horizontal-content-control button-as-link" ng-click="$ctrl.getBlankFormPage()" aria-label="{{\'nui.ngrs.aria.send_link\' | translate}}"><span translate="nui.ngrs.aria.send_link"></span><prm-icon link-arrow icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></p></md-card></div><prm-ngrs-results-button-after parent-ctrl="$ctrl"></prm-ngrs-results-button-after>');
$templateCache.put('components/search/fullView/ngrs/sliderField/slider-field.html','<md-slider-container class="slider_cantainer" ng-init="range=10"><md-input-container><input class="input" type="number" ng-model="range"></md-input-container><md-slider min="0" max="100" ng-model="range"></md-slider></md-slider-container><prm-slider-field-after parent-ctrl="$ctrl"></prm-slider-field-after>');
$templateCache.put('components/search/searchResult/savedQueriesList/savedQueryFilter/saved-query-filter.html','<span ng-repeat="pfilter in $ctrl.item.pfilter.split(\';\') track by $index"><span class="filter-item" ng-init="filterType=$ctrl.getPfilterMap(pfilter.split(\',\')[0]);"><i><span ng-if="!filterType.includes(\'DateRange\')" translate="search-advanced.label.{{filterType}}"></span><span ng-if="!filterType.includes(\'DateRange\')">:</span> <span ng-if="filterType.includes(\'DateRange\')" translate="{{$ctrl.getPrefixCodeAccordingToType(filterType)}}{{filterType}}"></span> &nbsp;</i><span ng-if="!filterType.includes(\'DateRange\')" ng-init="prefixCode=$ctrl.getPrefixCodeAccordingToType(filterType)" class="text-bold" ng-class="pfilter.split(\',\')[1]===\'exclude\'?\'strikethrough\':\'\'" translate="{{prefixCode}}{{pfilter.split(\',\')[2]}}"></span><span ng-if="filterType.includes(\'DateRange\')" ng-init="prefixCode=$ctrl.getPrefixCodeAccordingToType(filterType)" class="text-bold" ng-class="pfilter.split(\',\')[1]===\'exclude\'?\'strikethrough\':\'\'">{{$ctrl.convertDate(pfilter.split(\',\')[2])}} </span><span ng-if="$index!== ($ctrl.item.pfilter.split(\';\').length-1) || $ctrl.item.facet" class="text-bold">;</span> </span></span><span ng-repeat="facet in $ctrl.item.facet.split(\';\') track by $index"><span ng-if="facet.length > 0" class="filter-item"><i><span ng-if="::$ctrl.isPrimoVELocalFacet(facet)"><span translate-default="{{facet.split(\',\')[0]}}" translate="fulldisplay.{{$ctrl.facetNameTransfer(facet)}}" translate-attr-title="fulldisplay.{{facet.split(\',\')[0]}}"></span>:&nbsp; </span><span ng-if="::!$ctrl.isPrimoVELocalFacet(facet)"><span translate-default="{{facet.split(\',\')[0]}}" translate="facets.facet.facet_{{$ctrl.facetNameTransfer(facet)}}" translate-attr-title="facets.facet.facet_{{facet.split(\',\')[0]}}"></span>:&nbsp; </span></i><span class="text-bold" ng-class="facet.split(\',\')[1]===\'exclude\'?\'strikethrough\':\'\'" translate="{{facet.split(\',\')[0]}}.{{$ctrl.decodeString(facet.split(\',\')[2])}}" translate-default="{{$ctrl.defTrans(facet)}}"></span> <span ng-if="$index!== ($ctrl.item.facet.split(\';\').length-1) && $ctrl.item.facet.split(\';\')[$index + 1].length > 0" class="text-bold">;</span></span></span><prm-saved-query-filter-after parent-ctrl="$ctrl"></prm-saved-query-filter-after>');
$templateCache.put('components/search/searchResult/searchResultList/pageNavMenu/page-nav-menu.html','<div ng-if="($ctrl.numOfResults > $ctrl.PAGE_SIZE && $ctrl.mediaQueries.gtxs) || $ctrl.mode===\'browse\'" class="page-nav" id="speedDialWidget" ng-cloak><div ng-if="$ctrl.isMaxDisplayResultsExceeded()"><span translate="nui.results.maxResults"></span></div><div layout="column" layout-align="center start" class="page-nav-inner"><div class="counter-nav counter-first" ng-show="$ctrl.currentPage >= 3" ng-if="!$ctrl.showComponents || $ctrl.showComponents.firstPage"><md-button class="md-fab md-mini" ng-if="$ctrl.currentPage >= 3" ng-click="$ctrl.jumpToPage(1, $event); $ctrl.updatePivInSafari()" ui-state="$ctrl.stateName" ui-state-params="$ctrl.getPageLinkParams(1)" ui-sref-opts="{reload: true, inherit:false}" href="" aria-label="{{\'nui.aria.results.firstPage\' | translate}}"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="link.title.results.first_page"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="double-chevron-up"></prm-icon></md-button></div><div class="counter-nav counter-prev" ng-show="$ctrl.showPrevButtonPredicate() || ($ctrl.currentPage && $ctrl.currentPage !== 1)"><md-button aria-label="{{::(\'link.title.results.prev\' | translate)}}" class="md-fab md-mini" ng-click="$ctrl.throwPrevResultsEvent(); $ctrl.jumpToPage($ctrl.currentPage-1, $event)" ui-state="$ctrl.stateName" ui-state-params="$ctrl.getPageLinkParams($ctrl.currentPage-1)" ui-sref-opts="{reload: true, inherit:false}" href=""><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}" ng-style="::($ctrl.isRtlMode() && {\'margin-right\':\'6em\'})"><span translate="link.title.results.prev"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-up"></prm-icon></md-button></div><div class="counter-main" role="document" ng-if="!$ctrl.showComponents || $ctrl.showComponents.paging" ng-class="{\'counter-open\': $ctrl.isOpen}"><md-fab-speed-dial md-open="$ctrl.isOpen" md-direction="{{$ctrl.getPageWidgetDirection()}}" ng-class="$ctrl.selectedMode"><md-fab-trigger><md-button translate-attr="{\'aria-label\':\'nui.aria.currentPageSelector\' }" translate-values="{\'page\':  \'{{$ctrl.currentPage}}\' }" class="md-fab" aria-expanded="{{$ctrl.isOpen}}" ng-click="$ctrl.currentPageFocus()" ng-class="{\'md-mini\': $ctrl.mediaQueries.xs, \'md-is-open\': $ctrl.isOpen}"><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}"><span translate="nui.citation_trail.link.pages.tooltip"></span></md-tooltip><span ng-show="!$ctrl.isOpen" layout="column"><span class="counter-text">{{\'nui.paging.pagenumber\' | translate}}</span> <span class="counter-count">{{$ctrl.currentPage}}</span></span><span ng-show="$ctrl.isOpen"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close"></prm-icon></span></md-button></md-fab-trigger><md-fab-actions ng-cloak><div ng-repeat="i in $ctrl.getPageList() track by $index" tabindex="-1"><md-button tabindex="-1" ui-state="$ctrl.stateName" ui-state-params="$ctrl.getPageLinkParams(i)" ui-sref-opts="{reload: true, inherit:false}" href="" id="pageButton{{i}}" aria-label="{{::(\'nui.aria.paging.gotopage\' | translate: {number: i})}}" class="md-fab" ng-class="{\'current\': i === $ctrl.currentPage, \'md-mini\': $ctrl.mediaQueries.xs}" ng-click="$ctrl.jumpToPage(i, $event)">{{i}}</md-button></div></md-fab-actions></md-fab-speed-dial></div><div class="counter-nav counter-next" ng-show="$ctrl.showNextPageButton()"><md-button aria-label="{{$ctrl.getNextPageButtonText()}}" class="md-fab md-mini" ng-click="$ctrl.getNextPage($event)" ui-state="$ctrl.stateName" ui-state-params="$ctrl.getPageLinkParams($ctrl.currentPage+1)" ui-sref-opts="{reload: true, inherit:false}" href=""><md-tooltip md-direction="{{$ctrl.getPageWidgetDirection()}}" ng-style="::($ctrl.isRtlMode() && {\'margin-right\':\'6em\'})"><span>{{$ctrl.getNextPageButtonText()}}</span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-down"></prm-icon></md-button></div></div></div>');
$templateCache.put('components/search/searchResult/searchResultList/pageNavMenu/page-nav-picker.html','<div class="page-nav margin-top-medium" ng-if="$ctrl.numOfResults > 0" id="resultsPerPage" ng-cloak layout="column" layout-align="center center"><div ng-if="$ctrl.isMaxDisplayResultsExceeded()"><span translate="nui.results.maxResults"></span></div><div layout="row" layout-align="center center" class="page-nav-inner"><div class="counter-nav counter-prev" ng-show="$ctrl.showPrevButtonPredicate() || ($ctrl.currentPage && $ctrl.currentPage !== 1)"><md-button aria-label="{{::(\'link.title.results.prev\' | translate)}}" class="md-mini zero-margin" ng-click="$ctrl.throwPrevResultsEvent(); $ctrl.jumpToPage($ctrl.currentPage-1, $event)" ui-state="$ctrl.stateName" ui-state-params="$ctrl.getPageLinkParams($ctrl.currentPage-1)" ui-sref-opts="{reload: true, inherit:false}" href=""><md-tooltip md-direction="{{$ctrl.getTooltipDirection(true)}}" ng-class="{\'text-tooltip-rtl-dir-right\': $ctrl.isRtlMode()}"><span translate="link.title.results.prev"></span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-left"></prm-icon></md-button></div><div class="counter-main" ng-if="(!$ctrl.showComponents || $ctrl.showComponents.paging) && $ctrl.showPageNavPicker()" ng-class="{\'counter-open\': $ctrl.isOpen}"><div ng-cloak layout="row" role="navigation" translate-attr="{\'aria-label\': \'nui.aria.pagination\'}"><div ng-repeat="i in $ctrl.getPageList() track by $index" tabindex="-1"><md-button ui-state="$ctrl.stateName" ui-state-params="$ctrl.getPageLinkParams(i)" ui-sref-opts="{reload: true, inherit:false}" href="" id="pageButton{{i}}" aria-label="{{::$ctrl.selectedOrNotAriaPages(i)}}" class="md-mini" aria-current="{{i === $ctrl.currentPage ? \'true\' : \'false\'}}" ng-class="{\'current-page\': i === $ctrl.currentPage, \'md-mini\': $ctrl.mediaQueries.xs}" ng-click="(i !== $ctrl.currentPage && $ctrl.jumpToPage(i, $event)) || (i === $ctrl.currentPage && $event.preventDefault())">{{i}}</md-button></div></div></div><div class="counter-nav counter-next" ng-show="$ctrl.showNextPageButton()"><md-button aria-label="{{$ctrl.goToNextPageText}}" class="md-mini zero-margin" ng-click="$ctrl.getNextPage($event)" ui-state="$ctrl.stateName" ui-state-params="$ctrl.getPageLinkParams($ctrl.currentPage+1)" ui-sref-opts="{reload: true, inherit:false}" href=""><md-tooltip md-direction="{{$ctrl.getTooltipDirection(false)}}" ng-class="{\'text-tooltip-rtl-dir-left\': $ctrl.isRtlMode()}"><span>{{$ctrl.goToNextPageText}}</span></md-tooltip><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="chevron-right"></prm-icon></md-button></div></div><div class="results-per-page"><span translate="nui.results.resultsPerPage"></span><div class="bulks-options"><md-button ng-repeat="item in ::$ctrl.numberOfResultsPerPageSeries()" ng-class="{\'current-bulk\': $ctrl.PAGE_SIZE == item}" ng-click="($ctrl.PAGE_SIZE != item && $ctrl.onClickPageBulkSize(item)) || ($ctrl.PAGE_SIZE === item && $event.preventDefault())" class="md-mini" aria-current="{{$ctrl.PAGE_SIZE == item ? \'true\' : \'false\'}}" aria-label="{{::$ctrl.selectedOrNotAriaResults(item)}}">{{item}}</md-button></div></div></div>');
$templateCache.put('components/search/searchResult/searchResultList/pageNavMenu/page-nav.html','<div ng-include src="$ctrl.getPageNavHtml()"></div><prm-page-nav-menu-after parent-ctrl="$ctrl"></prm-page-nav-menu-after>');
$templateCache.put('components/search/topbar/userArea/languageSelection/language-selection.html','<md-dialog-content><h2 class="light-text padding-medium padding-bottom-zero layout-align-start-center layout-row" layout="row" layout-align="start center"><prm-icon class="rotate-20" icon-type="svg" svg-icon-set="primo-ui" icon-definition="earth"></prm-icon><span translate="eshelf.menu.displayLang" class="margin-left-small"></span></h2><md-list role="list" layout="column" layout-align="start center"><md-list-item ng-repeat="language in ::$ctrl.languages" layout="row" value="{{::language}}" class="no-padding _md-button-wrap _md md-clickable" role="listitem" tabindex="-1"><div class="md-button md-no-style zero-padding"><button class="md-no-style md-button md-ink-ripple width-100" layout="row" layout-align="center center" ng-click="$ctrl.changeLanguage(language) && $ctrl.closeAfterSelectLang()" aria-label="{{$ctrl.selectedLang(language)}}"><span class="ng-binding" translate="mypref.language.option.{{::language}}"></span></button></div></md-list-item></md-list></md-dialog-content><md-dialog-actions layout="row" class="layout-row"><button class="md-button" ng-click="$ctrl.close()"><span translate="eshelf.menu.cancel"></span></button></md-dialog-actions><prm-language-selection-after parent-ctrl="$ctrl"></prm-language-selection-after>');
$templateCache.put('components/search/topbar/userArea/libraryCard/library-card-menu.html','<md-button ng-if="!$ctrl.isOvp()" aria-label="{{\'nui.aria.menu.settings\' | translate}}" class="button-with-icon zero-margin" (click)="$ctrl.goToUserSettings();"><prm-icon [icon-type]="::$ctrl.topBarIcons.library.type" [svg-icon-set]="::$ctrl.topBarIcons.library.iconSet" [icon-definition]="::$ctrl.topBarIcons.library.icon"></prm-icon><span translate="nui.details.header.ovl"></span></md-button><md-button aria-label="{{$ctrl.getLibraryCardAriaLabel() | translate}}" class="button-with-icon zero-margin" (click)="$ctrl.goToMyLibraryCard();" (keydown)="$ctrl.keydownSupport($event)"><prm-icon [icon-type]="::$ctrl.topBarIcons.library.type" [svg-icon-set]="::$ctrl.topBarIcons.library.iconSet" [icon-definition]="::$ctrl.topBarIcons.library.icon"></prm-icon><span translate="nui.menu.librarycard"></span></md-button><prm-library-card-menu-after parent-ctrl="$ctrl"></prm-library-card-menu-after>');
$templateCache.put('components/security/login/unionCatalogLogin/unionCatalogLoginInstitutionItem/union-catalog-login-institution-item.html','<div class="md-list-item-text" layout="column"><div layout="row"><h3 class="list-item-title md-display-3">{{$ctrl.institutionName}}</h3></div></div><prm-union-catalog-login-institution-item-after parent-ctrl="$ctrl"></prm-union-catalog-login-institution-item-after>');
$templateCache.put('components/search/fullView/getit/almaViewit/additionalServices/additionalServices.html','<div translate="viewit.fulltext" class="bold-text margin-bottom-small"></div><div class="additional-service" ng-repeat="additionalServiceType in $ctrl.getAdditionalServiceTypes()" ng-if="($ctrl.getAdditionalServices(additionalServiceType.type) && $ctrl.getAdditionalServices(additionalServiceType.type).length)"><prm-alma-viewit-items [service-type]="ELECTRONIC" [services]="$ctrl.getAdditionalServices(additionalServiceType.type)" [related-only]="$ctrl.isRelated(additionalServiceType.type)" [related]="$ctrl.isRelated(additionalServiceType.type)" [read-only]="false" [sub-header]="" [header]="additionalServiceType.label" [link-type]="additionalServiceType.type"></prm-alma-viewit-items></div><prm-additional-services-after parent-ctrl="$ctrl"></prm-additional-services-after>');
$templateCache.put('components/search/fullView/getit/almaViewit/almaRepresentationsFilter/alma-representations-filter.html','<div class="bar filter-bar animate-horizontal-swap margin-bottom-small" layout="row" layout-align="start center" layout-wrap style="padding: .5em 1em; position: relative; border-radius: 3px;" layout-fill><span class="margin-right-small" translate="fulldisplay.representations.filters"></span><md-divider class="vertical-divider transparent-divider"></md-divider><md-container ng-repeat="(filterKey, filterOptions) in $ctrl.dropdownOptions" layout="row"><md-input-container ng-if="filterOptions.length > 0" layout="row" layout-align="start" class="zero-padding margin-right-small"><md-select ng-change="$ctrl.throwFilterEvent()" ng-model="$ctrl[filterKey + \'Filter\']" placeholder="{{$ctrl.getLabelForFilter(filterKey)}}" aria-label="{{$ctrl.getAriaLabelForFilter(filterKey)}}" class="borderless"><md-option value="All">{{$ctrl.getLabelForFilter(filterKey)}}</md-option><md-option ng-repeat="option in filterOptions" value="{{option}}">{{option}}</md-option></md-select></md-input-container></md-container><md-divider class="vertical-divider transparent-divider" flex></md-divider><md-button class="button-as-link button-with-icon filter-align no-shodow" aria-label="{{\'nui.aria.representations.clearFilter\' | translate}}" style="right: -.5em" (click)="$ctrl.clearFilters()"><prm-icon icon-type="{{$ctrl.opacLocations.close.type}}" svg-icon-set="{{$ctrl.opacLocations.close.iconSet}}" icon-definition="{{$ctrl.opacLocations.close.icon}}"></prm-icon><span translate="fulldisplay.representations.clearFilter"></span></md-button></div><prm-alma-representations-filter-after parent-ctrl="$ctrl"></prm-alma-representations-filter-after>');
$templateCache.put('components/search/fullView/getit/opac/library/library.html','<div class="neutralized-button layout-full-width layout-display-flex md-button" tabindex="0" layout="flex" ng-click="$ctrl.onClick()" md-ink-ripple="red"><div layout="row" flex="100" layout-align="space-between center"><div class="md-list-item-text" layout="row" layout-wrap flex><div flex flex-xs="100"><h3 ng-if="$ctrl.lib">{{$ctrl.getLocationName()}}</h3></div></div><prm-icon class="padding-right-small" icon-type="{{$ctrl.opacLocations.rightArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.rightArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.rightArrow.icon}}"></prm-icon></div></div><prm-library-after parent-ctrl="$ctrl"></prm-library-after>');
$templateCache.put('components/search/fullView/getit/opac/locations/demo.locations.html','<div layout="column" layout-fill><div ng-if="userSignedIn" class="labeled-block" ng-class="{\'collapsed\':$root.requestOptionsHide}" layout="row" layout-fill ng-mouseenter="unhideRequestOptions($root.requestOptionsHide)" ng-mouseleave="cancelUnhideRequestOptions()"><h3 class="block-label md-title light-text zero-margin">Request:</h3><div flex class="block-body links-block" layout="row" layout-wrap ng-include="\'./modules/requestOptions.html\'"></div></div><div ng-if="!userSignedIn" class="bar alert-bar" layout="row" layout-align="start center" layout-fill><span flex>Please <span class="bold-text">sign in</span> to see request options and to place requests.</span><md-button class="button-as-link button-with-icon" aria-label="Sign in button" style="right: -.5em" (click)="clearLocationFilters = true; $root.userSignedIn = true"><prm-icon><md-icon md-svg-icon="./images/login.svg" aria-label="Login Icon"></md-icon></prm-icon><span>Sign in</span></md-button></div></div><md-divider style="margin-top: 1em; margin-bottom: .5em; opacity: .5;"></md-divider><md-tabs md-dynamic-height md-selected="selectedTab" class="tabs-as-app hidden-tabs"><md-tab label="Main" md-on-select="requestsLimit(15); showRequestOptions();"><md-content class="overflow-hidden"><div layout="row" layout-align="space-between center"><h3 class="md-title light-text zero-margin animate-horizontal-swap">Locations:</h3><md-button class="md-icon-button md-mini" aria-label="Filter button" (click)="locationsFilterVisible = !locationsFilterVisible"><md-tooltip>Filter locations</md-tooltip><prm-icon ng-if="!locationsFilterVisible"><md-icon md-svg-icon="./images/filter-outline.svg" aria-label="Filter Icon"></md-icon></prm-icon><prm-icon ng-if="locationsFilterVisible"><md-icon md-svg-icon="./images/filter-remove.svg" aria-label="Filter Icon"></md-icon></prm-icon></md-button></div><div ng-if="locationsFilterVisible" class="bar filter-bar animate-horizontal-swap margin-bottom-small" layout="row" layout-align="start center" layout-wrap style="padding: .5em 1em; position: relative; border-radius: 3px;" layout-fill><span class="margin-right-small">Filters:</span><md-input-container layout="row" layout-align="start" class="zero-padding margin-right-small"><md-select ng-model="locationFilter" placeholder="Pickup location" class="borderless"><md-option ng-repeat="option in pickupLocations" value="{{option}}">{{option}}</md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding margin-right-small"><md-select ng-model="volumeFilter" placeholder="Volume" class="borderless"><md-option ng-repeat="option in volumes" value="{{option}}">{{option}}</md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding"><md-select ng-model="issueFilter" placeholder="Issue" class="borderless"><md-option ng-repeat="option in issues" value="{{option}}">{{option}}</md-option></md-select></md-input-container><div flex></div><md-button class="button-as-link button-with-icon" aria-label="Filter button" style="right: -.5em" (click)="clearLocationsFilter()"><prm-icon><md-icon md-svg-icon="./images/close.svg" aria-label="Clear Icon"></md-icon></prm-icon><span>Clear filters</span></md-button></div><div ng-repeat="inst in locations"><h4 class="md-title zero-margin">{{inst.institution}}</h4><md-list><md-list-item class="md-2-line separate-list-items narrow-list-item" ng-repeat="ven in inst.venues  | limitTo:2" (click)="selectedVenue(ven); goToLocation(1); $root.locationNoItems = false;"><div class="md-list-item-text"><h3>{{ven.name}}</h3><p><span class="bold-text" style="color: {{ven.statusColor}}">{{ven.status}}</span>, <span>{{ven.category}}; {{ven.code}};</span></p></div><md-icon md-svg-icon="./images/chevron-right.svg"></md-icon></md-list-item><md-list-item class="md-2-line separate-list-items narrow-list-item" (click)="goToNoItems()"><div class="md-list-item-text"><h3>WSU Main Library</h3><p><span class="bold-text" style="color: #C59655">May be available</span>, <span>Main Collection; (TK5101.A1 J114 ).</span></p></div><md-icon md-svg-icon="./images/chevron-right.svg"></md-icon></md-list-item></md-list></div></md-content></md-tab><md-tab label="two" md-on-select="showBackButton(); hideRequestOptions()"><div class="tab-header"><md-button ng-show="backButtonVisible" (click)="backToLocations();" class="back-button button-with-icon zero-margin"><prm-icon><md-icon md-svg-icon="./images/chevron-left.svg" aria-label="Back button"></md-icon></prm-icon><span>back to locations</span></md-button></div><md-content class="overflow-hidden"><div class="tab-content-header" layout="row" layout-align="space-between end"><div class="layout-column" ng-if="!locationNoItems"><h4 class="md-title title">{{$root.selectedVenue.name}}</h4><p ng-if="$root.selectedVenue.status"><span class="bold-text" style="color: {{$root.selectedVenue.statusColor}}">{{$root.selectedVenue.status}}</span>, {{$root.selectedVenue.category}}, {{$root.selectedVenue.code}}</p><div ng-if="$root.selectedVenue.summaryShort" class="weak-text"><span>Item summary: {{$root.selectedVenue.summaryShort}}...</span> <span class="text-link" (click)="summaryLinesVisible = !summaryLinesVisible">expand</span><div ng-show="summaryLinesVisible" layout="column"><span ng-repeat="line in $root.selectedVenue.summaryLines">{{line}}</span></div></div></div><div class="layout-column" ng-if="locationNoItems"><h4 class="md-title title">WSU Main Library</h4><p><span class="bold-text" style="color: #C59655">May be available</span>, Main Collection, (TK5101.A1 J114 )</p><div ng-if="$root.selectedVenue.summaryShort" class="weak-text"><span>Item summary: v. 1, no. 1 (2004:enero:01)...</span> <span class="text-link" (click)="summaryLinesVisible = !summaryLinesVisible">expand</span><div ng-show="summaryLinesVisible" layout="column"><span ng-repeat="line in $root.selectedVenue.summaryLines">jasdjsajdsajdas</span></div></div></div><div class="" layout="row" ng-hide="locationNoItems" layout-align="end center"><md-button class="md-icon-button md-mini" aria-label="Filter button" (click)="locationsFilterVisible = !locationsFilterVisible"><md-tooltip>Filter locations</md-tooltip><prm-icon ng-if="!locationsFilterVisible"><md-icon md-svg-icon="./images/filter-outline.svg" aria-label="Filter Icon"></md-icon></prm-icon><prm-icon ng-if="locationsFilterVisible"><md-icon md-svg-icon="./images/filter-remove.svg" aria-label="Filter Icon"></md-icon></prm-icon></md-button><div class="vertical-divider transparent-divider"></div><md-button class="md-icon-button header-action expand-collapse-button" (click)="locationItemExpand = !locationItemExpand"><md-tooltip md-autohide="true"><span ng-if="locationItemExpand">Collapse</span><span ng-if="!locationItemExpand">Expand</span> all items</md-tooltip><span ng-if="!locationItemExpand"><md-icon md-svg-icon="./images/expand-all.svg" aria-label="expand all Icon"></md-icon></span><span ng-if="locationItemExpand"><md-icon md-svg-icon="./images/collapse-all.svg" aria-label="expand all Icon"></md-icon></span></md-button></div></div><div ng-if="locationsFilterVisible" class="bar filter-bar animate-horizontal-swap margin-bottom-small" layout="row" layout-align="start center" layout-wrap style="padding: .5em 1em; position: relative; border-radius: 3px;" layout-fill><span class="margin-right-small">Filters:</span><md-input-container layout="row" layout-align="start" class="zero-padding margin-right-small"><md-select ng-model="volumeFilter" placeholder="Volume" class="borderless"><md-option ng-repeat="option in volumes" value="{{option}}">{{option}}</md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding"><md-select ng-model="issueFilter" placeholder="Issue" class="borderless"><md-option ng-repeat="option in issues" value="{{option}}">{{option}}</md-option></md-select></md-input-container><div flex></div><md-button class="button-as-link button-with-icon" aria-label="Filter button" style="right: -.5em" (click)="clearLocationsFilter()"><prm-icon><md-icon md-svg-icon="./images/close.svg" aria-label="Clear Icon"></md-icon></prm-icon><span>Clear filters</span></md-button></div><div ng-if="locationNoItems"><div class="bar alert-bar" layout="row" layout-align="start center" style="margin-bottom: 1em;"><span flex ng-if="userSignedIn">We couldn\'t find any items to display for this location. You are welcome to place a request via one of the options above.</span> <span flex ng-if="!userSignedIn">We couldn\'t find any items to display for this location. Please sign in above to see the available request options.</span></div></div><md-list layout="column" ng-hide="locationNoItems"><md-list-item ng-repeat="loc in $root.selectedVenue.locations | limitTo:limitLocationItemsCount" class="md-3-line separate-list-items has-expand in-element-dialog-parent" ng-class="locationItemExpand?\'item-expanded\':\'\'"><div class="item-summary in-element-dialog-context" layout-fill><div class="md-list-item-text" layout="row"><div flex="30"><h3 ng-if="loc.description">{{loc.description}}, {{loc.itemType}}</h3><h4 ng-if="loc.call">{{loc.call}}</h4></div><div flex><p ng-if="loc.status">{{loc.status}}, {{loc.itemStatus}}, no. in queue: {{loc.itemQueue}}</p><div ng-hide="!locationItemExpand"><p ng-if="loc.itemType">Item type: {{loc.itemType}}</p><p ng-if="loc.barcode">Barcode: {{loc.barcode}}</p></div></div><div layout="column" layout-align="center end"><div layout="row"><md-button ng-if="userSignedIn" class="item-action md-secondary" ng-repeat="option in loc.options" (click)="goToLocationRequest(option, loc, $root.selectedVenue); $root.comingFromLocations = true; $root.preselectedRequestDetails = true; $root.hasPreItems = true;"><span>{{option}}</span></md-button></div></div></div></div><md-button class="md-secondary item-expand-button" aria-label="view" (click)="locationItemExpand = !locationItemExpand"><md-icon md-svg-icon="./images/chevron-down.svg" ng-class="locationItemExpand?\'h-flipped-icon\':\'\'"></md-icon></md-button></md-list-item><md-button ng-if="!locationNoItems && $root.selectedVenue.locations.length > $root.limitLocationItemsCount" class="show-more-button zero-margin" (click)="$root.limitLocationItemsCount = $root.selectedVenue.locations.length" ng-hide="$root.limitLocationItemsCount == $root.selectedVenue.locations.length"><span>Show all items ({{$root.selectedVenue.locations.length}})</span></md-button></md-list></md-content></md-tab><md-tab label="Request Form" md-on-select="showBackButton(); checkForRequestOptions()"><md-button ng-if="!locationRequest" ng-show="backButtonVisible" (click)="backToLocations()" class="back-button button-with-icon zero-margin"><prm-icon><md-icon md-svg-icon="./images/chevron-left.svg" aria-label="Back button"></md-icon></prm-icon><span>back to locations</span></md-button><md-button ng-if="locationRequest" ng-show="backButtonVisible" (click)="backToItems()" class="back-button button-with-icon zero-margin"><prm-icon><md-icon md-svg-icon="./images/chevron-left.svg" aria-label="Back button"></md-icon></prm-icon><span>back to items</span></md-button><md-content layout="column"><h3 class="light-text md-title zero-margin-top">{{requestType}} request</h3><div layout="row" class="form-focus service-form" layout-margin><div class="service-form-loader" ng-if="requestFormLoader"><div class="loader"><div class="diamond"></div><div class="diamond"></div><div class="diamond"></div></div></div><div class="service-form-static-panel" layout="column" layout-padding layout-align="start start" ng-if="hasPreItems"><div layout="column" layout-align="start" layout-padding><div ng-repeat="detail in PreDetails" class="md-input-container-dummy dummy-input-has-value" layout="column" ng-show="detail.type == requestType"><div class="label-dummy" flex-order="1">{{detail.label}}</div><div class="md-select-dummy" layout="row" flex-order="2"><div class="md-select-value-dummy md-select-value" layout="row"><span>{{detail.text}}</span> <span class="md-select-icon-dummy md-select-icon" aria-hidden="true"></span></div></div></div></div></div><div class="service-form-dynamic-panel" flex layout="column" layout-padding><div ng-include="\'./modules/request-form-dropdowns.html\'" flex layout="row" layout-align="center center" style="padding-left: 1.5em;"></div><div layout="row" layout-align="end" layout-fill><md-button class="button-with-icon button-secondary" (click)="resetRequestForm()" ng-if="requestFormAltered"><prm-icon><md-icon md-svg-icon="./images/replay.svg"></md-icon></prm-icon><span>Reset form</span></md-button><span flex></span><md-button class="button-confirm" (click)="doSendRequest(requestType, $event)">Send request</md-button></div></div></div></md-content></md-tab><md-tab label="Request reply" md-on-select="showBackButton()"><md-button ng-if="$root.requestReplySuccess" ng-show="backButtonVisible" (click)="backToLocations()" class="back-button button-with-icon zero-margin"><prm-icon><md-icon md-svg-icon="./images/chevron-left.svg" aria-label="Back button"></md-icon></prm-icon><span>back to locations</span></md-button><md-button ng-if="!$root.requestReplySuccess" ng-show="backButtonVisible" (click)="backToRequestForm()" class="back-button button-with-icon zero-margin"><prm-icon><md-icon md-svg-icon="./images/chevron-left.svg" aria-label="Back button"></md-icon></prm-icon><span>back to request form</span></md-button><md-content layout="column"><div ng-if="$root.requestReplySuccess" class="bar success-bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span>Your request was successfully placed</span></div><div ng-if="!$root.requestReplySuccess" class="bar error-bar large-bar" layout="row" layout-align="center center" layout-padding layout-fill><span>Patron has already placed a photocopy request for this item</span></div></md-content></md-tab></md-tabs>');
$templateCache.put('components/search/fullView/getit/opac/locations/location-items.html','<h5 class="section-title" style="margin-bottom: .75em !important;"><span translate="nui.aria.locationItems.locationItems"></span></h5><div layout="column" layout-align="start start space-between center"><md-button class="button-right-align button-link link-alt-color zero-margin" ng-if="$ctrl.showRegisterUser() && !$ctrl.manualRegistrationInProgress" (click)="$ctrl.reloadWithRegisterUser()" aria-label="{{\'nui.fulldisplay.otherLocations.register\' | translate}}"><span class="bold-text padding-small" translate="nui.fulldisplay.otherLocations.register"></span></md-button><prm-spinner ng-if="$ctrl.manualRegistrationInProgress" class="inline-loader half-transparent no-text" layout="row" layout-align="center center"></prm-spinner><span ng-if="!$ctrl.showRegisterUser() && $ctrl.manualRegistrationFailed" class="padding-small prm-warning-color" translate="nui.bor_info_failed"></span></div><div class="tab-content-header margin-bottom-small margin-left-medium" layout="{{$ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm ? \'column\' : \'row\'}}" layout-align="space-between end"><div layout="column" flex ng-style="::(($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm) && {\'min-width\':\'100%\'})"><h6 ng-if="$ctrl.currLoc.location && $ctrl.getLibraryName($ctrl.currLoc.location)" class="md-title ng-binding zero-margin">{{$ctrl.currLoc.location.librarycodeTranslation}}</h6><h5 ng-if="$ctrl.currLoc.location.relatedTitle != null && $ctrl.currLoc.location.relatedTitle !== \'\'" class="related-title"><prm-icon icon-type="{{$ctrl.opacLocations.relatedArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.relatedArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.relatedArrow.icon}}" class="related-title-icon h-flipped"></prm-icon><span ng-if="$ctrl.loc.location.boundWith" translate="nui.location.unrelated_title" class="related-title-label"></span> <span ng-if="!$ctrl.loc.location.boundWith" translate="nui.location.related_title" class="related-title-label"></span> <span class="related-title-name">{{$ctrl.currLoc.location.relatedTitle}}</span></h5><p ng-if="$ctrl.currLoc.location.availabilityStatus" class="ng-binding ng-scope zero-margin"><span class="availability-status {{$ctrl.currLoc.location.availabilityStatus}}" translate="fulldisplay.availabilty.{{$ctrl.currLoc.location.availabilityStatus}}"></span> <span ng-if="$ctrl.currLoc.location.subLocation">,</span> <span ng-if="$ctrl.currLoc.location && $ctrl.currLoc.location.subLocation && $ctrl.getSubLibraryName($ctrl.currLoc.location)" ng-bind-html="$ctrl.currLoc.location.collectionTranslation"></span> <span ng-if="$ctrl.currLoc.location.callNumber">;</span> <span ng-if="$ctrl.currLoc.location.callNumber" dir="auto">{{$ctrl.currLoc.location.callNumber}}</span></p><p ng-if="$ctrl.currLoc.location.availabilityStatement" class="ng-binding ng-scope zero-margin">{{$ctrl.currLoc.location.availabilityStatement}}</p><prm-location-holdings [curr-loc]="$ctrl.currLoc" [service-scroll-id]="::$ctrl.serviceScrollId"></prm-location-holdings></div><div layout="::{{($ctrl.mediaQueries.xs || $ctrl.mediaQueries.sm)  ? \'row\' : \'\'}}"><div layout="row"><prm-stack-map ng-if="$ctrl.isSuprima() && $ctrl.currLoc.location.stackMapUrl" [map-url]="$ctrl.currLoc.location.stackMapUrl"></prm-stack-map></div><div layout="row" ng-hide="$ctrl.currLoc.locationNoItems" layout-align="end center"><md-button class="md-icon-button md-mini" aria-label="{{\'nui.aria.locationItems.filterButton\' | translate}}" ng-if="($ctrl.isFilter || $ctrl.isFiltered) && $ctrl.isAnyFilterFilled()" (click)="$ctrl.filterClick();"><md-tooltip><span ng-if="$ctrl.isLocationsFilterVisible" translate="nui.aria.locationItems.filterOut"></span> <span ng-if="!$ctrl.isLocationsFilterVisible" translate="nui.aria.locationItems.filter"></span></md-tooltip><prm-icon ng-if="!$ctrl.isLocationsFilterVisible" icon-type="{{$ctrl.opacLocations.filter.type}}" svg-icon-set="{{$ctrl.opacLocations.filter.iconSet}}" icon-definition="{{$ctrl.opacLocations.filter.icon}}"></prm-icon><prm-icon ng-if="$ctrl.isLocationsFilterVisible" icon-type="{{$ctrl.opacLocations.filterOut.type}}" svg-icon-set="{{$ctrl.opacLocations.filterOut.iconSet}}" icon-definition="{{$ctrl.opacLocations.filterOut.icon}}"></prm-icon></md-button><div class="vertical-divider transparent-divider"></div><md-button aria-label="{{$ctrl.currLoc.isExpandAll ?  (\'nui.locItems.collapse\' | translate) : (\'nui.locItems.expand\' | translate)}}" class="md-icon-button header-action expand-collapse-button" (click)="$ctrl.toggleExpandAll($ctrl.currLoc)"><md-tooltip md-autohide="true"><span ng-if="$ctrl.currLoc.isExpandAll" translate="nui.locItems.collapse"></span> <span ng-if="!$ctrl.currLoc.isExpandAll" translate="nui.locItems.expand"></span></md-tooltip><span ng-if="!$ctrl.currLoc.isExpandAll"><prm-icon icon-type="{{$ctrl.opacLocations.expandAllIcon.type}}" svg-icon-set="{{$ctrl.opacLocations.expandAllIcon.iconSet}}" icon-definition="{{$ctrl.opacLocations.expandAllIcon.icon}}"></prm-icon></span><span ng-if="$ctrl.currLoc.isExpandAll"><prm-icon icon-type="{{$ctrl.opacLocations.collapseAllIcon.type}}" svg-icon-set="{{$ctrl.opacLocations.collapseAllIcon.iconSet}}" icon-definition="{{$ctrl.opacLocations.collapseAllIcon.icon}}"></prm-icon></span></md-button></div></div></div><prm-locations-filter ng-if="$ctrl.isLocationsFilterVisible && $ctrl.isAnyFilterFilled()" [item]="$ctrl.item" [is-disabled]="$ctrl.isItemsFilterDisable($ctrl.item)" (filter-event)="$ctrl.handleFilterEvent($event)" [is-after-filtering]="$ctrl.isFiltered" [drop-down-options]="$ctrl.dropDownOptions" [filters]="$ctrl.filters" (clear-filters-event)="$ctrl.clearFilters(true)"></prm-locations-filter><div ng-if="$ctrl.currLoc.locationNoItems" class="padding-left-medium"><div class="bar alert-bar margin-bottom-medium" layout="row" layout-align="start center"><span flex ng-if="$ctrl.isLoggedIn();" translate="nui.locations.noitems.signin"></span> <span flex ng-if="!$ctrl.isLoggedIn();" translate="nui.locations.noitems.guest"></span></div></div><md-list layout="column" ng-hide="$ctrl.currLoc.locationNoItems" class="separate-list-items margin-left-medium"><md-list-item ng-repeat="item in $ctrl.currLoc.items track by $index" class="md-2-line has-expand" ng-if="!$ctrl.currLoc.isMore || !$last" ng-class="item.isExpanded?\'item-expanded\':\'\'" (click)="$ctrl.expandCollapse(item)"><div layout="row" aria-live="assertive" flex><div class="md-list-item-text" layout="row" layout-wrap flex><div flex-xs="100"><div ng-if="item.itemFields[0]"><span translate="nui.item.brief.1"></span> <span class="item-status" ng-click="$ctrl.checkClick($event)" ng-bind-html="item.itemFields[0]"/><md-tooltip>{{item.itemFields[0]}}</md-tooltip></div><div ng-if="item.itemFields[1]"><span class="location-item"><span translate="nui.item.brief.2"></span> <span class="item-days" ng-click="$ctrl.checkClick($event)" dir="auto" ng-bind-html="item.itemFields[1]"/></span><md-tooltip>{{item.itemFields[1]}}</md-tooltip></div></div><div class="weak-text" flex flex-xs="100"><div ng-if="item.itemFields[2]"><p><span translate="nui.item.brief.3"></span> <span ng-click="$ctrl.checkClick($event)" ng-bind-html="item.itemFields[2]"/></p><md-tooltip>{{item.itemFields[2]}}</md-tooltip></div><div ng-if="item.itemFields[3]"><p><span translate="nui.item.brief.4"></span> <span ng-click="$ctrl.checkClick($event)" ng-bind-html="item.itemFields[3]"/></p><md-tooltip>{{item.itemFields[3]}}</md-tooltip></div><div ng-if="item.isExpanded"><div ng-repeat="full in item.fullItemFields track by $index"><p ng-click="$ctrl.checkClick($event)" ng-bind-html="full"></p><md-tooltip>{{item.fullItemValues[$index]}}</md-tooltip></div></div></div><div layout-align="end center" layout="row" layout-wrap flex-xs="100" flex-sm="30"><div ng-if="!$ctrl.currLoc.location.isValidUser"><span translate="item.request.not_available"></span></div><div ng-if="$ctrl.currLoc.location.isValidUser && item.listOfServices.length === 0  && $ctrl.isLoggedIn()"><span translate="item.request.blocked"></span></div><div layout="row" layout-align="center center" ng-repeat="service in item.listOfServices track by $index"><prm-service-button ng-if="$ctrl.allowService() && (service.enableWithoutLogin  || $ctrl.isLoggedIn())" [service]="service" (change-tab-event)="::$ctrl.onChangeTabEvent($event)" [parent-tab]="::$ctrl.tabId" [request-parameters]="$ctrl.getServiceAdditionalParams(item, service)" method="GET"></prm-service-button><div class="skewed-divider" ng-if="!$last"></div></div></div></div><div class="align-self-stretch"><md-button class="md-secondary item-expand-button" aria-expanded="{{item.isExpanded}}" aria-label="{{$ctrl.getExpandCollapseButtonAriaLabel(item)}}"><prm-icon ng-class="{\'rotate-180\': item.isExpanded}" icon-type="{{$ctrl.opacLocations.expandIcon.type}}" svg-icon-set="{{$ctrl.opacLocations.expandIcon.iconSet}}" icon-definition="{{$ctrl.opacLocations.expandIcon.icon}}"></prm-icon></md-button></div></div><prm-location-item-after parent-ctrl="$ctrl"></prm-location-item-after></md-list-item><prm-spinner ng-if="$ctrl.inProgress" class="inline-loader half-transparent no-text" layout="row" layout-align="center center"></prm-spinner></md-list><md-button ng-if="!$ctrl.currLoc.locationNoItems && $ctrl.currLoc.isMore" class="button-link link-alt-color zero-margin" (click)="$ctrl.getlocationsItems($ctrl.currLoc, true);" ng-hide="!$ctrl.currLoc.isMore" aria-label="{{\'fulldisplay.locations.showmore\' | translate}}"><span class="bold-text padding-small" translate="fulldisplay.locations.showmore"></span></md-button><prm-location-items-after parent-ctrl="$ctrl"></prm-location-items-after>');
$templateCache.put('components/search/fullView/getit/opac/locations/locations.html','<div layout="row" layout-align="space-between center"><h3 class="section-title"><span translate="{{$ctrl.headerLabel}}"></span></h3><p ng-if="$ctrl.locationsPrefilterActive"><span translate="nui.locations.prefilter.filtered"></span><span> </span><span translate="nui.locations.prefilter.unfilter" tabindex="0" class="disable-prefilter-button" ng-click="$ctrl.disableLocationsPrefilter()"></span></p><md-button class="md-icon-button md-mini" aria-label="{{$ctrl.isLocationsFilterVisible ? (\'nui.aria.location.filterOut\' | translate) : (\'nui.aria.locationItems.filterButton\' | translate)}}" aria-expanded="{{$ctrl.isLocationsFilterVisible}}" ng-if="$ctrl.displayFiltersButton && !$ctrl.locationsPrefilterActive" (click)="$ctrl.filterClick()"><md-tooltip><span translate=""></span> <span ng-if="$ctrl.isLocationsFilterVisible" translate="nui.aria.location.filterOut"></span> <span ng-if="!$ctrl.isLocationsFilterVisible" translate="nui.aria.location.filter"></span></md-tooltip><prm-icon ng-if="!$ctrl.isLocationsFilterVisible" icon-type="{{$ctrl.opacLocations.filter.type}}" svg-icon-set="{{$ctrl.opacLocations.filter.iconSet}}" icon-definition="{{$ctrl.opacLocations.filter.icon}}"></prm-icon><prm-icon ng-if="$ctrl.isLocationsFilterVisible" icon-type="{{$ctrl.opacLocations.filterOut.type}}" svg-icon-set="{{$ctrl.opacLocations.filterOut.iconSet}}" icon-definition="{{$ctrl.opacLocations.filterOut.icon}}"></prm-icon></md-button></div><prm-locations-filter ng-if="$ctrl.isLocationsFilterVisible" (clear-filters-event)="$ctrl.clearFilters(true)" (filter-event)="$ctrl.handleFilterEvent($event)" [is-after-filtering]="$ctrl.filtered" [drop-down-options]="$ctrl.dropDownOptions" [item]="$ctrl.item" [filters]="$ctrl.filters"></prm-locations-filter><div layout="column" layout-align="start start space-between center"><md-button class="button-right-align button-link link-alt-color zero-margin" ng-if="$ctrl.showRegisterUser() && !$ctrl.manualRegistrationInProgress" (click)="$ctrl.reloadWithRegisterUser()" aria-label="{{\'nui.fulldisplay.otherLocations.register\' | translate}}"><span class="bold-text padding-small" translate="nui.fulldisplay.otherLocations.register"></span></md-button><prm-spinner ng-if="$ctrl.manualRegistrationInProgress" class="inline-loader half-transparent no-text" layout="row" layout-align="center center"></prm-spinner><span ng-if="!$ctrl.showRegisterUser() && $ctrl.manualRegistrationFailed" class="padding-small prm-warning-color" translate="nui.bor_info_failed"></span></div><div layout="column" class="padding-left-medium" layout-align="start start space-between center" ng-if="$ctrl.enableLibraryLevelList"><md-list class="separate-list-items margin-bottom-medium padding-bottom-zero layout-full-width"><md-list-item class="md-2-line" ng-repeat="lib in $ctrl.Library"><prm-library tabindex="-1" class="layout-full-width layout-display-flex" [lib]="lib" (click-event)="$ctrl.sendLocationFilter(lib);"></prm-library></md-list-item></md-list></div><div class="padding-left-medium" ng-if="!$ctrl.enableLibraryLevelList"><div ng-if="$ctrl.locations.length==0 && (!$ctrl.otherLocations || $ctrl.otherLocations.length==0)" class="bar alert-bar" layout="row" layout-align="start center"><span flex translate="nui.filter.noitems"></span></div><md-list class="separate-list-items margin-bottom-medium padding-bottom-zero"><md-list-item class="md-2-line" ng-repeat="loc in $ctrl.locationsForDisplay track by $index "><prm-location tabindex="-1" class="layout-full-width layout-display-flex" [loc]="loc" [display-holdings-in-locations-list]="$ctrl.isShouldDisplayHoldingsInLocationsList()" [service-scroll-id]="::$ctrl.serviceScrollId" (click-event)="$ctrl.gotoLocationItemsTab(loc, false,$ctrl.isFiltered);"></prm-location></md-list-item></md-list><md-button class="button-link link-alt-color zero-margin" ng-if="$ctrl.locations.length>10 && !$ctrl.hideShowmore" (click)="$ctrl.showMore()" aria-label="{{\'fulldisplay.holdings.showmore\' | translate}}"><span class="bold-text padding-small" translate="fulldisplay.holdings.showmore"></span></md-button><h4 ng-if="$ctrl.hasRelatedLocations" class="subsection-title" translate="nui.locations.related_locations"></h4><md-list class="separate-list-items margin-bottom-medium padding-bottom-zero"><md-list-item class="md-2-line" ng-repeat="loc in $ctrl.relatedLocations | limitTo: $ctrl.relatedLocationsListLimit track by $index"><prm-location class="layout-full-width layout-display-flex" [loc]="loc" [display-holdings-in-locations-list]="$ctrl.isShouldDisplayHoldingsInLocationsList()" [service-scroll-id]="::$ctrl.serviceScrollId" (click-event)="$ctrl.gotoLocationItemsTab(loc,false ,$ctrl.isFiltered);"></prm-location></md-list-item></md-list><md-button class="button-link link-alt-color zero-margin" ng-if="$ctrl.relatedLocations.length>$ctrl.relatedLocationsListLimit" (click)="$ctrl.showMoreRelatedLocations()" aria-label="{{\'fulldisplay.holdings.showmore\' | translate}}"><span class="bold-text padding-small" translate="fulldisplay.holdings.showmore"></span></md-button><h3 ng-if="$ctrl.otherLocations" class="medium-uppercase-bold zero-margin" translate="nui.locations.other_institutions"></h3><md-list class="separate-list-items"><md-list-item class="md-2-line" ng-repeat="loc in $ctrl.otherLocations track by $index"><prm-location class="layout-full-width layout-display-flex" [loc]="loc" [display-holdings-in-locations-list]="$ctrl.isShouldDisplayHoldingsInLocationsList()" [service-scroll-id]="::$ctrl.serviceScrollId" (click-event)="$ctrl.gotoLocationItemsTab(loc,false, $ctrl.isFiltered);"></prm-location></md-list-item></md-list></div><prm-locations-after parent-ctrl="$ctrl"></prm-locations-after>');
$templateCache.put('components/search/fullView/getit/opac/locationsFilter/alma-locations-filter.html','<div ng-if=" !$ctrl.isDisabled" class="bar filter-bar animate-horizontal-swap margin-bottom-small" layout="row" layout-align="start center" layout-wrap style="padding: .5em 1em; position: relative; border-radius: 3px;" layout-fill><span class="margin-right-small bold-text" translate="nui.aria.locationItems.filters"></span><md-input-container layout="row" layout-align="start" class="zero-padding margin-right-small" md-no-float><md-select ng-change="$ctrl.throwFilterEvent()" ng-disabled="$ctrl.isDisabled" ng-model="$ctrl.locationFilter" aria-label="{{\'fulldisplay.locations.locationFilter\' | translate}}" placeholder="{{\'fulldisplay.locations.locationFilter\' | translate}}" class="borderless"><md-option value="All" translate="fulldisplay.locations.locationFilter"></md-option><md-option ng-repeat="option in $ctrl.locationsDropDownOptions" value="{{$ctrl.getLocationCode(option)}}"><span>{{$ctrl.getLocationName(option)}}</span></md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding margin-right-small" md-no-float><md-select ng-change="$ctrl.throwFilterEvent()" ng-disabled="$ctrl.isDisabled" ng-model="$ctrl.volumeFilter" aria-label="{{\'fulldisplay.locations.volumeFilter\' | translate}}" placeholder="{{\'fulldisplay.locations.volumeFilter\' | translate}}" class="borderless"><md-option value="All" translate="fulldisplay.locations.volumeFilter"></md-option><md-option ng-repeat="option in $ctrl.volumeDropDownOptions" value="{{option}}">{{$ctrl.getFilterNameForVolume(option)}}</md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding" md-no-float><md-select ng-change="$ctrl.throwFilterEvent()" ng-disabled="$ctrl.isDisabled" ng-model="$ctrl.yearFilter" aria-label="{{\'fulldisplay.locations.yearFilter\' | translate}}" placeholder="{{\'fulldisplay.locations.yearFilter\' | translate}}" class="borderless"><md-option value="All" translate="fulldisplay.locations.yearFilter"></md-option><md-option ng-repeat="option in $ctrl.yearDropDownOptions" value="{{option}}">{{$ctrl.getFilterName(option)}}</md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding" md-no-float><md-select ng-change="$ctrl.throwFilterEvent()" ng-disabled="$ctrl.isDisabled" ng-model="$ctrl.descriptionFilter" aria-label="{{\'fulldisplay.locations.descriptionFilter\' | translate}}" placeholder="{{\'fulldisplay.locations.descriptionFilter\' | translate}}" class="borderless"><md-option value="All" translate="fulldisplay.locations.descriptionFilter"></md-option><md-option ng-repeat="option in $ctrl.descriptionDropDownOptions" value="{{option}}">{{$ctrl.getFilterName(option)}}</md-option></md-select></md-input-container><div flex></div><md-button ng-if="$ctrl.changed" class="button-as-link button-with-icon filter-align margin-zero" aria-label="{{\'nui.aria.locationItems.clearfilters\' | translate}}" style="right: -.5em" (click)="$ctrl.clearFilters(true)"><prm-icon icon-type="{{$ctrl.opacLocations.close.type}}" svg-icon-set="{{$ctrl.opacLocations.close.iconSet}}" icon-definition="{{$ctrl.opacLocations.close.icon}}"></prm-icon><span translate="nui.locations.filter.clear"></span></md-button></div>');
$templateCache.put('components/search/fullView/getit/opac/locationsFilter/locations-filter.html','<div ng-if="!$ctrl.isAfterFiltering && !$ctrl.isDisabled" class="bar filter-bar animate-horizontal-swap margin-bottom-small" layout="row" layout-align="start center" layout-wrap style="padding: .5em 1em; position: relative; border-radius: 3px;" layout-fill><span class="margin-right-small" translate="nui.aria.locationItems.filters"></span><md-input-container layout="row" layout-align="start" class="zero-padding margin-right-small"><md-select ng-change="$ctrl.onChanged()" ng-disabled="$ctrl.isDisabled" ng-if="$ctrl.locationsDropDownOptions.length > 1" ng-model="$ctrl.locationFilter" placeholder="{{\'fulldisplay.locations.locationFilter\' | translate}}" class="borderless"><md-option value="All" translate="fulldisplay.locations.locationFilter"></md-option><md-option ng-repeat="option in $ctrl.locationsDropDownOptions" value="{{$ctrl.getLocationCode(option)}}"><span>{{$ctrl.getLocationName(option)}}</span></md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding margin-right-small"><md-select ng-change="$ctrl.onChanged()" ng-disabled="$ctrl.isDisabled" ng-if="$ctrl.volumeDropDownOptions.length > 1" ng-model="$ctrl.volumeFilter" placeholder="{{\'fulldisplay.locations.volumeFilter\' | translate}}" class="borderless"><md-option value="All" translate="fulldisplay.locations.volumeFilter"></md-option><md-option ng-repeat="option in $ctrl.volumeDropDownOptions" value="{{option}}">{{option}}</md-option></md-select></md-input-container><md-input-container layout="row" layout-align="start" class="zero-padding"><md-select ng-change="$ctrl.onChanged()" ng-disabled="$ctrl.isDisabled" ng-if="$ctrl.yearDropDownOptions.length > 1" ng-model="$ctrl.yearFilter" placeholder="{{\'fulldisplay.locations.yearFilter\' | translate}}" class="borderless"><md-option value="All" translate="fulldisplay.locations.yearFilter"></md-option><md-option ng-repeat="option in $ctrl.yearDropDownOptions" value="{{option}}">{{option}}</md-option></md-select></md-input-container><div flex></div><md-button ng-if="$ctrl.changed" class="button-as-link" aria-label="{{\'nui.aria.locationItems.filterButton\' | translate}}" style="right: -.5em" (click)="$ctrl.throwFilterEvent()"><span translate="nui.locations.filter.apply"></span></md-button><md-button ng-if="$ctrl.changed" class="button-as-link button-with-icon filter-align" aria-label="{{\'nui.aria.locationItems.filterButton\' | translate}}" style="right: -.5em" (click)="$ctrl.clearFilters()"><prm-icon icon-type="{{$ctrl.opacLocations.close.type}}" svg-icon-set="{{$ctrl.opacLocations.close.iconSet}}" icon-definition="{{$ctrl.opacLocations.close.icon}}"></prm-icon><span translate="nui.locations.filter.clear"></span></md-button></div><div ng-if="$ctrl.isAfterFiltering" class="bar alert-bar" layout="row" layout-align="start center" style="margin-bottom: 1em;"><span ng-bind-html="$ctrl.filtersMsg"></span><md-button class="cancel-align button-as-link button-with-icon" aria-label="{{\'nui.aria.locationItems.filterButton\' | translate}}" style="right: -.5em" (click)="$ctrl.clearFilters()"><prm-icon icon-type="{{$ctrl.opacLocations.close.type}}" svg-icon-set="{{$ctrl.opacLocations.close.iconSet}}" icon-definition="{{$ctrl.opacLocations.close.icon}}"></prm-icon><span translate="nui.locations.filter.clear" class="text-trim-ellipsis"></span></md-button></div>');
$templateCache.put('components/search/fullView/getit/opac/request/request-services-ovl.html','<div ng-if="!$ctrl.hasLocations() && $ctrl.requestLink && $ctrl.requestLink !== \'ovp\'" layout="row" layout-align="start center" layout-fill><h3 class="block-label medium-uppercase-bold zero-margin"><span translate="nui.request.request"></span></h3><md-content layout="row" layout-fill class="padded-container"><a class="arrow-link" href="{{$ctrl.requestLink}}" target="_blank" layout="row"><span translate="nui.request.link"></span><prm-icon external-link icon-type="{{$ctrl.availabilityLineIcons.externalLink.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.externalLink.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.externalLink.icon}}"></prm-icon><prm-icon link-arrow icon-type="{{$ctrl.availabilityLineIcons.arrowRight.type}}" svg-icon-set="{{$ctrl.availabilityLineIcons.arrowRight.iconSet}}" icon-definition="{{$ctrl.availabilityLineIcons.arrowRight.icon}}"></prm-icon></a></md-content></div><prm-requests-services-ovl-after parent-ctrl="$ctrl"></prm-requests-services-ovl-after>');
$templateCache.put('components/search/fullView/getit/opac/request/request-services.html','<prm-spinner class="margin-left-medium inline-loader dark-on-light" ng-if="$ctrl.servicesListIsLoading"></prm-spinner><div ng-if="$ctrl.services.serviceinfo && $ctrl.services.serviceinfo.length > 0 && !$ctrl.ngrsEnabledAndRSLinkIsOnlyService()"><div class="labeled-block" layout="row"><h5 class="section-title"><span translate="nui.request.request"></span></h5><div flex class="block-body links-block" layout="row" layout-wrap><div class="links-block-item separated-block-item" ng-repeat="service in $ctrl.filteredServices()"><prm-service-button [service]="::service" (change-tab-event)="::$ctrl.changeTab($event)" [parent-tab]="::$ctrl.tabId" [request-parameters]="$ctrl.getServiceAdditionalParams(service)" [env-url]="::$ctrl.envURL" method="GET"></prm-service-button></div></div></div><md-divider class="inner-divider"></md-divider></div><div ng-if="$ctrl.isLoggedIn() && !$ctrl.servicesListIsLoading && (!$ctrl.services.serviceinfo || $ctrl.services.serviceinfo.length == 0)"><span translate="nui.request.norequests"></span></div><prm-alert-bar ng-if="!$ctrl.isPartialAlma() && !$ctrl.noLogin && !$ctrl.isLoggedIn() && !$ctrl.isLoggedInIDP() && !$ctrl.memberInst && !$ctrl.isRapidoSAEnabled" [alert-object]="$ctrl.reqAlert" class="margin-bottom-small display-block"></prm-alert-bar><prm-request-services-after parent-ctrl="$ctrl"></prm-request-services-after>');
$templateCache.put('components/search/fullView/getit/opac/request/request.html','<div layout="row" class="form-focus service-form" layout-margin ng-class="($ctrl.formReadonly && $ctrl.formReadonly.length > 0) ? \'form-read-only\' :\'\'"><div class="service-form-loader" ng-if="requestFormLoader"><prm-spinner class="dark-on-light" ng-if="!$ctrl.services.serviceinfo"></prm-spinner></div><div ng-if="$ctrl.formReadonly && $ctrl.formReadonly.length>0" class="service-form-static-panel zero-margin" flex layout="column" layout-padding><form name="requestForm" (submit)="$ctrl.submit()" novalidate class="zero-padding"><div class="content-header"><h3 class="light-text md-title zero-margin-top">{{$ctrl.requestHeader | translate}}</h3></div><div flex layout="row" layout-align="center center"><div class="layout-full-width" layout="column" layout-align="start" layout-padding><div ng-repeat="field in $ctrl.formReadonly" class="md-input-container-dummy dummy-input-has-value" layout="column"><prm-form-field [field]="field" [data]="$ctrl.formData" form-name="requestForm" isRequestSubmitted="$ctrl.isRequestSubmitted"></prm-form-field></div></div></div><div ng-if="!$ctrl.displayForm" layout="row" layout-align="end" class="layout-full-width"><md-button class="button-with-icon button-confirm" type="submit"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{$ctrl.submitLabel | translate}}</span></md-button></div></form></div><div ng-if="$ctrl.displayForm" class="service-form-dynamic-panel zero-margin" flex layout="column" layout-padding><form name="requestForm" (submit)="requestForm.$valid && $ctrl.submit()" novalidate><div ng-if="!$ctrl.formReadonly || !$ctrl.formReadonly.length > 0" class="content-header" role="alert"><h3 class="light-text md-title zero-margin-top" translate="{{$ctrl.requestHeader}}"></h3></div><div class="validationFeedback" ng-if="!requestForm.$valid && requestForm.$submitted && !$ctrl.isRequestSubmitted && requestForm.$error.required.length >0"><span id="validationFeedback" tabindex="-1" translate="nui.mandatory.header"></span><ul><li ng-repeat="field in ::$ctrl.form" ng-if="field.uiType != \'hidden\' && requestForm[field.name].$error.required"><md-button class="neutralized-button" (click)="$ctrl.scrollToElementId(\'form_field_{{field.key}}\')">{{::$ctrl.getRequiredLabel(field) | translate}}</md-button></li></ul></div><div ng-if="$ctrl.showDescription" class="request-form-message"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-info"></prm-icon><span ng-if="$ctrl.isLabelIncludeHtml($ctrl.requestFormDescription|translate)" class="form_message_text word-break" ng-bind-html="$ctrl.removeLabelHtmlPrefix($ctrl.requestFormDescription|translate)"></span> <span ng-if="!$ctrl.isLabelIncludeHtml($ctrl.requestFormDescription|translate)" class="form_message_text word-break" translate="{{$ctrl.requestFormDescription}}"></span></div><div flex layout="row" layout-align="center center" aria-live="assertive"><div layout="column" layout-align="start"><div aria-live="polite" ng-if="$ctrl.isCheckAvailabilityEnabledForForm() && $ctrl.availabilityCheckRan"><div ng-if="$ctrl.itemAvailabilityCheckInProgress" layout="row"><span translate="nui.request.checkAvailability.inProgress"></span><prm-spinner class="dark-on-light inline-loader"></prm-spinner></div><div ng-if="!$ctrl.itemAvailabilityCheckInProgress"><span class="item-available" ng-if="$ctrl.itemAvailability === true" translate="nui.request.checkAvailability.available"></span> <span class="item-not-available" ng-if="$ctrl.itemAvailability === false" translate="nui.request.checkAvailability.notAvailable"></span> <span ng-if="$ctrl.itemAvailability === undefined" translate="nui.request.checkAvailability.checkFailed"></span></div></div><div aria-live="polite" ng-if="$ctrl.displayFindDescription && $ctrl.findItemLevelDescriptionsRan"><div ng-if="$ctrl.findItemLevelDescriptionsInProgress" layout="row" class="service-form-item"><span translate="almaResourceSharing.checkDescription"></span><prm-spinner class="dark-on-light inline-loader"></prm-spinner></div><div ng-if="!$ctrl.findItemLevelDescriptionsInProgress"><span ng-if="$ctrl.itemDescriptionsNotEmpty != true" class="service-form-item" translate="almaResourceSharing.descriptionNotFound"></span></div></div><prm-form-field ng-repeat="field in $ctrl.form" ng-if="field.uiType !== \'hidden\'" [field]="field" [data]="$ctrl.formData" [form]="::this.requestForm" ng-class="{ \'first-item\': $first ,\'service-form-item-submitted\':$ctrl.isRequestSubmitted}" class="service-form-item" (button-clicked)="$ctrl.buttonClicked($event)" [is-request-submitted]="$ctrl.isRequestSubmitted"></prm-form-field></div></div><div layout="column" layout-align="end" ng-if="!$ctrl.detectMobile()"><md-button class="button-with-icon button-secondary" (click)="$ctrl.resetForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><span flex></span><md-button ng-if="$ctrl.isCheckAvailabilityEnabledForForm()" ng-disabled="$ctrl.isCheckAvailabilityButtonDisabled()" class="" (click)="$ctrl.checkAvailability()"><span translate="nui.request.checkAvailability.checkButtonText"></span></md-button><div ng-if="$ctrl.isSubmitDisabledDueItemAvailability()" layout="row" layout-align="center"><span translate="nui.request.checkAvailability.pleaseCheckAvailability"></span></div><div layout="row" layout-align="center" layout-fill><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.formSubmited || $ctrl.isSubmitDisabledDueItemAvailability()" ng-click="$ctrl.scrollToElementId(\'validationFeedback\')"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{$ctrl.submitLabel | translate}}</span></md-button><md-tooltip ng-if="$ctrl.formSubmited"><span translate="nui.request.tooltip.submitted"></span></md-tooltip></div></div><div layout="column" layout-align="end" ng-if="$ctrl.detectMobile()"><md-button class="button-with-icon button-secondary" (click)="$ctrl.resetForm()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="reload"></prm-icon><span translate="nui.reset"></span></md-button><span flex></span><md-button ng-if="$ctrl.isCheckAvailabilityEnabledForForm()" ng-disabled="$ctrl.isCheckAvailabilityButtonDisabled()" class="" (click)="$ctrl.checkAvailability()"><span translate="nui.request.checkAvailability.checkButtonText"></span></md-button><div ng-if="$ctrl.isSubmitDisabledDueItemAvailability()" layout="row" layout-align="center"><span translate="nui.request.checkAvailability.pleaseCheckAvailability"></span></div><div layout="row" layout-align="center" layout-fill><md-button class="button-with-icon button-confirm" type="submit" ng-disabled="$ctrl.formSubmited || $ctrl.isSubmitDisabledDueItemAvailability()"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="send"></prm-icon><span>{{$ctrl.submitLabel | translate}}</span></md-button><md-tooltip ng-if="$ctrl.formSubmited"><span translate="nui.request.tooltip.submitted"></span></md-tooltip></div></div></form></div></div><prm-request-after parent-ctrl="$ctrl"></prm-request-after>');
$templateCache.put('components/search/fullView/getit/opac/requestApproval/request-approval.html','<form id="request-approval-form"><md-dialog-content layout="column" layout-padding layout-margin><h3 class="dialog-title light-text" translate="{{::$ctrl.header}}"></h3><span ng-if="$ctrl.getLink()"><a ng-click="$ctrl.sendLinkClickBeacon()" ng-href="{{$ctrl.getLink()}}" target="_blank" translate="{{::$ctrl.getLinkLabel()}}"></a></span><p translate="{{::$ctrl.message}}"></p></md-dialog-content><md-dialog-actions class="md-actions"><md-button class="" (click)="$ctrl.cancel()"><span translate="{{::$ctrl.cancelRequest}}"></span></md-button><md-button class="button-confirm" ng-disabled="$ctrl.isDisabled()" ng-click="$ctrl.commit()"><span translate="{{::$ctrl.approveRequest}}"></span></md-button></md-dialog-actions></form><prm-request-approval-after parent-ctrl="$ctrl"></prm-request-approval-after>');
$templateCache.put('components/search/fullView/ngrs/getItRequest/offerDetailsTile/offerDetailsTile.html','<div class="offer_detail" ng-if="$ctrl.getOfferSupplyTime() !== undefined || $ctrl.getOfferLoanPeriod() !== undefined"><div class="details_text"><div class="first_line_s" ng-if="::$ctrl.getOfferSupplyTime() !== undefined"><span translate="nui.ngrs.physical.deliverdin"></span>&nbsp;<span class="supply_time_s">{{$ctrl.getOfferSupplyTime()}}</span>&nbsp;<span class="days_s" translate="nui.ngrs.search.brief.digital.hours" ng-if="::$ctrl.isDigitalOffer()"></span>&nbsp;<span class="days_s" translate="nui.ngrs.search.brief.physical.deliverdin.days" ng-if="::!$ctrl.isDigitalOffer()"></span></div><div class="first_line" ng-if="::$ctrl.getOfferSupplyTime() !== undefined"><span translate="nui.ngrs.search.brief.digital.getAChapter" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() == \'book\'"></span> <span translate="nui.ngrs.search.brief.digital.getDigitalCopy" ng-if="::$ctrl.isDigitalOffer() && $ctrl.getResourceType() != \'book\'"></span> <span translate="nui.ngrs.physical.deliverdin" ng-if="!$ctrl.isDigitalOffer() && !$ctrl.isUnavailableResource()"></span> <span translate="rapido.tiles.physical.best_offer.delivery_unknown" ng-if="$ctrl.isUnavailableResource()"></span></div><div class="second_line" ng-if="$ctrl.getOfferSupplyTime() !== undefined && !$ctrl.isUnavailableResource()"><span class="supply_time">{{$ctrl.getOfferSupplyTime()}}</span>&nbsp;<span class="days" translate="nui.ngrs.search.brief.digital.hours" ng-if="::$ctrl.isDigitalOffer()"></span><span class="days" translate="nui.ngrs.search.brief.physical.deliverdin.days" ng-if="::!$ctrl.isDigitalOffer()"></span></div><div class="third_line" ng-if="::!$ctrl.isDigitalOffer() && $ctrl.getOfferLoanPeriod() !== undefined && $ctrl.getOfferSupplyTime() !== undefined"><span translate="nui.ngrs.form.physical.keepfor"></span>&nbsp;<span class="bold-text">{{$ctrl.getOfferLoanPeriod()}}</span>&nbsp;<span translate="nui.ngrs.search.brief.physical.keepfor.days"></span></div><div class="first_line" ng-if="::!$ctrl.isDigitalOffer() && $ctrl.getOfferLoanPeriod() !== undefined && $ctrl.getOfferSupplyTime() === undefined"><span translate="nui.ngrs.form.physical.keepfor"></span></div><div class="second_line" ng-if="::!$ctrl.isDigitalOffer() && $ctrl.getOfferLoanPeriod() !== undefined && $ctrl.getOfferSupplyTime() === undefined"><span class="supply_time">{{$ctrl.getOfferLoanPeriod()}}</span>&nbsp;<span class="days" translate="nui.ngrs.search.brief.physical.deliverdin.days"></span></div><div ng-if="$ctrl.isShowPatronCost()" class="third_line"><span translate="rapido.tiles.digital.best_offer.line_4"></span>&nbsp; <span class="bold-text">{{$ctrl.getPatronCost()}}</span>&nbsp; <span class="bold-text">{{$ctrl.getCurrency()}}</span>&nbsp;</div></div></div><div class="offer_detail" ng-if="$ctrl.isNoOfferAfterRefine()"><div class="details_text"><div class="third_line"><span translate="rapido.tiles.physical.no_best_offer.line_3" class="bold-text"></span></div></div></div><prm-offer-details-tile-after parent-ctrl="$ctrl"></prm-offer-details-tile-after>');
$templateCache.put('components/search/fullView/ngrs/ngrsBriefResultLine/briefResultDeliveryOptionLink/briefResultDeliveryOptionLink.html','<a id="options_link"><div class="flex-container"><md-icon class="ng-scope md-primoExplore-theme"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-globe"></prm-icon></md-icon><md-button prm-brief-internal-button-marker class="neutralized-button arrow-link-button"><span class="button-content"><span id="options_text" translate="nui.ngrs.search.brief.options"></span></span></md-button></div></a><prm-brief-result-delivery-option-link-after parent-ctrl="$ctrl"></prm-brief-result-delivery-option-link-after>');
$templateCache.put('components/search/fullView/ngrs/ngrsBriefResultLine/briefResultDigitalBestOffer/briefResultDigitalBestOffer.html','<a id="physical_link" ng-if="$ctrl.isDigitalOfferFound()" class="button-link button-with-icon margin-left-zero ng-scope md-primoExplore-theme md-ink-ripple" type="button"><div class="flex-container"><md-icon class="ng-scope md-primoExplore-theme"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-delivery-envelope"></prm-icon></md-icon><md-button prm-brief-internal-button-marker class="neutralized-button arrow-link-button" (click)="$ctrl.showFormOnClick($event)"><span class="button-content"><span translate="nui.ngrs.search.brief.digital.getAChapter"></span> <span id="supply_time">{{$ctrl.getDigitalSupplyTime()}}</span> <span translate="nui.ngrs.search.brief.digital.hours"></span></span></md-button></div></a><prm-brief-result-digital-best-offer-after parent-ctrl="$ctrl"></prm-brief-result-digital-best-offer-after>');
$templateCache.put('components/search/fullView/ngrs/ngrsBriefResultLine/briefResultPhysicalBestOffer/briefResultPhysicalBestOffer.html','<a id="physical_link" ng-if="$ctrl.offerFound" class="button-link button-with-icon margin-left-zero ng-scope md-primoExplore-theme md-ink-ripple" type="button"><div class="flex-container"><md-icon class="ng-scope md-primoExplore-theme"><prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="ngrs-delivery-box"></prm-icon></md-icon><md-button prm-brief-internal-button-marker class="neutralized-button arrow-link-button" data-custom-button="action" hide-xs="" (click)="$ctrl.showFormOnClick($event)"><span class="button-content"><span translate="nui.ngrs.search.brief.physical.deliverdin"></span> <span id="supply_time">{{$ctrl.getSupplyTime()}}</span> <span id="supply_time_days" translate="nui.ngrs.search.brief.physical.deliverdin.days"></span> <span translate="nui.ngrs.search.brief.physical.keepfor"></span> <span id="loan_period">{{$ctrl.getLoanPeriod()}}</span> <span translate="nui.ngrs.search.brief.physical.keepfor.days"></span></span></md-button></div></a><prm-brief-result-physical-best-offer-after parent-ctrl="$ctrl"></prm-brief-result-physical-best-offer-after>');
$templateCache.put('components/search/fullView/ngrs/progressBar/progressCheckBox/progress-check-box.html','<hr ng-class="$ctrl.isChecked()? \'checked\' : \'unchecked\'"><div class="container"><div class="round" role="img" aria-label="{{$ctrl.getStatusAriaLable()}}"><input type="checkbox" id="checkbox" ng-disabled="true" ng-checked="$ctrl.isChecked()"/> <label for="checkbox"></label></div><div class="status"><span translate="{{$ctrl.getStatusLabel()}}"></span></div><div class="date" ng-if="$ctrl.isChecked()"><span>{{$ctrl.getDate()}}</span></div></div><prm-progress-checkbox-after parent-ctrl="$ctrl"></prm-progress-checkbox-after>');
$templateCache.put('components/search/fullView/getit/opac/locations/location/location.html','<div class="neutralized-button layout-full-width layout-display-flex md-button" tabindex="0" layout="flex" ng-click="$ctrl.onClick()" aria-label="{{$ctrl.loc.location.librarycodeTranslation}} {{$ctrl.loc.location.subLocation | translate}},\r\n                        {{\'fulldisplay.availabilty.\' + $ctrl.loc.location.availabilityStatus | translate}},\r\n                         {{$ctrl.getButtonActionLabel() | translate}}" md-ink-ripple="red"><div layout="row" flex="100" layout-align="space-between center"><div ng-class="{\'md-list-item-text\': !$ctrl.mediaQueries.xs}" layout="row" layout-wrap flex><div ng-class="{\'md-list-item-text\': $ctrl.mediaQueries.xs}" flex flex-xs="100"><h3 ng-if="$ctrl.loc.location && $ctrl.getLibraryName($ctrl.loc.location)">{{$ctrl.loc.location.librarycodeTranslation}}</h3><h5 ng-if="$ctrl.loc.location.relatedTitle != null && $ctrl.loc.location.relatedTitle !== \'\'" class="related-title"><div class="display-for-location"><span class="related-title-location"><prm-icon icon-type="{{$ctrl.opacLocations.relatedArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.relatedArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.relatedArrow.icon}}" class="related-title-icon h-flipped"></prm-icon><span ng-if="$ctrl.loc.location.boundWith" translate="nui.location.unrelated_title" class="related-title-label"></span> <span ng-if="!$ctrl.loc.location.boundWith" translate="nui.location.related_title" class="related-title-label"></span></span><div class="display-related-title display-for-location"><span class="related-title-name margin-for-related-title">{{$ctrl.loc.location.relatedTitle}}</span> <span ng-if="$ctrl.loc.location.translateRelatedTitle" class="related-title-name display-related-title">{{$ctrl.loc.location.translateRelatedTitle}}</span></div></div></h5><p><span class="availability-status {{$ctrl.loc.location.availabilityStatus}}" translate="fulldisplay.availabilty.{{$ctrl.loc.location.availabilityStatus}}"></span> <span ng-if="$ctrl.loc.location.subLocation">,</span> <span ng-if="$ctrl.loc.location && $ctrl.loc.location.subLocation && $ctrl.getSubLibraryName($ctrl.loc.location)" ng-bind-html="$ctrl.loc.location.collectionTranslation"></span> <span ng-if="$ctrl.loc.location.callNumber">;</span> <span ng-if="$ctrl.loc.location.callNumber" dir="auto">{{$ctrl.loc.location.callNumber}}</span></p><prm-location-holdings ng-if="$ctrl.displayHoldingsInLocationsList" [curr-loc]="$ctrl.loc" [service-scroll-id]="::$ctrl.serviceScrollId"></prm-location-holdings></div><div layout-align="end center" layout="row" layout-wrap flex-xs="100" flex-sm="30" flex class="list-item-actions"><prm-stack-map ng-if="$ctrl.isSuprima() && $ctrl.loc.location.stackMapUrl" [map-url]="$ctrl.loc.location.stackMapUrl"></prm-stack-map></div></div><prm-icon ng-if="!$ctrl.isOvp()" class="padding-right-small location-arrow-icon" icon-type="{{$ctrl.opacLocations.externalLinkIcon.type}}" svg-icon-set="{{$ctrl.opacLocations.externalLinkIcon.iconSet}}" icon-definition="{{$ctrl.opacLocations.externalLinkIcon.icon}}"></prm-icon><prm-icon ng-if="$ctrl.isOvp()" class="padding-right-small location-arrow-icon" icon-type="{{$ctrl.opacLocations.rightArrow.type}}" svg-icon-set="{{$ctrl.opacLocations.rightArrow.iconSet}}" icon-definition="{{$ctrl.opacLocations.rightArrow.icon}}"></prm-icon></div></div><prm-location-after parent-ctrl="$ctrl"></prm-location-after>');
$templateCache.put('components/search/fullView/getit/opac/locations/location/locationHoldings.html','<div ng-if="$ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible" class="display-block" layout="row" layout-align="start start"><div layout="column"><div class="weak-text" ng-repeat="line in $ctrl.currLoc.summaryHoldings.baseSummaryShort track by $index" layout="row"><div translate="{{line.key}}" class="margin-right-small summary-brief-header" ng-class="{\'margin-right-medium\': $ctrl.mediaQueries.xs}"></div><span class="summary-brief word-break-all" class="" layout="row" ng-style="::(($ctrl.isIE && $ctrl.mediaQueries.xs) && {\'width\':\'14em\'})"><a ng-if="line.value.startsWith(\'http:\') || line.value.startsWith(\'https:\')" href="{{line.value}}">{{line.value}}</a> <span ng-if="!line.value.startsWith(\'http:\') && !line.value.startsWith(\'https:\')" ng-bind-html="line.value" class="location-item"></span></span></div></div></div><div ng-if="$ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible" layout="row" layout-align="start start" class="display-block"><div layout="column"><div ng-repeat="line in $ctrl.currLoc.summaryHoldings.allLines track by $index"><div class="margin-top-small"><span class="bold-text" translate="{{line.key}}"></span></div><div ng-repeat="lineItem in line.value track by $index" class="padding-left-medium"><span><a ng-if="lineItem.startsWith(\'http:\') || lineItem.startsWith(\'https:\')" href="{{lineItem}}">{{lineItem}}</a> <span ng-if="!lineItem.startsWith(\'http:\') && !lineItem.startsWith(\'https:\')" ng-bind-html="lineItem">{{lineItem}}</span></span></div></div></div></div><md-button class="button-as-link link-alt-color" (click)="$ctrl.viewMore(!$ctrl.summaryLinesVisible, $event)" ng-if="($ctrl.currLoc.locationNoItems ?  !$ctrl.summaryLinesVisible : $ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData" aria-label="{{\'nui.aria.locations.viewLess\' | translate}}"><span translate="nui.locations.viewLess" class="bold-text"></span></md-button><md-button class="button-as-link link-alt-color" (click)="$ctrl.viewMore(!$ctrl.summaryLinesVisible, $event)" ng-if="($ctrl.currLoc.locationNoItems ?  $ctrl.summaryLinesVisible : !$ctrl.summaryLinesVisible) && $ctrl.currLoc.summaryHoldings.baseSummaryShort.length > 0 && $ctrl.currLoc.isHoldingExpandedData" aria-label="{{\'nui.aria.locations.viewMore\' | translate}}"><span translate="nui.locations.viewMore" class="bold-text"></span></md-button><prm-location-holdings-after parent-ctrl="$ctrl"></prm-location-holdings-after>');
$templateCache.put('components/search/fullView/getit/opac/locations/stackMap/stack-map.html','<md-button ng-click="$event.stopPropagation();" href="{{$ctrl.mapUrl}}" class="zero-margin button-with-icon button-link" target="_blank"><prm-icon icon-type="{{$ctrl.opacLocations.locate.type}}" svg-icon-set="{{$ctrl.opacLocations.locate.iconSet}}" icon-definition="{{$ctrl.opacLocations.locate.icon}}"></prm-icon><span translate="nui.locations.locate"></span><md-tooltip md-autohide="true"><span translate="nui.locations.locate"></span></md-tooltip></md-button><prm-stack-map-after parent-ctrl="$ctrl"></prm-stack-map-after>');}]);